(this.webpackJsonpnoted=this.webpackJsonpnoted||[]).push([[0],{101:function(e,t,n){e.exports=n.p+"static/media/sp-tune.a3eeb710.mp3"},103:function(e,t,n){e.exports=n.p+"static/media/loading.ecf90307.svg"},104:function(e,t,n){e.exports=n.p+"static/media/friends.e8f88cde.svg"},105:function(e,t,n){e.exports=n.p+"static/media/ok.251fc800.svg"},115:function(e,t,n){e.exports=n.p+"static/media/edit.70454fa7.svg"},116:function(e,t,n){e.exports=n.p+"static/media/cross.21df9a01.svg"},117:function(e,t,n){e.exports=n.p+"static/media/arrow.15b12873.svg"},118:function(e,t,n){e.exports=n.p+"static/media/empty-star.d1d08460.svg"},119:function(e,t,n){e.exports=n.p+"static/media/star.7dc6e5d5.svg"},120:function(e,t,n){e.exports=n.p+"static/media/paint.7eefbfe1.svg"},121:function(e,t,n){e.exports=n.p+"static/media/splash-orange.9f89683d.svg"},122:function(e,t,n){e.exports=n.p+"static/media/splash-pink.5dca2b20.svg"},123:function(e,t,n){e.exports=n.p+"static/media/splash-yellow.5bd94ad1.svg"},124:function(e,t,n){e.exports=n.p+"static/media/splash-blue.edf66db8.svg"},125:function(e,t,n){e.exports=n.p+"static/media/splash-green.d3c3573a.svg"},126:function(e,t,n){e.exports=n.p+"static/media/upload.926d5c39.svg"},132:function(e,t,n){e.exports=n.p+"static/media/petek-logo.e7a6391d.png"},136:function(e,t,n){e.exports=n(236)},145:function(e,t,n){},150:function(e,t,n){},179:function(e,t){},236:function(e,t,n){"use strict";n.r(t);var a,c=n(1),r=n.n(c),o=n(22),i=n.n(o),s=n(11),u=(n(145),n(146),n(147),n(148),n(3)),l=n.n(u),d=n(5),p=(n(150),n(15)),m=n(10),f=n(101),h=n.n(f),v=n(102),g=n.n(v),b={setup:function(){a=g()("/")},terminate:function(){a=null},on:function(e,t){a.on(e,t)},off:function(e,t){a.off(e,t)},emit:function(e,t){a.emit(e,t)}};var E=n(23);var O={save:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)},load:function(e){var t=localStorage.getItem(e);return JSON.parse(t)}},y=n(38),N=n.n(y),w=N.a.create({withCredentials:!0}),j=function(e,t){return U(e,"GET",t)},C=function(e,t){return U(e,"POST",t)},k=function(e,t){return U(e,"PUT",t)},x=function(e,t){return U(e,"DELETE",t)};function U(e){return S.apply(this,arguments)}function S(){return(S=Object(d.a)(l.a.mark((function e(t){var n,a,c,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"get",a=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,w({method:n,url:"".concat("/api/").concat(t),data:a});case 5:return c=e.sent,e.abrupt("return",c.data);case 9:if(e.prev=9,e.t0=e.catch(2),401!==e.t0.response.status){e.next=13;break}return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var _=n(49),R=n.n(_),I="user";function T(){return(T=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O.load(I),console.log("in service? dono"),t){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,j("user/".concat(t._id));case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={userName:t.userName,fullName:t.fullName,password:t.password,pinnedNotes:[],notifications:[]},Object(E.a)(n,"pinnedNotes",[]),Object(E.a)(n,"imgUrl",t.imgUrl?t.imgUrl:R.a),Object(E.a)(n,"joinedAt",Date.now()),Object(E.a)(n,"friends",[]),a=n,console.log("USER",a),e.next=4,C("auth/signup",a);case 4:return a=e.sent,O.save(I,a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("auth/login",t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return O.save(I,n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(I),e.next=3,C("auth/logout");case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("user/".concat(t._id),t);case 2:return n=e.sent,O.save(I,n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{_id:t,imgUrl:n});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B={getById:function(){return T.apply(this,arguments)},signUp:function(e){return A.apply(this,arguments)},update:function(e){return M.apply(this,arguments)},login:function(e){return D.apply(this,arguments)},logout:function(){return F.apply(this,arguments)},getMinimalUser:function(e,t){return P.apply(this,arguments)}};function z(){return function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.logout();case 2:t({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function H(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getById();case 2:n=e.sent,t({type:"GET_USER",user:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function L(e){return console.log("user in actions",e),function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.update(e);case 2:a=t.sent,n({type:"SET_USER",user:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function V(){return(V=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id?k("room/".concat(t._id),t):C("room",t),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W={query:function(e){var t=new URLSearchParams(e);return j("room?".concat(t))},getById:function(e){var t=new URLSearchParams;if(e){for(var n in e)e[n]&&t.set(n,e[n]);return j("room?".concat(t))}},save:function(e){return V.apply(this,arguments)},remove:function(e){return x("room/".concat(e))}};function J(e){return console.log("filterBy in actions",e),function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.getById(e);case 3:a=t.sent,n({type:"SET_CURR_ROOM",room:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ERROR",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function K(e){return console.log(e.notes),function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!!e._id,t.next=3,W.save(e);case 3:return e=t.sent,n(a?{type:"SET_CURR_ROOM",room:e}:{type:"ADD_ROOM",room:e}),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var q=n(18),G=n(19),Q=n(21),Y=n(20),X=n(6),Z={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},getRandomChuck:function(){return $.apply(this,arguments)}};function $(){return($=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://api.chucknorris.io/jokes/random");case 2:return t=e.sent,e.abrupt("return",t.data.value);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=[{_id:"aa56640269f443a5d64b32ca",fullName:"Eyal Golan",userName:"Eyalush",friends:[]},{_id:"ba56640269f443a5d64b32cb",fullName:"Omer Adam",userName:"Omerush",friends:[]},{_id:"ca56640269f443a5d64b32cc",fullName:"Zohar Argov",userName:"Ha Melech",friends:[]}];var te={query:function(e){var t=new URLSearchParams;if(e){for(var n in e)e[n]&&t.set(n,e[n]);return j("user?".concat(t))}},getContactById:function(e){return new Promise((function(t,n){var a=ee.find((function(t){return t._id===e}));a?t(a):n("Contact id ".concat(e," not found!"))}))},deleteContact:function(e){return new Promise((function(t,n){var a=ee.findIndex((function(t){return t._id===e}));-1!==a&&ee.splice(a,1),O.save("contacts",ee),t(ee)}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,n){var a=ee.findIndex((function(t){return e._id===t._id}));-1!==a&&(ee[a]=e),O.save("contacts",ee),t(e)}))}(e):function(e){return new Promise((function(t,n){e._id=Z.makeId(),ee.push(e),O.save("contacts",ee),t(e)}))}(e)},getEmptyContact:function(){return{fullName:"",userName:""}}};function ne(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.query(e);case 3:a=t.sent,n({type:"SET_CONTACTS",contacts:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ERROR",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}var ae=n(103),ce=n.n(ae),re=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:ce.a,alt:"loading",className:"loading"}))},oe=function(e){var t=e.imgUrl,n=e.isLoading;return r.a.createElement("div",{className:"avatar-edit"},r.a.createElement("label",null,r.a.createElement("input",{type:"file",onChange:function(t){return e.onUploadImg(t)},hidden:!0}),n?r.a.createElement(re,null):r.a.createElement("img",{src:t||R.a,alt:"",className:"avatar avatar-m"})),r.a.createElement("h1",null,"above"),r.a.createElement("div",{className:"test-img",style:{backgroundImage:"url(".concat(t,")")}}),r.a.createElement("h1",null,"under"))},ie=n(7),se=n(104),ue=n.n(se),le=n(105),de=n.n(le),pe=function(e){var t=e.contact,n=e.onAddFriend,a=e.loggedinUser,o=e.moveToRoom,i=Object(c.useState)(!1),s=Object(ie.a)(i,2),u=s[0],l=s[1],d=Object(c.useState)(!1),p=Object(ie.a)(d,2),m=p[0],f=p[1],h=Object(c.useState)(""),v=Object(ie.a)(h,2),g=v[0],b=v[1];Object(c.useEffect)((function(){if(a){var e=a.friends.find((function(e){return e._id===t._id}));e?(f(!0),b(e.roomId)):f(!1)}}),[a,t._id]);var E=function(e){e.preventDefault(),l(!0)};return r.a.createElement("div",{className:"contact-preview",onClick:function(e){m&&o(e,g)}},r.a.createElement("img",{src:t.imgUrl,alt:"".concat(t.userName),className:"avatar avatar-s"}),r.a.createElement("div",{className:"user-name-container"},r.a.createElement("span",null,"Full Name: ",t.fullName),r.a.createElement("span",null,"User Name: ",t.userName)),!t.roomId&&r.a.createElement("img",{src:u||m?de.a:ue.a,alt:"",className:"add-friend-img",onClick:function(e){return m||u?E(e):function(e){n(e,t._id),E(e)}(e)}}))},me=function(e){var t=e.onAddFriend,n=e.loggedinUser,a=e.onMoveToRoom;return r.a.createElement("div",{className:"contact-list"},e.contacts.map((function(e){return r.a.createElement(pe,{contact:e,onAddFriend:t,loggedinUser:n,key:e._id,moveToRoom:a})})))},fe=n(51),he=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(e){var a;return Object(q.a)(this,n),(a=t.call(this,e)).state={term:""},a.onChangeHandler=function(e){var t=e.target,n=t.value,c=t.name;a.setState(Object(E.a)({},c,n),(function(){a.props.onFilter(Object(X.a)({},a.state))}))},a.onKeyHandler=function(e){13===e.keyCode&&(e.preventDefault(),a.props.moveToContact())},a.state=Object(X.a)({},e.filterBy),a}return Object(G.a)(n,[{key:"render",value:function(){var e=this.props.placeHolder;return r.a.createElement("form",null,r.a.createElement(fe.DebounceInput,{minLength:0,className:"filter-input",debounceTimeout:300,type:"text",placeholder:e||"Search Contacts",onChange:this.onChangeHandler,name:"term",value:this.state.term,onKeyDown:this.onKeyHandler}))}}]),n}(c.Component);var ve={uploadImg:function(e){var t="https://api.cloudinary.com/v1_1/".concat("tamir","/image/upload"),n=new FormData;return e.target?n.append("file",e.target.files[0]):n.append("file",e),n.append("upload_preset","u1inrfbp"),fetch(t,{method:"POST",body:n,secure:!0}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}},ge=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={filterBy:{term:""},isLoading:!1},e.loadContacts=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadContacts(e.state.filterBy);case 2:case"end":return t.stop()}}),t)}))),e.onUploadImg=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.user,e.setState({isLoading:!0}),t.next=4,ve.uploadImg(n);case 4:c=t.sent,r=Object.assign(a,{imgUrl:c.secure_url}),e.props.updateUser(r),e.setState({isLoading:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onAddFriend=function(t,n){t.preventDefault();var a=e.props.user;b.emit("Add Friend",{friendId:n,_id:a._id,userName:a.userName,fullName:a.fullName,type:"NotificationFriend",imgUrl:a.imgUrl})},e.onFilterHandler=function(t){e.setState((function(e){return{filterBy:Object(X.a)(Object(X.a)({},e.filterBy),t)}}),e.loadContacts)},e.onMoveToRoom=function(t,n){console.log(t),t.stopPropagation(),e.props.history.push("/board/".concat(n))},e.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e}return Object(G.a)(n,[{key:"componentDidMount",value:function(){this.props.user||this.props.history.push("/signup"),this.loadContacts()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.contacts,a=this.state.isLoading;return r.a.createElement("div",null,t&&r.a.createElement("div",{className:"home-page"},t.userName&&r.a.createElement("h2",null,"Hi There ",this.capitalize(t.userName)),r.a.createElement(oe,{imgUrl:t.imgUrl,onUploadImg:this.onUploadImg,isLoading:a}),r.a.createElement("h6",null,"Let's add contacts veze"),r.a.createElement(he,{filterBy:this.state.filterBy,onFilter:this.onFilterHandler}),n&&r.a.createElement(me,{onMoveToRoom:this.onMoveToRoom,contacts:n,onAddFriend:this.onAddFriend,loggedinUser:t})))}}]),n}(c.Component),be={getUser:H,updateUser:L,loadContacts:ne},Ee=Object(s.b)((function(e){return{user:e.user.loggedinUser,contacts:e.contact.contacts}}),be)(ge),Oe=function(e){var t=e.notification,n=e.onApprove,a=e.onDecline;return r.a.createElement("div",{className:"notification-friend"},r.a.createElement("p",null,t.fullName," wants to start a board with you"),r.a.createElement("button",{onClick:function(){return n(t)}},"Approve"),r.a.createElement("button",{onClick:function(){return a(t)}},"Decline"))},ye=function(e){var t=e.notification;return r.a.createElement("div",{className:"notification-response"},r.a.createElement("p",null,t.fullName," has ",t.isApproved?"Approved":"Declined"," your request"))},Ne=n(14),we=function(e){var t=e.notification,n=e.onDeleteNotification,a=t.userName,c=t.roomId;return r.a.createElement(Ne.a,{to:"/board/".concat(c)},r.a.createElement("div",{className:"notification-note",onClick:n},r.a.createElement("p",null,a," just Added A note! go check it out")))},je=n(52),Ce=n.n(je),ke=n(39),xe=n.n(ke),Ue=function(e){var t=e.notification,n=e.onApprove,a=e.onDecline,c=e.onDeleteNotification,o={NotificationFriend:Oe,NotificationResponse:ye,NotificationNote:we}[t.type];return r.a.createElement("div",{className:"notification-preview"},r.a.createElement("div",{className:"notification-header"},r.a.createElement("img",{src:t.imgUrl,className:"avatar avatar-xs",alt:"User Avatar"}),r.a.createElement("div",null,r.a.createElement(o,{notification:t,onApprove:n,onDecline:a,onDeleteNotification:c}),r.a.createElement(Ce.a,{fromNow:!0},t.createdAt)),r.a.createElement("img",{src:xe.a,onClick:function(){return c(t)},className:"x-mark",alt:"Close"})))},Se=function(e){var t=e.notifications,n=e.onApprove,a=e.onDecline,c=e.onDeleteNotification;return r.a.createElement("div",{className:"notification-list"},t.map((function(e){return r.a.createElement(Ue,{notification:e,key:e._id,onApprove:n,onDecline:a,onDeleteNotification:c})})))},_e={updateUser:L},Re=Object(s.b)((function(e){return{user:e.user.loggedinUser,room:e.room.currRoom}}),_e)((function(e){var t=e.user,n=function(n){var a=t.notifications.findIndex((function(e){return e._id===n._id}));t.notifications.splice(a,1),e.updateUser(t)};return t?r.a.createElement("div",null,t&&r.a.createElement("div",null,!!t.notifications.length&&r.a.createElement(Se,{notifications:t.notifications,onApprove:function(e){n(e),b.emit("approve",{notification:e,user:t})},onDecline:function(e){n(e),b.emit("decline",{notification:e,user:t})},onDeleteNotification:n}))):r.a.createElement("h1",null,"Inbox is empty")})),Ie=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={filterBy:{term:"",roomId:""}},e.onMoveToRoom=function(t,n){console.log(t),t.stopPropagation(),e.props.history.push("/board/".concat(n))},e.loadContacts=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadContacts(e.state.filterBy);case 2:case"end":return t.stop()}}),t)}))),e.onFilterHandler=function(t){e.setState((function(e){return{filterBy:Object(X.a)(Object(X.a)({},e.filterBy),t)}}),e.loadContacts)},e.handleKeyPress=function(){if(1===e.props.contacts.length){var t=e.props.contacts[0]._id;e.props.history.push("/board/".concat(t))}},e}return Object(G.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.contacts,n=e.user;return r.a.createElement("div",null,n&&r.a.createElement("div",null,r.a.createElement(he,{filterBy:this.state.filterBy,onFilter:this.onFilterHandler,moveToContact:this.handleKeyPress}),!!t&&r.a.createElement(me,{onMoveToRoom:this.onMoveToRoom,loggedinUser:n,contacts:n.friends})))}}]),n}(c.Component),Te={loadContacts:ne},Ae=Object(s.b)((function(e){return{contacts:e.contact.contacts,user:e.user.loggedinUser}}),Te)(Ie),De=n(35),Fe=n(109),Me=n.n(Fe),Pe=n(110),Be=n.n(Pe),ze=n(111),He=n.n(ze),Le=n(112),Ve=n.n(Le),We=n(113),Je=n.n(We),Ke=n(114),qe=n.n(Ke),Ge=function(e){var t=e.setNoteType,n=e.setNoteInputType,a=e.setNoteData,o=Object(c.useState)(!1),i=Object(ie.a)(o,2),s=i[0],u=i[1];return r.a.createElement(De.b,{slideSpeed:500,direction:"up",spacing:8,isOpen:s,className:"button-menu"},r.a.createElement(De.c,{iconResting:r.a.createElement(Me.a,{style:{fontSize:20},nativecolor:"white"}),iconActive:r.a.createElement(Be.a,{style:{fontSize:20},nativecolor:"white"}),backgroundColor:"black",onClick:function(){return u(!s)},size:56}),r.a.createElement(De.a,{icon:r.a.createElement(He.a,{style:{fontSize:20,fill:"#51a255"},nativecolor:"black"}),backgroundColor:"white",size:40,className:!s&&"hidden",onClick:function(){t("NoteText"),u(!s),n("InputText")}}),r.a.createElement(De.a,{icon:r.a.createElement(Ve.a,{style:{fontSize:20,fill:"#28b5f2"},nativecolor:"black"}),backgroundColor:"white",size:40,className:!s&&"hidden",onClick:function(){t("NoteImg"),u(!s),n("InputImg")}}),r.a.createElement(De.a,{icon:r.a.createElement(Je.a,{style:{fontSize:20,fill:"#ff0000"},nativecolor:"black"}),backgroundColor:"white",size:40,className:!s&&"hidden",onClick:function(){t("NoteVideo"),u(!s),n("InputVideo")}}),r.a.createElement(De.a,{icon:r.a.createElement(qe.a,{style:{fontSize:20,fill:"#ffa350"},nativecolor:"black"}),backgroundColor:"white",size:40,className:!s&&"hidden",onClick:function(){t("NoteTodo"),u(!s),n("InputTodo"),a([])}}))},Qe=n(115),Ye=n.n(Qe),Xe=n(53),Ze=n.n(Xe),$e=function(e){var t=e.note;return r.a.createElement("div",{className:"note-text"},t.header&&r.a.createElement("h4",null,t.header),r.a.createElement("p",null,t.data))},et=function(e){var t=e.note;return r.a.createElement("div",{className:"note-img"},t.header&&r.a.createElement("h4",null,t.header),r.a.createElement("img",{src:t.data,alt:t.data}))},tt=function(e){var t=e.note;return r.a.createElement("div",{className:"note-video"},t.header&&r.a.createElement("h4",null,t.header),r.a.createElement("iframe",{width:"100%",allow:"fullscreen",src:"https://www.youtube.com/embed/"+t.data,title:"Video Player"}))},nt=n(40),at=n.n(nt),ct=n(116),rt=n.n(ct),ot=n(117),it=n.n(ot),st={saveRoom:K},ut=Object(s.b)((function(e){return{room:e.room.currRoom}}),st)((function(e){var t=e.note,n=e.saveRoom,a=e.room,o=e.userId,i=e.isEdit,s=e.currTodoIdx,u=e.setCurrTodoIdx,p=e.setIsNewTodo,m=e.isNewTodo,f=Object(c.useState)(""),h=Object(ie.a)(f,2),v=h[0],g=h[1],E=Object(c.useState)(""),O=Object(ie.a)(E,2),y=O[0],N=O[1],w=Object(c.createRef)(),j=Object(c.createRef)(),C=function(){var e=Object(d.a)(l.a.mark((function e(c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:return t.data[c].isDone=!t.data[c].isDone,e.next=5,n(a);case 5:b.emit("roomUpdated",{room:a,userId:o});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){w.current&&w.current.focus(),""!==s&&w.current&&(t.data[s].text=v)}),[v,s]),r.a.createElement("div",{className:"note-todo"},r.a.createElement("div",{className:"todo-header"},t.header&&r.a.createElement("h4",null,t.header),i&&r.a.createElement("img",{src:at.a,className:"new-todo-btn",onClick:function(){p(!0)}})),r.a.createElement("ul",null,!!t.data.length&&t.data.map((function(e,n){return r.a.createElement("li",{key:e.text,onClick:function(){i&&(u(n),g(e.text))}},s!==n&&r.a.createElement("span",{className:e.isDone?"done":"",onClick:function(e){return C(n)}},e.text),i&&r.a.createElement("img",{src:rt.a,className:"remove-todo-btn",onClick:function(){return function(e){t.data.splice(e,1)}(n)}}),i&&s===n&&r.a.createElement("input",{type:"text",value:v,ref:w,onChange:function(e){g(e.target.value)}}))}))),m&&r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"New Todo",ref:j,onChange:function(e){return N(e.target.value)}}),r.a.createElement("img",{src:it.a,className:"add-todo-btn",onClick:function(){return function(){var e={text:y,isDone:!1};t.data.push(e),p(!1),N(""),j.current.value=""}()}})))})),lt=n(118),dt=n.n(lt),pt=n(119),mt=n.n(pt),ft=n(120),ht=n.n(ft),vt=n(121),gt=n.n(vt),bt=n(122),Et=n.n(bt),Ot=n(123),yt=n.n(Ot),Nt=n(124),wt=n.n(Nt),jt=n(125),Ct=n.n(jt),kt=function(e){var t=e.togglePinned,n=e.note,a=e.user,o=e.setNoteColor,i=Object(c.useState)(!1),s=Object(ie.a)(i,2),u=s[0],l=s[1];return Object(c.useEffect)((function(){}),[n]),r.a.createElement("div",{className:"features-container"},r.a.createElement("img",{className:"pin-btn",src:a.pinnedNotes.find((function(e){return e===n._id}))?mt.a:dt.a,alt:"Pin Note",onClick:function(){return t(n)}}),r.a.createElement("div",{className:"color-pallete"},r.a.createElement("img",{src:ht.a,alt:"Change Color",className:"color-pallete-icon",onClick:function(){return l(!u)}}),u&&r.a.createElement("div",{className:"colors-container"},r.a.createElement("img",{src:gt.a,className:"color1",onClick:function(){o("#ffa350"),l(!1)}}),r.a.createElement("img",{src:Et.a,className:"color2",onClick:function(){o("#f78888"),l(!1)}}),r.a.createElement("img",{src:yt.a,className:"color3",onClick:function(){o("#f3d250"),l(!1)}}),r.a.createElement("img",{src:wt.a,className:"color4",onClick:function(){o("#90ccf4"),l(!1)}}),r.a.createElement("img",{src:Ct.a,className:"color5",onClick:function(){o("#4caf50"),l(!1)}}))))},xt=function(e){var t=e.note,n=e.user,a=e.removeNote,o=e.saveRoomChanges,i=e.togglePinned,s=e.isPinned,u=Object(c.useState)(!1),l=Object(ie.a)(u,2),d=l[0],p=l[1],m=Object(c.useState)(!1),f=Object(ie.a)(m,2),h=f[0],v=f[1],g=Object(c.useState)(""),b=Object(ie.a)(g,2),E=b[0],O=b[1],y={NoteText:$e,NoteImg:et,NoteVideo:tt,NoteTodo:ut}[t.type],N=Object(c.createRef)(),w=function(){t.bgColor&&(N.current.style.backgroundColor=t.bgColor)};return Object(c.useEffect)((function(){w(),t.createdBy._id===n._id&&t.createdBy.imgUrl!==n.imgUrl&&(t.createdBy.imgUrl=n.imgUrl,o())}),[]),Object(c.useEffect)((function(){w()}),[t.bgColor]),r.a.createElement("div",{className:"note-preview"},r.a.createElement("div",{className:n._id===t.createdBy._id?"user-container":"friend-container"},r.a.createElement("img",{src:t.createdBy.imgUrl,alt:"Note creator avatar",className:"avatar avatar-s"}),r.a.createElement("div",{className:"note-container",ref:N},r.a.createElement("div",{className:"note-header"},r.a.createElement("div",null,("NoteTodo"===t.type||"NoteText"===t.type)&&!d&&r.a.createElement("img",{src:Ye.a,alt:"Edit note",className:"edit-btn",onClick:function(){return p(!0)}}),("NoteTodo"===t.type||"NoteText"===t.type)&&d&&r.a.createElement("img",{src:Ze.a,alt:"Save changes",className:"save-btn",onClick:function(){p(!1),o(),O("")}}),r.a.createElement("img",{src:xe.a,className:"remove-btn",onClick:function(){return a(t._id)},alt:"Delete"})),r.a.createElement(Ce.a,{format:"MM/DD/YY ,HH:mm"},t.createdAt)),r.a.createElement(y,{note:t,user:n,isEdit:d,currTodoIdx:E,setCurrTodoIdx:O,setIsNewTodo:v,isNewTodo:h}),r.a.createElement(kt,{togglePinned:i,isPinned:s,note:t,user:n,setNoteColor:function(e){t.bgColor=e,o()}}))))},Ut=function(e){var t=e.notes,n=e.user,a=e.removeNote,o=e.saveRoomChanges,i=e.togglePinned,s=e.isPinned,u=e.setNoteType,l=Object(c.useState)([]),d=Object(ie.a)(l,2),p=d[0],m=d[1];return Object(c.useEffect)((function(){var e=[];t.map((function(t){n.pinnedNotes.find((function(e){return e===t._id}))?e.unshift(t):e.push(t)})),m(e)}),[t]),r.a.createElement("div",{className:"note-list",onClick:function(){return u("")}},p.length?p.map((function(e){return r.a.createElement(xt,{note:e,key:e._id,user:n,removeNote:a,saveRoomChanges:o,togglePinned:i,isPinned:s})})):r.a.createElement(re,null))},St=function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",fill:"#ff0000",viewBox:"0 0 512.001 512.001",xmlSpace:"preserve",width:"512px",height:"512px"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#F3D250"},d:"M501.646,288.715c-0.38,3.26-1.01,6.53-2.38,9.51c-3.56,7.7-11.88,12.47-20.3,13.44   c-8.43,0.97-16.92-1.36-24.69-4.78c-7.76-3.42-15-7.92-22.63-11.61c-17.91-8.66-65.89-29.35-85.98-12.12   c-3.28,2.81-5.12,6.91-5.58,11.21c-1.3,12.16,6.91,22.73,13.54,33.01c6.62,10.28,20.6,21.01,27.93,30.8   c6.9,9.23,29.66,38.05,6.3,52.42c-2.98,1.84-6.84,1.37-10.26,0.62c-2.55-0.55-5.08-1.34-7.32-2.67c-4.66-2.76-7.82-7.59-9.64-12.69   c-13.19-36.77-38.61-85.92-58.14-87.38c-3.38-0.25-6.79,0.47-9.26,2.8c-6.21,5.85-7.18,15.26-7.17,23.79   c0.03,12.6,1.35,25.2,3.96,37.53c1.52,7.22,3.48,14.34,4.95,21.57c0.3,1.46,0.58,2.93,0.84,4.4c2.79,15.83,3.24,32.07,1.34,48.04   c-1.44,12.14-4.32,24.33-10.54,34.85c-6.22,10.53-16.12,19.29-28,22.14c-11.89,2.86-25.64-1.08-32.74-11.03   c-2.67-3.75-4.32-8.12-5.78-12.49c-1.92-5.77-3.57-11.66-4.25-17.71c-0.03-0.3-0.07-0.61-0.09-0.91   c-1.88-19.53,6.26-38.57,14.22-56.55c9.69-21.88,34.8-74.16,18.33-81.72c-6.63-3.04-14.38,2.15-20.15,6.62   c-16.43,12.75-25.39,32.85-39.97,47.68c-12.04,12.25-27.63,20.56-43.92,26c-6.88,2.3-14.02,4.13-21.28,4.08   c-7.25-0.05-14.68-2.13-20.16-6.89c-3.58-3.12-6.29-7.58-6.15-12.33c0.11-3.62,1.83-7,3.86-10.01   c7.59-11.31,19.56-18.99,32.05-24.41c12.48-5.43,25.72-8.91,38.43-13.78c11.57-4.43,22.78-10.06,32.37-17.9   c9.58-7.83,17.5-17.99,21.44-29.74c2.13-6.36,2.89-13.91-1.08-19.32c-1.64-2.24-3.97-3.91-6.48-5.11   c-10.77-5.17-23.77-1.77-34.28,3.91c-10.5,5.69-19.85,13.56-30.93,18.01c-8.1,3.25-16.96,4.57-25.64,3.81   c-9.12-0.8-18.38-4.12-24.43-10.99c-6.04-6.87-7.99-17.73-2.97-25.38c3.08-4.68,8.21-7.61,13.45-9.58   c11.54-4.33,24.2-4.75,36.47-3.59c15.07,1.42,30.54,5.12,45.09,0.92c5.73-1.66,13.27-3.51,14.32-9.39   c1.13-6.28-1.63-12.76-5.86-17.53c-4.23-4.76-9.8-8.1-15.35-11.25c-28.33-16.08-59.08-29.72-81-53.85   c-4.93-5.42-8.07-12.02-10.67-18.88c-7.11-18.7,6.74-32.55,13.9-35.88c6.5-3.02,14.47-0.75,20.04,3.76   c5.56,4.52,9.21,10.92,12.66,17.2c9.79,17.8,19.23,36.19,33.43,50.7c14.21,14.52,34.35,24.83,54.44,21.91   c11.06-1.6,22.07-7.87,26.43-18.17c5.01-11.81,0.33-25.17-1.79-37.82c-1.52-9.06-1.69-18.34-0.49-27.44   c0.79-6.02,2.25-12.15,5.8-17.07c3.54-4.93,9.56-8.44,15.57-7.59c9.9,1.42,14.8,13.47,13.64,23.41   c-1.16,9.95-7.87,18.87-8.09,28.88c-1.13,50.56,32.25,38.23,46.09,16.56c5.5-8.62,11.1-17.1,15.41-26.38   c11.74-25.26,25.29-50.08,44.28-70.44c4.49-4.81,9.39-9.44,15.38-12.16c5.99-2.71,13.29-3.25,19,0.02   c6.46,3.71,9.65,11.67,9.29,19.11c-0.37,7.45-3.73,14.44-7.81,20.68c-4.76,7.29-10.67,13.79-17.22,19.54   c-78.31,68.74-58.51,85.61-53.37,88.08c5.14,2.46,11.16,2.1,16.8,1.22c11.67-1.81,23.03-5.59,33.46-11.13   c8.48-4.5,16.39-10.18,25.23-13.84c0.06-0.03,0.13-0.05,0.19-0.08c0.24-0.1,0.48-0.19,0.72-0.29c0.5-0.2,1.01-0.39,1.52-0.58   c9.84-3.57,21.72-3.91,29.95,2.56c3.02,2.38,5.45,5.72,6.06,9.52c0.89,5.55-2.18,11.03-6.08,15.08c-7,7.27-17.14,10.16-27.15,11.41   c-6.42,0.8-13.65,1.91-20.92,3.43c-8.89,1.86-17.86,4.33-25.52,7.6c-15.72,6.71-25.95,16.78-18.79,31.81   c3.79,7.96,16.28,6.57,25.07,7.24c2.16,0.17,4.32,0.3,6.48,0.39c22.48,1.06,45.04-1.14,67.56-0.61   c11.04,0.26,23.4,1.86,30.22,10.54C501.876,271.845,502.576,280.645,501.646,288.715z","data-original":"#FF4C4D",className:"","data-old_color":"#FF4C4D"}),r.a.createElement("path",{style:{fill:"#F3D250"},d:"M257.604,20.204c-4.809,12.049-10.021,36.028,13.925,37.684c7.017,0.485,14.32-3.586,17.258-9.98   C309.189,3.496,266.463-1.992,257.604,20.204z","data-original":"#FF4C4D",className:"","data-old_color":"#FF4C4D"}),r.a.createElement("path",{style:{fill:"#F3D250"},d:"M10.005,277.047c0.336,13.123,14.337,31.67,42.821,22.713c12.959-4.075,14.421-19.131,14.581-24.739   c0.1-3.528-0.164-7.134-1.49-10.404c-2.371-5.852-7.914-9.95-13.862-12.061C34.14,246.196,9.433,254.703,10.005,277.047z","data-original":"#FF4C4D",className:"","data-old_color":"#FF4C4D"}),r.a.createElement("path",{style:{fill:"#F3D250"},d:"M412.896,470.977c14.464,27.325,65.466,18.433,39.922-27.496   c-8.19-14.727-25.995-19.587-35.175-13.314C406.914,437.498,405.556,457.111,412.896,470.977z","data-original":"#FF4C4D",className:"","data-old_color":"#FF4C4D"})),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#FECE0F"},d:"M297.156,446.605c-1.44,12.14-4.32,24.33-10.54,34.85c-6.22,10.53-16.12,19.29-28,22.14   c-11.89,2.86-25.64-1.08-32.74-11.03c-2.67-3.75-4.32-8.12-5.78-12.49c-1.92-5.77-3.57-11.66-4.25-17.71   c-0.03-0.3-0.07-0.61-0.09-0.91c13.07,9.77,22.551,16.55,40.24,10.55s37.64-34.55,39.82-73.44   C298.605,414.395,299.056,430.635,297.156,446.605z","data-original":"#F33A3A",className:"active-path","data-old_color":"#F33A3A"}),r.a.createElement("path",{style:{fill:"#FECE0F"},d:"M400.456,62.885c-0.37,7.45-3.154,14.857-7.81,20.68c-69.65,87.107-46.184,107.422-42.45,106.414   c-6.25-5.14-15.283-24.978,55.23-86.874c6.55-5.75,12.46-12.25,17.22-19.54c4.08-6.24,7.44-13.23,7.81-20.68   c0.36-7.44-2.83-15.4-9.29-19.11c-5.71-3.27-13.01-2.73-19-0.02c-2.307,1.048-4.45,2.383-6.472,3.898   C399.089,51.78,400.717,57.467,400.456,62.885z","data-original":"#F33A3A",className:"active-path","data-old_color":"#F33A3A"}),r.a.createElement("path",{style:{fill:"#FECE0F"},d:"M459.906,193.645c-7,7.27-17.14,10.16-27.15,11.41c-6.42,0.8-13.65,1.91-20.92,3.43   c8.42-4.1,15.899-10.248,20.49-13.15c14.42-9.116,0.62-23.91-2.4-26.29c-0.76-0.6-1.56-1.12-2.38-1.61   c0.06-0.03,0.13-0.05,0.19-0.08c0.24-0.1,0.48-0.19,0.72-0.29c0.5-0.2,1.01-0.39,1.52-0.58c9.84-3.57,21.72-3.91,29.95,2.56   c3.02,2.38,5.45,5.72,6.06,9.52C466.876,184.115,463.806,189.595,459.906,193.645z","data-original":"#F33A3A",className:"active-path","data-old_color":"#F33A3A"}),r.a.createElement("path",{style:{fill:"#FECE0F"},d:"M353.626,327.375c-6.63-10.28-14.84-20.85-13.54-33.01c0.46-4.3,2.3-8.4,5.58-11.21   c2.509-2.152,5.453-3.712,8.72-4.778c-41.89,6.378-9.112,63.739-4.89,69.378c5.947,7.956,25.734,40.885,15.557,56.151   c1.472,1.834,3.197,3.44,5.223,4.639c2.24,1.33,4.77,2.12,7.32,2.67c3.42,0.75,7.28,1.22,10.26-0.62   c23.36-14.37,0.6-43.19-6.3-52.42C374.226,348.385,360.246,337.655,353.626,327.375z","data-original":"#F33A3A",className:"active-path","data-old_color":"#F33A3A"}),r.a.createElement("path",{style:{fill:"#FECE0F"},d:"M496.855,265.455c-6.82-8.68-19.18-10.28-30.22-10.54c-8.323-0.196-16.654-0.017-24.984,0.232   c9.595,0.671,19.403,2.925,25.204,10.308c5.02,6.39,5.72,15.19,4.79,23.26c-0.38,3.26-1.01,6.53-2.38,9.51   c-2.128,4.603-5.963,8.149-10.498,10.472c6.495,2.372,13.366,3.754,20.198,2.968c8.42-0.97,16.74-5.74,20.3-13.44   c1.37-2.98,2-6.25,2.38-9.51C502.576,280.645,501.876,271.845,496.855,265.455z","data-original":"#F33A3A",className:"active-path","data-old_color":"#F33A3A"}),r.a.createElement("path",{style:{fill:"#FECE0F"},d:"M223.73,333.6c-0.25-5.055-1.865-8.781-5.425-10.416c-6.63-3.04-14.38,2.15-20.15,6.62   c-16.43,12.75-25.39,32.85-39.97,47.68c-12.04,12.25-27.63,20.56-43.92,26c-1.52,0.508-3.054,0.987-4.597,1.434   c4.161,1.786,8.774,2.615,13.317,2.646c7.26,0.05,14.4-1.78,21.28-4.08c16.29-5.44,31.88-13.75,43.92-26   C201.395,364.048,210.01,346.303,223.73,333.6z","data-original":"#F33A3A",className:"active-path","data-old_color":"#F33A3A"}),r.a.createElement("path",{style:{fill:"#FECE0F"},d:"M112.065,119.365c39.43,50.64,92.972,71.611,95.44,70.751c-12.007-3.598-23.159-11.007-32.01-20.051   c-14.2-14.51-23.64-32.9-33.43-50.7c-3.45-6.28-7.1-12.68-12.66-17.2c-5.57-4.51-13.54-6.78-20.04-3.76   c-2.191,1.019-5.008,3.028-7.66,5.855C106.012,108.554,108.303,114.533,112.065,119.365z","data-original":"#F33A3A",className:"active-path","data-old_color":"#F33A3A"})),r.a.createElement("path",{d:"M502.746,260.818c-8.906-11.337-23.882-13.116-35.932-13.399c-10.495-0.248-21.06,0.089-31.278,0.415  c-13.965,0.444-28.406,0.905-42.362-0.172c-1.799-0.138-3.693-0.197-5.526-0.254c-4.871-0.151-12.233-0.38-13.356-2.738  c-2.575-5.41-1.49-8.561-0.449-10.46c5.246-9.577,27.617-17.694,59.841-21.712c14.135-1.763,24.479-6.23,31.624-13.655  c6.371-6.622,9.241-14.245,8.083-21.464c-0.86-5.37-3.997-10.421-8.831-14.224c-9.361-7.364-23.247-8.753-37.141-3.716  c-7.176,2.602-13.539,6.402-19.693,10.077c-3.063,1.829-5.956,3.557-8.927,5.135c-9.739,5.174-20.202,8.656-31.098,10.348  c-3.936,0.611-8.904,1.098-12.396-0.577c-0.228-0.111-1.381-0.783-1.689-3.083c-0.641-4.781,1.56-24.146,56.757-72.597  c7.442-6.532,13.683-13.623,18.552-21.077c5.694-8.72,8.644-16.705,9.018-24.41c0.53-10.934-4.591-21.132-13.049-25.981  c-7.348-4.211-16.999-4.342-25.822-0.344c-7.369,3.338-13.117,8.884-17.767,13.869c-21.111,22.633-35.457,50.58-45.595,72.399  c-3.696,7.956-8.408,15.31-13.395,23.097l-1.542,2.409c-6.454,10.106-17.317,16.996-23.718,15.05  c-5.698-1.733-8.894-11.981-8.552-27.413c0.09-4.044,1.792-8.367,3.594-12.944c1.869-4.748,3.802-9.658,4.452-15.226  c1.595-13.645-5.612-29.646-20.036-31.704c-8.29-1.186-17.215,2.987-22.716,10.626c-4.891,6.793-6.422,14.939-7.148,20.474  c-1.295,9.867-1.116,19.845,0.531,29.658c0.457,2.724,1.022,5.458,1.569,8.102c1.946,9.418,3.785,18.313,0.718,25.558  c-2.928,6.913-11.014,12.279-20.601,13.671c-15.728,2.288-33.675-5.091-48.002-19.729c-0.839-0.858-1.686-1.756-2.515-2.67  c-2.785-3.067-7.528-3.295-10.595-0.512c-3.066,2.784-3.296,7.527-0.513,10.594c0.955,1.051,1.931,2.087,2.9,3.079  c15.442,15.777,34.771,24.642,53.054,24.641c2.635,0,5.25-0.184,7.826-0.558c14.892-2.163,27.253-10.848,32.257-22.666  c4.891-11.551,2.377-23.713,0.159-34.443c-0.543-2.625-1.055-5.103-1.466-7.55c-1.401-8.345-1.554-16.83-0.451-25.222  c0.819-6.242,2.232-10.584,4.448-13.662c2.209-3.066,5.673-4.929,8.426-4.541c4.998,0.713,8.004,8.71,7.256,15.113  c-0.425,3.631-1.924,7.44-3.512,11.473c-2.101,5.338-4.482,11.387-4.632,18.104c-0.365,16.432,2.666,37.074,19.182,42.098  c14.901,4.532,31.766-7.298,40.726-21.328l1.53-2.392c5.037-7.863,10.245-15.994,14.368-24.867  c9.67-20.81,23.293-47.402,42.96-68.487c3.821-4.097,8.04-8.196,12.988-10.438c4.379-1.983,9.041-2.101,12.172-0.306  c3.507,2.011,5.779,7.045,5.527,12.242c-0.241,4.969-2.398,10.508-6.595,16.934c-4.124,6.313-9.47,12.372-15.887,18.005  c-44.151,38.754-64.339,66.864-61.719,85.938c1.325,9.649,8.032,13.568,10.056,14.539c7.209,3.458,15.107,2.819,21.188,1.876  c12.556-1.95,24.612-5.961,35.834-11.924c3.303-1.754,6.494-3.66,9.58-5.503c5.805-3.467,11.288-6.741,17.115-8.854  c6.941-2.516,16.561-3.466,22.756,1.404c1.835,1.444,3.035,3.196,3.294,4.81c0.383,2.386-1.143,5.634-4.081,8.688  c-4.667,4.85-12.083,7.85-22.672,9.171c-39.2,4.889-63.134,14.777-71.14,29.39c-2.787,5.088-5.039,13.402,0.062,24.115  c5.056,10.619,17.412,11.002,26.433,11.283c1.74,0.054,3.384,0.105,4.839,0.218c14.77,1.139,29.627,0.666,43.992,0.208  c10.016-0.319,20.369-0.65,30.449-0.411c8.758,0.206,19.457,1.264,24.49,7.67c3.818,4.86,3.868,12.345,3.237,17.767  c-0.372,3.204-0.908,5.434-1.737,7.229c-2.215,4.798-7.848,8.383-14.351,9.133c-6.01,0.693-12.814-0.677-20.8-4.195  c-3.296-1.451-6.542-3.144-9.283-4.608c-3.652-1.951-8.197-0.573-10.149,3.081c-1.952,3.653-0.572,8.197,3.081,10.149  c2.989,1.597,6.552,3.453,10.306,5.106c8.585,3.781,16.399,5.643,23.741,5.643c1.63,0,3.238-0.092,4.824-0.275  c11.764-1.357,21.823-8.158,26.251-17.747c1.952-4.229,2.639-8.52,3.019-11.785C510.478,277.622,508.344,267.944,502.746,260.818z","data-original":"#000000",className:"",style:{fill:"#000000"}}),r.a.createElement("path",{d:"M388.232,354.58l-0.674-0.896c-3.65-4.879-8.642-9.814-13.47-14.585c-5.399-5.337-10.982-10.855-14.163-15.79  c-0.787-1.222-1.598-2.448-2.411-3.681c-5.571-8.436-10.833-16.405-9.973-24.467c0.283-2.651,1.351-4.894,3.007-6.313  c9.677-8.3,32.783-5.849,63.395,6.727c3.832,1.576,8.214-0.256,9.787-4.088c1.574-3.831-0.256-8.213-4.088-9.787  c-37.596-15.444-64.128-16.871-78.859-4.238c-4.569,3.919-7.466,9.639-8.157,16.107c-1.432,13.422,5.901,24.527,12.372,34.325  c0.783,1.186,1.562,2.365,2.319,3.541c4.072,6.319,10.251,12.426,16.226,18.332c4.641,4.587,9.024,8.92,12.005,12.903l0.694,0.925  c4.43,5.891,16.196,21.539,14.178,32.197c-0.407,2.148-1.523,5.358-6.496,8.417c-0.086,0.054-0.959,0.499-4.736-0.321  c-2.212-0.48-3.83-1.052-5.094-1.801c-2.67-1.583-4.943-4.694-6.402-8.762c-7.499-20.912-17.468-42.167-27.35-58.315  c-13.475-22.019-25.672-33.144-37.287-34.011c-5.884-0.439-11.193,1.272-14.959,4.816c-8.474,7.979-9.543,19.832-9.526,29.266  c0.022,13.103,1.406,26.245,4.113,39.063c0.743,3.522,1.589,7.028,2.407,10.419c0.88,3.65,1.791,7.425,2.541,11.102  c1.419,6.947,2.374,14.071,2.838,21.176c0.26,3.967,3.558,7.011,7.476,7.011c0.165,0,0.331-0.005,0.497-0.017  c4.134-0.27,7.265-3.84,6.995-7.973c-0.509-7.782-1.556-15.587-3.109-23.198c-0.804-3.936-1.745-7.841-2.656-11.618  c-0.793-3.288-1.613-6.688-2.313-10.001c-2.493-11.809-3.768-23.917-3.789-35.989c-0.011-6.411,0.525-14.287,4.81-18.32  c0.928-0.873,2.796-0.837,3.56-0.779c4.639,0.346,13.803,7.59,25.609,26.883c9.233,15.088,18.962,35.854,26.025,55.549  c1.863,5.198,5.61,12.298,12.874,16.603c2.689,1.594,5.726,2.724,9.559,3.556c4.556,0.989,10.468,1.705,15.778-1.562  c7.426-4.568,11.925-10.759,13.373-18.4C408.41,381.416,394.781,363.291,388.232,354.58z","data-original":"#000000",className:"",style:{fill:"#000000"}}),r.a.createElement("path",{d:"M298.043,439.156c-4.109-0.496-7.845,2.448-8.333,6.561c-1.579,13.273-4.705,23.716-9.556,31.926  c-5.718,9.677-14.208,16.478-23.295,18.66c-9.455,2.272-19.916-1.134-24.877-8.095c-1.978-2.774-3.338-6.206-4.771-10.504  c-2.183-6.543-3.388-11.531-3.908-16.171c-2.058-18.378,6.225-37.088,13.532-53.595c0.736-1.665,1.563-3.507,2.455-5.493  c5.328-11.869,13.38-29.806,18.036-45.446c2.457-8.253,9.932-33.37-5.895-40.632c-11.427-5.242-22.947,3.698-27.868,7.515  c-10.325,8.01-17.761,18.415-24.951,28.478c-5.142,7.196-9.999,13.993-15.774,19.869c-10.165,10.341-23.942,18.464-40.95,24.144  c-5.221,1.743-12.109,3.733-18.845,3.691c-6.163-0.043-11.594-1.838-15.292-5.055c-2.265-1.969-3.635-4.438-3.575-6.444  c0.045-1.552,0.891-3.531,2.583-6.053c5.779-8.608,15.474-15.914,28.816-21.715c6.991-3.04,14.179-5.425,21.788-7.95  c5.359-1.778,10.901-3.618,16.34-5.7c14.006-5.362,25.266-11.608,34.425-19.096c11.437-9.35,19.669-20.817,23.804-33.16  c3.444-10.278,2.686-19.56-2.133-26.137c-2.241-3.059-5.367-5.564-9.291-7.446c-11.467-5.499-26.056-4.05-41.088,4.083  c-4.392,2.377-8.531,5.071-12.534,7.676c-5.953,3.875-11.576,7.534-17.63,9.965c-7.002,2.812-14.676,3.951-22.191,3.296  c-4.852-0.423-13.828-2.087-19.442-8.47c-4.186-4.761-5.211-11.926-2.333-16.31c1.728-2.632,5.029-4.877,9.814-6.673  c8.988-3.375,19.818-4.405,33.122-3.147c3.225,0.305,6.437,0.713,9.838,1.146c12.403,1.577,25.228,3.209,38.039-0.487l0.868-0.249  c6.336-1.811,16.938-4.842,18.762-15.026c1.441-8.05-1.342-16.733-7.637-23.825c-4.955-5.58-11.241-9.379-17.256-12.792  c-5.641-3.201-11.443-6.343-17.053-9.381c-22.298-12.073-45.353-24.557-62.094-42.989c-3.549-3.907-6.305-8.843-9.217-16.506  c-5.355-14.095,5.494-24.292,10.054-26.412c3.267-1.517,8.26-0.374,12.148,2.781c4.312,3.499,7.451,8.857,10.819,14.986  c0.863,1.569,1.723,3.143,2.583,4.718c3.086,5.648,6.276,11.489,9.628,17.172c2.104,3.568,6.703,4.754,10.27,2.65  s4.754-6.702,2.649-10.27c-3.226-5.47-6.356-11.201-9.384-16.743c-0.866-1.586-1.732-3.171-2.602-4.752  c-3.194-5.813-7.57-13.775-14.513-19.409c-8.433-6.844-19.396-8.701-27.924-4.735c-11.988,5.575-25.921,23.84-17.75,45.342  c2.403,6.326,5.955,14.459,12.135,21.263c18.457,20.321,42.655,33.423,66.055,46.094c5.547,3.003,11.282,6.109,16.794,9.236  c5.124,2.908,10.008,5.838,13.441,9.705c3.11,3.504,4.677,7.773,4.099,11.159c-0.921,1.249-5.962,2.69-8.13,3.31l-0.906,0.26  c-9.829,2.838-20.59,1.469-31.985,0.019c-3.37-0.429-6.853-0.872-10.319-1.2c-15.617-1.476-28.638-0.155-39.807,4.038  c-7.934,2.979-13.522,7.063-17.08,12.484c-6.609,10.067-5.092,24.554,3.608,34.448c6.721,7.643,17.162,12.44,29.401,13.508  c9.854,0.86,19.911-0.633,29.087-4.32c7.415-2.978,13.925-7.215,20.22-11.312c3.926-2.555,7.633-4.968,11.491-7.055  c6.192-3.35,17.995-8.293,27.462-3.751c1.651,0.792,2.924,1.756,3.68,2.788c2.602,3.55,0.874,9.927,0.01,12.505  c-3.235,9.657-9.832,18.756-19.076,26.313c-7.899,6.457-17.808,11.92-30.295,16.701c-5.122,1.961-10.5,3.746-15.701,5.472  c-7.589,2.519-15.435,5.122-23.044,8.431c-16.013,6.963-27.886,16.084-35.289,27.11c-2.116,3.151-4.949,8.028-5.124,13.973  c-0.193,6.578,2.987,13.213,8.725,18.203c6.399,5.565,15.288,8.668,25.031,8.737c0.113,0,0.227,0.001,0.34,0.001  c8.847,0,17.121-2.381,23.362-4.465c19.276-6.437,35.053-15.81,46.895-27.856c6.6-6.714,12.03-14.314,17.281-21.663  c6.866-9.607,13.35-18.683,21.942-25.348c7.65-5.936,10.973-6.395,12.419-5.733c0.04,0.019,3.527,3.387-2.228,22.719  c-4.371,14.685-11.869,31.387-17.344,43.582c-0.902,2.012-1.74,3.877-2.487,5.564c-7.677,17.342-17.231,38.926-14.721,61.337  c0.823,7.342,2.883,14.142,4.585,19.246c1.61,4.827,3.547,9.92,6.786,14.464c6.776,9.507,18.757,15.087,31.139,15.087  c3.152,0,6.332-0.362,9.457-1.113c13.013-3.125,24.933-12.461,32.706-25.614c5.933-10.04,9.706-22.4,11.536-37.785  C305.094,443.376,302.157,439.645,298.043,439.156z","data-original":"#000000",className:"",style:{fill:"#000000"}}),r.a.createElement("path",{d:"M271.012,65.371c0.561,0.039,1.12,0.058,1.68,0.058c9.681,0,18.936-5.74,22.91-14.389  c9.958-21.677,6.053-34.39,1.022-41.238c-5.289-7.2-14.096-10.778-23.555-9.571c-10.117,1.291-18.712,7.879-22.429,17.194l0,0  c-2.779,6.964-8.409,24.487-0.688,36.777C252.86,58.834,258.878,64.532,271.012,65.371z M264.57,22.986L264.57,22.986  c2.03-5.087,6.702-7.404,10.396-7.875c0.557-0.071,1.105-0.105,1.643-0.105c3.304,0,6.192,1.318,7.926,3.678  c3.685,5.017,2.75,14.528-2.564,26.096c-1.576,3.432-5.944,5.903-9.924,5.629c-7.072-0.489-8.82-3.272-9.394-4.186  C259.919,41.872,260.672,32.752,264.57,22.986z","data-original":"#000000",className:"",style:{fill:"#000000"}}),r.a.createElement("path",{d:"M54.568,245.488c-13.119-4.657-28.437-2.704-39.022,4.976C6.86,256.766,2.23,266.275,2.511,277.239  c0.25,9.772,5.677,19.608,14.162,25.669c4.796,3.425,11.995,6.731,21.919,6.731c4.836,0,10.32-0.785,16.487-2.724  c12.138-3.817,19.365-15.364,19.828-31.68c0.152-5.362-0.494-9.631-2.035-13.435C69.919,254.515,63.248,248.569,54.568,245.488z   M59.913,274.808c-0.159,5.601-1.583,15.36-9.334,17.797c-10.229,3.217-18.939,2.559-25.186-1.903  c-5.664-4.045-7.788-9.988-7.888-13.848c-0.154-6.046,2.15-10.84,6.85-14.249c6.497-4.715,16.859-5.94,25.196-2.981  c4.574,1.624,8.096,4.543,9.419,7.81C59.705,269.248,60.004,271.591,59.913,274.808z","data-original":"#000000",className:"",style:{fill:"#000000"}}),r.a.createElement("path",{d:"M434.647,420.874c-7.89-1.862-15.63-0.733-21.238,3.1c-6.938,4.741-11.335,13.049-12.38,23.393  c-0.929,9.193,0.979,19.078,5.235,27.118c6.123,11.568,18.135,18.999,31.345,19.393c0.358,0.011,0.714,0.016,1.068,0.016  c10.614,0,19.81-4.764,24.745-12.875c4.493-7.386,7.436-20.526-4.053-41.185C454.031,430.234,445.02,423.323,434.647,420.874z   M450.608,473.223c-2.258,3.712-6.936,5.823-12.55,5.662c-6.137-0.184-14.228-3.279-18.536-11.418  c-5.788-10.934-4.624-26.343,2.35-31.109c1.326-0.906,3.201-1.373,5.343-1.373c1.256,0,2.603,0.161,3.985,0.487  c6.185,1.46,11.816,5.816,15.061,11.652C452.4,458.161,453.984,467.674,450.608,473.223z","data-original":"#000000",className:"",style:{fill:"#000000"}}))," ")},_t=function(e){var t=e.setNoteData,n=e.setNoteHeader,a=e.handleSubmit;return r.a.createElement("form",{className:"input-text",onSubmit:a},r.a.createElement("input",{className:"input-header",placeholder:"Note Header",type:"text",onChange:function(e){return n(e.target.value)}}),r.a.createElement("input",{className:"input-data",placeholder:"Say Something",type:"text",onChange:function(e){return t(e.target.value)}}),r.a.createElement("button",{hidden:!0},"Save"))},Rt=n(126),It=n.n(Rt),Tt=function(e){var t=e.setNoteHeader,n=e.onUploadImg,a=Object(c.createRef)();return r.a.createElement("section",{className:"input-img"},r.a.createElement("input",{className:"input-header",placeholder:"Img Header",type:"text",onChange:function(e){return t(e.target.value)}}),r.a.createElement("input",{type:"file",onChange:function(e){n(e)},ref:a,hidden:!0}),r.a.createElement("img",{src:It.a,className:"add-button",alt:"Plus Icon",onClick:function(){a.current.click()}}))},At="AIzaSyDD1nIJuc1thshvoaRykKhVDjI8-kbDSFM",Dt={youtubeQuery:function(e){return Ft.apply(this,arguments)}};function Ft(){return(Ft=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&videoEmbeddable=true&type=video&key=".concat(At,"&q=").concat(t,"&maxResults=").concat(15));case 3:return n=e.sent,e.abrupt("return",n.data.items);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error while fetching videos",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Mt=function(e){var t=e.addVideo,n=e.setNoteHeader,a=Object(c.useState)([]),o=Object(ie.a)(a,2),i=o[0],s=o[1],u=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return s([]),e.abrupt("return");case 3:return e.next=5,Dt.youtubeQuery(t);case 5:n=e.sent,s(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"input-video"},r.a.createElement("input",{className:"input-header",placeholder:"Note Header",type:"text",onChange:function(e){return n(e.target.value)}}),r.a.createElement(fe.DebounceInput,{className:"search-input",minLength:0,debounceTimeout:500,type:"text",placeholder:"Search Video",onChange:function(e){return u(e.target.value)}}),!!i.length&&r.a.createElement("h1",null,"Add video!"),!!i.length&&i.map((function(e){return r.a.createElement("div",{className:"video-card",key:e.id.videoId},r.a.createElement("img",{src:e.snippet.thumbnails.default.url,alt:"Video Thumbnail"}),r.a.createElement("h6",null,e.snippet.title),r.a.createElement("img",{src:at.a,className:"add-button",alt:"Plus Icon",onClick:function(){t(e.id.videoId),s([])}}))})))},Pt=n(42),Bt=function(e){var t=e.setNoteHeader,n=e.setNoteData,a=e.handleSubmit,o=e.noteData,i=Object(c.useState)(""),s=Object(ie.a)(i,2),u=s[0],l=s[1],d=r.a.useRef();return r.a.createElement("div",{className:"input-todo"},r.a.createElement("input",{type:"text",placeholder:"Header?",className:"input-header",onChange:function(e){return t(e.target.value)}}),r.a.createElement("ul",null,!o.length&&r.a.createElement("h5",null,"No Todo's Added"),!!o.length&&o.map((function(e,t){return r.a.createElement("li",{className:"todo",key:e.text},r.a.createElement("span",null,e.text),r.a.createElement("img",{src:xe.a,onClick:function(){return e=t,void n(o.filter((function(t,n){return e!==n})));var e},className:"x-mark",alt:"Remove Todo"}))}))),r.a.createElement("div",{className:"add-todo-container"},r.a.createElement("input",{type:"text",placeholder:"task?",className:"input-task",ref:d,onChange:function(e){return l(e.target.value)}}),r.a.createElement("img",{src:at.a,className:"add-button",onClick:function(){return n([].concat(Object(Pt.a)(o),[{text:u,isDone:!1}])),l(""),void(d.current.value="")},alt:"Add todo"})),r.a.createElement("img",{src:Ze.a,className:"add-button",onClick:a,alt:"Save"}))},zt={loadRoomById:J,saveRoom:K,resetCurrRoom:function(){return console.log("made it"),function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{null,t({type:"SET_CURR_ROOM",room:null})}catch(n){console.log("ERROR:",n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateUser:L},Ht=Object(s.b)((function(e){return{room:e.room.currRoom,user:e.user.loggedinUser}}),zt)((function(e){var t=Object(c.useState)(""),n=Object(ie.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(""),s=Object(ie.a)(i,2),u=s[0],p=s[1],m=Object(c.useState)(""),f=Object(ie.a)(m,2),h=f[0],v=f[1],g=Object(c.useState)("InputText"),E=Object(ie.a)(g,2),O=E[0],y=E[1],N=Object(c.useState)(!1),w=Object(ie.a)(N,2),j=w[0],C=w[1],k=Object(c.useState)(!1),x=Object(ie.a)(k,2),U=x[0],S=(x[1],Object(c.useState)("")),_=Object(ie.a)(S,2),R=_[0],I=_[1],T={header:u,data:h,type:a},A={InputText:_t,InputImg:Tt,InputVideo:Mt,InputTodo:Bt}[O],D=function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params.id,t.next=3,e.loadRoomById({term:R.term,roomId:n});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),F=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveRoom(e.room);case 2:b.emit("roomUpdated",{room:e.room,userId:e.user._id});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NoteImg"!==a){e.next=6;break}return e.next=3,ve.uploadImg(t);case 3:n=e.sent,v(n.secure_url),C(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.user,n&&n.preventDefault(),T._id=Z.makeId(24),T.createdAt=Date.now(),t.next=6,B.getMinimalUser(a._id,a.imgUrl);case 6:c=t.sent,T.createdBy=c,r=a.friends.find((function(t){return t.roomId===e.match.params.id})),e.room.notes.unshift(T),e.saveRoom(e.room),b.emit("added note",{room:e.room,user:e.user,friendId:r._id}),p(""),v(""),o(""),C(!1);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.room.notes.findIndex((function(e){return e._id===n})),e.room.notes.splice(a,1),t.next=4,e.saveRoom(e.room);case 4:b.emit("roomUpdated",{room:e.room,userId:e.user._id});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();if(Object(c.useEffect)((function(){return D(),function(){e.resetCurrRoom()}}),[]),Object(c.useEffect)((function(){(h&&"NoteImg"===a||"NoteVideo"===a)&&P()}),[j]),Object(c.useEffect)((function(){D()}),[R]),e.room)var H=e.room.notes;return r.a.createElement("div",{className:"board-page"},H?r.a.createElement("div",{className:"note-add"},r.a.createElement(he,{filterBy:R,onFilter:function(e){I(e)},placeHolder:"Search for notes"}),a&&r.a.createElement(A,{addVideo:function(e){v(e),C(!0)},onUploadImg:M,handleSubmit:P,setNoteHeader:p,setNoteData:v,noteData:h}),r.a.createElement(Ge,{setNoteType:o,setNoteInputType:y,setNoteData:v})):r.a.createElement(re,null),H&&r.a.createElement("div",null,!!H.length&&r.a.createElement(Ut,{notes:H,user:e.user,removeNote:z,saveRoomChanges:F,togglePinned:function(t){e.user.pinnedNotes.find((function(e){return t._id===e}))?e.user.pinnedNotes.splice(t._id,1):e.user.pinnedNotes.push(t._id);var n=e.room.notes.findIndex((function(e){return t._id===e._id}));e.room.notes.splice(n,1,t),e.saveRoom(e.room),e.updateUser(e.user)},setNoteType:o,isPinned:U})),r.a.createElement(St,{className:"splash-icon"}))})),Lt=n(54),Vt=n(131),Wt=n.n(Vt),Jt=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={newUser:{userName:"",fullName:"",password:"",imgUrl:""},isSignUp:!1,isLoading:!1},e.getLoggedinUser=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getUser();case 2:e.props.user&&e.props.history.push("/");case 3:case"end":return t.stop()}}),t)}))),e.onChangeHandler=function(t){var n=t.target,a=n.value,c=n.name;e.setState({newUser:Object(X.a)(Object(X.a)({},e.state.newUser),{},Object(E.a)({},c,a))})},e.resetInput=function(){e.setState({newUser:{userName:"",password:""}})},e.onUploadImg=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,ve.uploadImg(n);case 3:a=t.sent,e.setState({newUser:Object(X.a)(Object(X.a)({},e.state.newUser),{},{imgUrl:a.secure_url})}),e.setState({isLoading:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleSignUp=function(){e.setState((function(e){return{isSignUp:!e.isSignUp}}))},e.onHandleSubmit=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!e.state.isSignUp){t.next=6;break}return t.next=4,e.props.signUp(Object(X.a)({},e.state.newUser));case 4:t.next=8;break;case 6:return t.next=8,e.props.login(Object(X.a)({},e.state.newUser));case 8:return t.next=10,e.getLoggedinUser();case 10:if(e.props.user){t.next=15;break}return Wt.a.fire({title:"Wrong password or Username.",width:300,confirmButtonText:"Say what?",confirmButtonColor:"yellow",padding:"1em",background:"#fff url(https://sweetalert2.github.io/images/trees.png)",backdrop:'\n          rgba(0,0,123,0.4)\n          url("https://sweetalert2.github.io/images/nyan-cat.gif")\n          left top\n          no-repeat\n        '}),e.props.history.push("/signup"),e.resetInput(),t.abrupt("return");case 15:e.connectSockets(e.props.user._id),e.props.history.push("/");case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(G.a)(n,[{key:"componentDidMount",value:function(){this.getLoggedinUser()}},{key:"connectSockets",value:function(e){this.props.onConnectSocket(e)}},{key:"render",value:function(){var e=this.state,t=e.isSignUp,n=e.isLoading,a=this.state.newUser.imgUrl;return r.a.createElement("div",{className:"signup-form"},r.a.createElement("form",{onSubmit:this.onHandleSubmit},!t&&r.a.createElement("h1",null,"Login"),t&&r.a.createElement("h1",null,"SignUp"),t&&r.a.createElement(oe,{onUploadImg:this.onUploadImg,imgUrl:a,isLoading:n}),t&&r.a.createElement(Lt.d,{label:"Full Name",name:"fullName",value:this.state.newUser.fullName||"",onChange:this.onChangeHandler}),r.a.createElement(Lt.d,{label:"UserName",type:"text",name:"userName",value:this.state.newUser.userName||"",onChange:this.onChangeHandler}),r.a.createElement(Lt.d,{label:"Password",type:"password",name:"password",value:this.state.newUser.password||"",onChange:this.onChangeHandler}),r.a.createElement("button",null,t?"SignUp":"Login"),!t&&r.a.createElement("h2",{onClick:this.toggleSignUp},"Don't Have an account? Sign Up!"),t&&r.a.createElement("h2",{onClick:this.toggleSignUp},"Head Back to Login")))}}]),n}(c.Component),Kt={signUp:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.signUp(e);case 2:a=t.sent,n({type:"SET_USER",newUser:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUser:H,login:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.login(e);case 2:a=t.sent,n({type:"SET_USER",newUser:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},qt=Object(s.b)((function(e){return{user:e.user.loggedinUser}}),Kt)(Jt),Gt=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getUser();case 2:this.isInSignupPage||this.props.user||this.props.history.push("/signup");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.location===t.location||this.props.user||this.isInSignupPage||this.props.history.push("/signup");case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.isInSignupPage||this.props.user?r.a.createElement("div",{className:"router-page"},r.a.createElement("main",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/signup",exact:!0,render:function(t){return r.a.createElement(qt,Object.assign({},t,{onConnectSocket:e.props.onConnectSocket}))}}),r.a.createElement(m.a,{path:"/",exact:!0,component:Ee}),r.a.createElement(m.a,{path:"/contact",component:Ae}),r.a.createElement(m.a,{path:"/board/:id",component:Ht}),r.a.createElement(m.a,{path:"/inbox/:id",exact:!0,component:Re})))):r.a.createElement(re,null)}},{key:"isInSignupPage",get:function(){return"/signup"===this.props.location.pathname}}]),n}(r.a.Component),Qt={getUser:H},Yt=Object(s.b)((function(e){return{user:e.user.loggedinUser}}),Qt)(Object(m.f)(Gt)),Xt=n(132),Zt=n.n(Xt),$t=n(133),en=function(e){Object(Q.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={menuOpen:!1,chuckJoke:""},e.closeMenu=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n&&e.handleLogout(),e.setState({menuOpen:!1}),t.next=4,Z.getRandomChuck();case 4:a=t.sent,e.setState({chuckJoke:a}),console.log("buggg");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleLogout=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.logout();case 2:e.props.history.push("/signup");case 3:case"end":return t.stop()}}),t)}))),e}return Object(G.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getRandomChuck();case 2:t=e.sent,this.setState({chuckJoke:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleStateChange",value:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({menuOpen:t.isOpen}),this.props.onOpenMenu(t.isOpen);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.menuOpen,a=t.chuckJoke,c=this.props.user;return c?r.a.createElement($t.stack,{right:!0,isOpen:n,onStateChange:function(t){return e.handleStateChange(t)}},r.a.createElement(Ne.b,{activeClassName:"active",exact:!0,to:"/",onClick:function(){return e.closeMenu()}},"Home"),r.a.createElement(Ne.b,{activeClassName:"active",to:"/contact",exact:!0,onClick:function(){return e.closeMenu()}},"Contacts"),c.notifications.length&&r.a.createElement("span",{className:"notification-count"},c.notifications.length),r.a.createElement(Ne.b,{activeClassName:"active",to:"/inbox/".concat(c._id),exact:!0,onClick:function(){return e.closeMenu()}},"Inbox"),r.a.createElement(Ne.b,{activeClassName:"active",to:"/signup",exact:!0,onClick:function(){return e.closeMenu(z)}},"Logout"),r.a.createElement("div",{className:"menu-footer"},r.a.createElement("h5",null,a))):""}}]),n}(r.a.Component),tn={getUser:H,logout:z},nn=Object(s.b)((function(e){return{user:e.user.loggedinUser}}),tn)(Object(m.f)(en)),an=function(e){var t=e.user,n=Object(c.useState)(!1),a=Object(ie.a)(n,2),o=(a[0],a[1]);return r.a.createElement("nav",{className:"NavBar"},r.a.createElement(Ne.a,{to:"/",className:"home-link"},r.a.createElement("img",{src:Zt.a,alt:"logo",className:"logo"})),t&&!!t.notifications.length&&r.a.createElement("span",{className:"notification-count nav-count"},t.notifications.length),r.a.createElement(nn,{onOpenMenu:function(e){e?o(e):setTimeout((function(){o(e)}),450)}}))},cn=Object(p.a)(),rn={updateUser:L,saveRoom:K,loadRoomById:J},on=Object(s.b)((function(e){return{user:e.user.loggedinUser,contacts:e.contact.contacts,room:e.room.currRoom}}),rn)((function(e){var t=e.user,n=e.room,a=function(a){b.setup(),n&&t&&b.on("updateRoom ".concat(n._id),function(){var n=Object(d.a)(l.a.mark((function n(a){var c,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=a.updatedRoom,r=a.userId,console.log("here?"),r!==t._id&&(console.log("updated that shit",c),e.loadRoomById({roomId:c._id}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),t&&(b.on("updateUser ".concat(t._id),o),b.on("updateUserWithoutAudio ".concat(t._id),(function(t){var n=t.user;e.updateUser(n)})))},o=function(t){var n=new Audio(h.a);t?(e.updateUser(t),n.play(),console.log("notifications")):console.log("ERROR IN UPDATE USER")};return Object(c.useEffect)((function(){return a(),function(){n&&t&&(b.off("updateRoom ".concat(n._id)),b.off("updateUser ".concat(t._id)),b.off("updateUserWithoutAudio ".concat(t._id)))}})),r.a.createElement("div",{className:"App"},r.a.createElement(m.b,{history:cn},r.a.createElement(an,{user:e.user}),r.a.createElement(Yt,{onConnectSocket:a})))})),sn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function un(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ln=n(34),dn=n(134),pn={loggedinUser:null};var mn={contacts:[],currContact:null};var fn={rooms:[],currRoom:null};var hn=ln.d,vn=Object(ln.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"GET_USER":return Object(X.a)(Object(X.a)({},e),{},{loggedinUser:t.user});default:return e}},contact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACTS":return Object(X.a)(Object(X.a)({},e),{},{contacts:t.contacts});case"SET_CURR_CONTACT":return Object(X.a)(Object(X.a)({},e),{},{currContact:t.contact});case"UPDATE_CONTACT":return Object(X.a)(Object(X.a)({},e),{},{contacts:e.contacts.map((function(e){return e._id===t.contact._id?t.contact:e}))});case"DELETE_CONTACT":return Object(X.a)(Object(X.a)({},e),{},{contacts:e.contacts.filter((function(e){return e._id!==t.id}))});case"ADD_CONTACT":return Object(X.a)(Object(X.a)({},e),{},{contacts:[].concat(Object(Pt.a)(e.contacts),[t.contact])});default:return e}},room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOMS":return Object(X.a)(Object(X.a)({},e),{},{rooms:t.rooms});case"SET_CURR_ROOM":return Object(X.a)(Object(X.a)({},e),{},{currRoom:t.room});case"UPDATE_ROOM":return console.log("UPDATE_ROOM invoked rooms:",e.rooms),Object(X.a)(Object(X.a)({},e),{},{rooms:e.rooms.map((function(e){return e._id===t.room._id?(console.log("id match!"),t.room):e}))});case"DELETE_ROOM":return Object(X.a)(Object(X.a)({},e),{},{rooms:e.rooms.filter((function(e){return e._id!==t.id}))});case"ADD_ROOM":return console.log("UPDATE_ROOM ",t.room),Object(X.a)(Object(X.a)({},e),{},{rooms:[].concat(Object(Pt.a)(e.rooms),[t.room])});default:return e}}}),gn=Object(ln.e)(vn,hn(Object(ln.a)(dn.a)));i.a.render(r.a.createElement(s.a,{store:gn},r.a.createElement(r.a.StrictMode,null,r.a.createElement(on,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");sn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):un(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):un(t,e)}))}}()},39:function(e,t,n){e.exports=n.p+"static/media/x-mark.082519b9.svg"},40:function(e,t,n){e.exports=n.p+"static/media/plus.867418af.svg"},49:function(e,t,n){e.exports=n.p+"static/media/user.c79dce59.png"},53:function(e,t,n){e.exports=n.p+"static/media/save.d5a09bc5.svg"}},[[136,1,2]]]);
//# sourceMappingURL=main.e97cf52a.chunk.js.map