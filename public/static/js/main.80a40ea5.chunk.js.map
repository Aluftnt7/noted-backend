{"version":3,"sources":["assets/sound/sp-tune.mp3","assets/svg/add-note.svg","assets/svg/delete-user.svg","assets/gif/avatarLoader.gif","assets/svg/friends.svg","assets/svg/ok.svg","assets/svg/cross.svg","assets/svg/arrow.svg","assets/svg/loading.svg","assets/svg/upload.svg","assets/svg/save.svg","assets/png/petek-logo.png","services/SocketService.js","services/StorageService.js","services/HttpService.js","services/UserService.js","actions/UserActions.js","services/RoomService.js","actions/RoomActions.js","services/UtilService.js","services/ContactService.js","actions/ContactActions.js","cmps/Filter.jsx","cmps/AvatarLoader.jsx","cmps/ContactPreview.jsx","cmps/ContactList.jsx","pages/ContactPage.jsx","services/NoteService.js","actions/NoteActions.js","cmps/ButtonMenu.jsx","cmps/Note/NoteFilter.jsx","cmps/LongText.jsx","cmps/Note/NoteText.jsx","cmps/Note/NoteImg.jsx","cmps/Note/NoteVideo.jsx","cmps/Note/NoteTodo.jsx","cmps/Note/NoteLoc.jsx","cmps/icons/NotePinIcon.jsx","cmps/icons/CircleIcon.jsx","cmps/icons/ColorPaletteIcon.jsx","cmps/icons/StarIcon.jsx","cmps/Note/Features.jsx","cmps/icons/RemoveIcon.jsx","cmps/icons/EditIcon.jsx","cmps/icons/SaveIcon.jsx","cmps/Note/NotePreview.jsx","cmps/icons/SpreadIcon.jsx","cmps/icons/ListIcon.jsx","cmps/Note/NoteList.jsx","cmps/Note/NotesContainer.jsx","cmps/Loading.jsx","cmps/icons/CancelIcon.jsx","cmps/Note/InputText.jsx","cmps/Note/InputImg.jsx","services/YoutubeApiService.js","cmps/Note/InputVideo.jsx","cmps/Note/InputTodo.jsx","services/MapService.js","cmps/icons/GpsIcon.jsx","cmps/Note/InputLoc.jsx","services/CloudinaryService.js","pages/RoomPage.jsx","cmps/User/AvatarEdit.jsx","pages/HomePage.jsx","cmps/Notification/NotificationFriend.jsx","cmps/Notification/NotificationResponse.jsx","cmps/Notification/NotificationNote.jsx","cmps/Notification/NotificationStarredNote.jsx","cmps/Notification/NotificationPreview.jsx","cmps/Notification/NotificationList.jsx","pages/InboxPage.jsx","cmps/Note/StarredContainer.jsx","pages/StarredPage.jsx","pages/SignupPage.jsx","RoutePage.jsx","cmps/icons/NotificationIcon.jsx","cmps/icons/ContactsIcon.jsx","cmps/icons/LogoutIcon.jsx","cmps/Navbar.jsx","App.jsx","serviceWorker.js","store/reducers/UserReducer.js","store/reducers/ContactReducer.js","store/reducers/RoomReducer.js","store/index.js","index.js","assets/svg/plus.svg","assets/png/user.png","assets/svg/pin.svg","assets/svg/x-mark.svg"],"names":["module","exports","socket","setup","io","terminate","on","eventName","cb","off","emit","data","StorageService","save","key","value","item","JSON","stringify","localStorage","setItem","load","getItem","parse","axios","Axios","create","withCredentials","HttpService","endpoint","ajax","a","method","url","res","response","status","KEY","user","_id","getById","id","credentials","userName","fullName","password","imgUrl","notifications","starredNotes","avatarImg","joinedAt","Date","now","friends","removeItem","msg","updatedUser","userId","friendId","friend","userIdx","findIndex","splice","UserService","signUp","update","login","logout","getMinimalUser","updateImgAtContacts","getLoggedinUser","getRoomIdFromContact","loggedinUser","contact","find","updateFriend","addFriend","notification","type","SocketService","getUser","dispatch","updateUser","room","prm","roomId","RoomService","query","critirea","params","URLSearchParams","filterBy","queryParams","property","set","remove","checkIsValidUser","loadRoomById","console","log","resetCurrRoom","err","saveRoom","isEdit","UtilService","makeId","length","txt","possible","i","charAt","Math","floor","random","getRandomChuck","get","contacts","ContactService","term","toLowerCase","filteredFriends","filter","includes","getContactById","Promise","resolve","reject","deleteContact","index","saveContact","c","_updateContact","push","_addContact","getEmptyContact","loadContacts","setFilterBy","moveToContact","placeHolder","minLength","className","debounceTimeout","placeholder","onChange","e","target","onKeyDown","ev","keyCode","preventDefault","AvatarLoader","isHome","src","avatarLoader","alt","onAddFriend","onMoveToRoom","setRoomId","useState","isFriendSent","setIsFriendSent","isFriend","setIsFriend","isLoaded","setIsLoaded","onLoad","useCallback","useEffect","toggleIsFriend","onClick","style","display","friendReqSent","addFriendImg","props","showNotification","onDeleteFriend","map","ContactPreview","moveToRoom","swipeLeft","content","deleteUser","action","swipeRight","addNote","mapDispatchToProps","connect","state","history","friendIdx","Filter","ContactList","friendName","n","Noty","text","layout","theme","animation","open","close","buttons","button","show","note","noteId","color","NoteService","removeNote","changeNoteColor","toggleNotePin","updateNote","toggleStarredNote","getStarredNotes","isStarredPage","notes","updatedNote","isPinned","setNoteType","setNoteInputType","setNoteData","isOpen","setIsOpen","slideSpeed","direction","spacing","iconResting","fontSize","nativecolor","iconActive","backgroundColor","size","icon","fill","htmlFor","limit","isLongText","setIsLongText","textToShow","setTextToShow","setText","substring","textEdit","setTextEdit","header","LongText","width","allow","title","currRoom","currTodoIdx","setCurrTodoIdx","updateMembers","editedTodo","setEditedTodo","newTodo","setNewTodo","progress","setProgress","isNewTodo","setIsNewTodo","editInputRef","createRef","toggleIsDone","idx","noteCopy","isDone","members","addTodo","todoToAdd","removeTodo","doneTodosCount","reduce","acc","todo","prog","parseInt","culcProgress","current","focus","PlusIcon","checked","readOnly","ref","xmark","stopPropagation","ArrowIcon","completed","labelSize","name","height","navigator","platform","indexOf","window","coords","lat","lng","bootstrapURLKeys","center","yesIWantToUseGoogleMapApiInternals","defaultZoom","distanceToMouse","onGoogleApiLoaded","maps","Marker","position","PinIcon","renderMarkers","enableBackground","viewBox","xmlns","d","version","xmlnsXlink","x","y","xmlSpace","clipRule","fillRule","isStarred","isPalleteOpen","setIsPalleteOpen","setIsStarred","handleStarClicked","handleColorClicked","ans","some","starredNote","checkIsStarred","StarIcon","NotePinIcon","TransitionGroup","component","CSSTransition","classNames","in","timeout","enter","exit","unmountOnExit","CircleIcon","saveRoomChanges","togglePinned","isSpreadView","setIsEdit","NoteType","NoteText","NoteImg","NoteVideo","NoteTodo","NoteLoc","noteRef","paintNote","bgColor","saveNoteEdits","handleRemoveClicked","getRoomId","createdBy","backgroudColor","EditIcon","SaveIcon","RemoveIcon","format","createdAt","Features","setIsSpreadView","ListIcon","SpreadIcon","NotePreview","resetFilterBy","NoteFilter","NoteList","Loading","loading","xmlnsXink","setNoteHeader","handleSubmit","resetNoteAdd","CancelIcon","onUploadImg","inputRef","hidden","uploadImg","click","API_KEY","YoutubeApiService","youtubeQuery","items","addVideo","videos","setVideos","searchYoutubeVideos","queryStr","youtubeVideos","video","videoId","snippet","thumbnails","default","noteData","currTodo","setCurrTodo","textInput","React","useRef","xMark","todoId","saveIcon","GAPI_KEY","MapService","searchLocs","searchAddress","getPosition","geolocation","getCurrentPosition","split","join","results","error","locs","setLocs","selectedLoc","setSelectedLoc","addressInputRef","searchLoc","locations","fetchUserCoords","userPos","latitude","longitude","accurateAddressIdx","address","address_components","short_name","dataObj","geometry","location","GpsIcon","loc","place_id","formatted_address","setLocNote","UPLOAD_URL","formData","FormData","append","files","fetch","body","secure","then","json","catch","newNote","noteType","noteHeader","noteInputType","isUploading","setIsUploading","InputType","InputText","InputImg","InputVideo","InputTodo","InputLoc","loadRoom","match","CloudinaryService","secure_url","onHandleSubmit","currFriend","pathname","isMarkerShown","ButtonMenu","AvatarEdit","isLoading","setIsLoading","setIsHome","getUpdatedUser","userImgUrl","Object","assign","onApprove","onDecline","isApproved","onDeleteNotification","to","NotificationType","NotificationFriend","NotificationResponse","NotificationNote","NotificationStarredNote","fromNow","NotificationPreview","currNotification","NotificationList","getNotes","SignupPage","newUser","isSignUp","onChangeHandler","setState","resetInput","toggleSignUp","prevState","Swal","fire","confirmButtonText","confirmButtonColor","padding","background","backdrop","connectSockets","this","onConnectSocket","onSubmit","label","Component","RoutePage","isInSignupPage","prevProps","path","exact","render","routerProps","HomePage","ContactPage","StarredPage","InboxPage","withRouter","cx","cy","r","handleLogout","isMenuOpen","setIsMenuOpen","isNotificationOpen","setIsNotificationOpen","checkboxRef","handleCheboxClicked","bool","logo","NotificationIcon","ContactsIcon","LogoutIcon","createBrowserHistory","updatedRoom","disconnectSockets","audio","Audio","audioNotification","play","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","initialState","currContact","rooms","rootReducer","combineReducers","notesCopy","currNote","unshift","toDeleteIdx","toUpdateIdx","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","headers","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.80a40ea5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sp-tune.a3eeb710.mp3\";","module.exports = __webpack_public_path__ + \"static/media/add-note.91ab0319.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete-user.9760c031.svg\";","module.exports = __webpack_public_path__ + \"static/media/avatarLoader.2c9b45c9.gif\";","module.exports = __webpack_public_path__ + \"static/media/friends.e8f88cde.svg\";","module.exports = __webpack_public_path__ + \"static/media/ok.251fc800.svg\";","module.exports = __webpack_public_path__ + \"static/media/cross.21df9a01.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow.15b12873.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.a4b15b02.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.926d5c39.svg\";","module.exports = __webpack_public_path__ + \"static/media/save.d5a09bc5.svg\";","module.exports = __webpack_public_path__ + \"static/media/petek-logo.e7a6391d.png\";","import io from 'socket.io-client';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ?\r\n    '/' :\r\n    '//localhost:3030'\r\nvar socket;\r\n\r\nexport default {\r\n    setup,\r\n    terminate,\r\n    on,\r\n    off,\r\n    emit,\r\n}\r\n\r\nfunction setup() {\r\n    socket = io(BASE_URL);\r\n}\r\n\r\nfunction terminate() {\r\n    socket = null;\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n    socket.on(eventName, cb)\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n    socket.off(eventName, cb)\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    \r\n    socket.emit(eventName, data)\r\n}\r\n\r\n","function save(key, value) {\r\n  let item = JSON.stringify(value);\r\n  localStorage.setItem(key, item);\r\n}\r\nfunction load(key) {\r\n  let item = localStorage.getItem(key);\r\n  let value = JSON.parse(item);\r\n  return value;\r\n}\r\n\r\nexport const StorageService = {\r\n  save,\r\n  load,\r\n};\r\n","// import router from '@/router'\r\n// import store from '@/store'\r\n\r\nimport Axios from 'axios';\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nconst BASE_URL = process.env.NODE_ENV !== 'development' ?\r\n    '/api/' :\r\n    '//localhost:3030/api/'\r\n\r\n\r\nexport const HttpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            method,\r\n            url: `${BASE_URL}${endpoint}`,\r\n            data\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        if (err.response.status === 401) {\r\n            return false\r\n                // throw new Error('error:  http.service page')\r\n                // router.push('/');\r\n        }\r\n    }\r\n}","import { StorageService } from \"./StorageService\";\r\nimport { HttpService } from \"./HttpService.js\";\r\nimport SocketService from \"./SocketService\";\r\n\r\nimport avatarImg from \"../assets/png/user.png\";\r\n\r\nconst KEY = \"user\";\r\n\r\nasync function getLoggedinUser() {\r\n  var user = StorageService.load(KEY);\r\n  if (!user) return null;\r\n  user = await HttpService.get(`user/${user._id}`);\r\n  return user;\r\n}\r\n\r\nasync function getById(id) {\r\n  const user = await HttpService.get(`user/${id}`);\r\n  return user;\r\n}\r\n\r\nasync function signUp(credentials) {\r\n  let { userName, fullName, password, imgUrl } = credentials;\r\n  let user = {\r\n    userName,\r\n    fullName,\r\n    password,\r\n    notifications: [],\r\n    starredNotes: [],\r\n    imgUrl: imgUrl ? imgUrl : avatarImg,\r\n    joinedAt: Date.now(),\r\n    friends: [],\r\n  };\r\n\r\n  user = await HttpService.post(\"auth/signup\", user);\r\n  StorageService.save(KEY, user);\r\n  // getUser()\r\n  return user;\r\n}\r\n\r\nasync function login(credentials) {\r\n  const user = await HttpService.post(\"auth/login\", credentials);\r\n  if (!user) return null;\r\n  StorageService.save(KEY, user);\r\n  return user;\r\n}\r\n\r\nasync function logout() {\r\n  localStorage.removeItem(KEY);\r\n  const msg = await HttpService.post(\"auth/logout\");\r\n  return msg;\r\n}\r\n\r\nasync function update(user) {\r\n  const updatedUser = await HttpService.put(`user/${user._id}`, user);\r\n  StorageService.save(KEY, updatedUser);\r\n  return updatedUser;\r\n}\r\n\r\nasync function updateImgAtContacts(userId, imgUrl) {\r\n  await HttpService.put(`user/${userId}/update`, { userId, imgUrl });\r\n}\r\n\r\nasync function updateFriend(userId, friendId) {\r\n  let friend = await getById(friendId);\r\n  let userIdx = friend.friends.findIndex((user) => user._id === userId);\r\n  friend.friends.splice(userIdx, 1);\r\n  await HttpService.put(`user/${friend._id}`, friend);\r\n}\r\n\r\nfunction getMinimalUser(_id, imgUrl) {\r\n  return {\r\n    _id,\r\n    imgUrl,\r\n  };\r\n}\r\n\r\nfunction addFriend(user, friendId) {\r\n  const { userName, fullName, _id, imgUrl } = user;\r\n  let userId = _id;\r\n  let notification = {\r\n    userName,\r\n    fullName,\r\n    type: \"NotificationFriend\",\r\n    imgUrl,\r\n  };\r\n  SocketService.emit(\"Add Friend\", { notification, userId, friendId });\r\n}\r\n\r\nfunction getRoomIdFromContact(loggedinUser, contact) {\r\n  return loggedinUser.friends.find((friend) => friend._id === contact._id);\r\n}\r\n\r\nexport const UserService = {\r\n  getById,\r\n  signUp,\r\n  update,\r\n  login,\r\n  logout,\r\n  getMinimalUser,\r\n  updateImgAtContacts,\r\n  getLoggedinUser,\r\n  getRoomIdFromContact,\r\n  updateFriend,\r\n  addFriend,\r\n};\r\n","import { UserService } from '../services/UserService';\r\n\r\nexport function signUp(user) {\r\n    return async dispatch => {\r\n        const newUser = await UserService.signUp(user);\r\n        dispatch({ type: 'SET_USER', newUser })\r\n    }\r\n}\r\nexport function login(user) {\r\n    return async dispatch => {\r\n        const newUser = await UserService.login(user);\r\n        dispatch({ type: 'SET_USER', user: newUser })\r\n    }\r\n}\r\nexport function logout() {\r\n    const user = null\r\n    return async dispatch => {\r\n        await UserService.logout();\r\n        dispatch({ type: 'SET_USER', user })\r\n    }\r\n}\r\n\r\nexport function getUser() {\r\n    return async dispatch => {\r\n        const user = await UserService.getLoggedinUser();\r\n        dispatch({ type: 'GET_USER', user })\r\n        // const latestUser = await UserService.getUpdatedUser();\r\n        // dispatch({ type: 'GET_USER', latestUser })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function updateUser(user) {\r\n    return async dispatch => {\r\n        const updatedUser = await UserService.update(user);\r\n        dispatch({ type: 'SET_USER', user: updatedUser })\r\n    }\r\n}","import { HttpService } from \"./HttpService\";\r\n\r\nfunction query(critirea) {\r\n  const params = new URLSearchParams(critirea);\r\n  return HttpService.get(`room?${params}`);\r\n}\r\n\r\nfunction getById(filterBy) {\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n    return HttpService.get(`room?${queryParams}`);\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction remove(id) {\r\n  return HttpService.delete(`room/${id}`);\r\n}\r\n\r\nasync function save(room) {\r\n  let prm;\r\n\r\n  if (room._id) prm = HttpService.put(`room/${room._id}`, room);\r\n  else {\r\n    prm = HttpService.post(\"room\", room);\r\n  }\r\n  const res = await prm;\r\n  return res;\r\n}\r\n\r\n\r\n\r\nasync function checkIsValidUser(userId, roomId) {\r\n  return HttpService.post(`room/${roomId}/validate`, { userId, roomId });\r\n}\r\n\r\n\r\nexport const RoomService = {\r\n  query,\r\n  getById,\r\n  save,\r\n  remove,\r\n  checkIsValidUser\r\n};\r\n","import { RoomService } from \"../services/RoomService\";\r\n// LIST\r\nexport function loadRooms(filterBy) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const rooms = await RoomService.query(filterBy);\r\n      dispatch({ type: \"SET_ROOMS\", rooms });\r\n    } catch (err) {\r\n      console.log(\"ERROR\", err);\r\n    }\r\n  };\r\n}\r\n\r\n// READ\r\nexport function loadRoomById(filterBy) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const room = await RoomService.getById(filterBy);\r\n      dispatch({ type: \"SET_CURR_ROOM\", room });\r\n    } catch (err) {\r\n      console.log(\"ERROR\", err);\r\n    }\r\n  };\r\n}\r\n\r\n//RESET\r\nexport function resetCurrRoom() {\r\n  console.log(\"savavavavavavavavavava\");\r\n  return async (dispatch) => {\r\n    try {\r\n      const room = null;\r\n      dispatch({ type: \"RESET_CURR_ROOM\", room });\r\n    } catch (err) {\r\n      console.log(\"ERROR:\", err);\r\n    }\r\n  };\r\n}\r\n\r\n// UPDATE + CREATE\r\nexport function saveRoom(room) {\r\n  return async (dispatch) => {\r\n    const isEdit = !!room._id;\r\n    room = await RoomService.save(room);\r\n    if (isEdit) dispatch({ type: \"SET_CURR_ROOM\", room });\r\n    // dispatch({ type: 'UPDATE_ROOM', room })\r\n    else dispatch({ type: \"ADD_ROOM\", room });\r\n    return room;\r\n  };\r\n}\r\n\r\n// REMOVE\r\n\r\nexport function deleteRoom(id) {\r\n  return async (dispatch) => {\r\n    await RoomService.remove(id);\r\n    dispatch({ type: \"DELETE_ROOM\", id });\r\n  };\r\n}\r\n\r\n//setFilterBy\r\n\r\nexport function setFilterBy(filterBy) {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"SET_FILTER_BY\", filterBy });\r\n  };\r\n}\r\n\r\n//RESET FILTER BY\r\nexport function resetFilterBy() {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"RESET_FILTER_BY\" });\r\n  };\r\n}\r\n","import axios from 'axios';\r\n\r\n\r\n\r\nexport const UtilService = {\r\n    makeId,\r\n    getRandomChuck\r\n    // getRandomMeme\r\n}\r\n\r\nfunction makeId(length = 12) {\r\n    var txt = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return txt\r\n}\r\n\r\nasync function getRandomChuck(){\r\n    const res = await axios.get(`https://api.chucknorris.io/jokes/random`);\r\n    return res.data.value\r\n}\r\n// async function getRandomMeme(){\r\n//     const res = await axios.get(`https://meme-api.herokuapp.com/gimme/dankmemes/1`);\r\n//      let imgObj = {imgUrl:res.data.memes[0].url, imgHeader:res.data.memes[0].title }\r\n//      return imgObj\r\n// }","import { UtilService } from \"./UtilService\";\r\nimport { StorageService } from \"./StorageService\";\r\nimport { HttpService } from \"./HttpService.js\";\r\n\r\nconst CONTACT_KEY = \"contacts\";\r\nvar contacts = [];\r\n\r\n// function sort(arr) {\r\n//     return arr.sort((a, b) => {\r\n//         if (a.userName.toLocaleLowerCase() < b.userName.toLocaleLowerCase()) {\r\n//             return -1;\r\n//         }\r\n//         if (a.userName.toLocaleLowerCase() > b.userName.toLocaleLowerCase()) {\r\n//             return 1;\r\n//         }\r\n\r\n//         return 0;\r\n//     })\r\n// }\r\n\r\n// function query(filterBy = null) {\r\n//     return new Promise((resolve, reject) => {\r\n//         var contactsToReturn = StorageService.load(CONTACT_KEY);\r\n//         if (!contactsToReturn || !contactsToReturn.length) {\r\n//             contactsToReturn = [...contacts]\r\n//             StorageService.save(CONTACT_KEY, contactsToReturn)\r\n//         }\r\n//         contacts = [...contactsToReturn]\r\n//         if (filterBy && filterBy.term) {\r\n//             contactsToReturn = filter(filterBy.term)\r\n//         }\r\n//         contactsToReturn ? resolve(sort(contactsToReturn)) : reject(`Contacts not found!`)\r\n//     })\r\n// }\r\nfunction query(filterBy, user) {\r\n  if (filterBy.term && user) {\r\n    filterBy.term = filterBy.term.toLowerCase();\r\n    var filteredFriends = user.friends.filter((friend) => {\r\n      return (\r\n        friend.userName.toLowerCase().includes(filterBy.term) ||\r\n        friend.fullName.toLowerCase().includes(filterBy.term)\r\n      );\r\n    });\r\n    return filteredFriends.length ? filteredFriends : \"\";\r\n  }\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n    return HttpService.get(`user?${queryParams}`);\r\n  }\r\n}\r\n// function query(filterBy, user) {\r\n//     console.log(filterBy);\r\n//     console.log(user);\r\n//     // if (!filterBy.term) return []\r\n//     const queryParams = new URLSearchParams();\r\n//     if (filterBy) {\r\n//         for (const property in filterBy) {\r\n//             if (filterBy[property]) {\r\n//                 queryParams.set(property, filterBy[property])\r\n//             }\r\n//         }\r\n//         console.log(queryParams);\r\n//         return HttpService.get(`user?${queryParams}`);\r\n//     }\r\n//     // return HttpService.get('user');\r\n// }\r\n\r\nfunction getContactById(id) {\r\n  return new Promise((resolve, reject) => {\r\n    const contact = contacts.find((contact) => contact._id === id);\r\n    contact ? resolve(contact) : reject(`Contact id ${id} not found!`);\r\n  });\r\n}\r\n\r\nfunction deleteContact(id) {\r\n  return new Promise((resolve, reject) => {\r\n    const index = contacts.findIndex((contact) => contact._id === id);\r\n    if (index !== -1) {\r\n      contacts.splice(index, 1);\r\n    }\r\n    StorageService.save(CONTACT_KEY, contacts);\r\n    resolve(contacts);\r\n  });\r\n}\r\n\r\nfunction _updateContact(contact) {\r\n  return new Promise((resolve, reject) => {\r\n    const index = contacts.findIndex((c) => contact._id === c._id);\r\n    if (index !== -1) {\r\n      contacts[index] = contact;\r\n    }\r\n    StorageService.save(CONTACT_KEY, contacts);\r\n    resolve(contact);\r\n  });\r\n}\r\n\r\nfunction _addContact(contact) {\r\n  return new Promise((resolve, reject) => {\r\n    contact._id = UtilService.makeId();\r\n    contacts.push(contact);\r\n    StorageService.save(CONTACT_KEY, contacts);\r\n    resolve(contact);\r\n  });\r\n}\r\n\r\nfunction saveContact(contact) {\r\n  return contact._id ? _updateContact(contact) : _addContact(contact);\r\n}\r\n\r\nfunction getEmptyContact() {\r\n  return {\r\n    fullName: \"\",\r\n    userName: \"\",\r\n  };\r\n}\r\n\r\n// function filter(term) {\r\n//     term = term.toLocaleLowerCase()\r\n//     return contacts.filter(contact => {\r\n//         return contact.userName.toLocaleLowerCase().includes(term) ||\r\n//             contact.fullName.toLocaleLowerCase().includes(term)\r\n//     })\r\n// }\r\n\r\nexport const ContactService = {\r\n  query,\r\n  getContactById,\r\n  deleteContact,\r\n  saveContact,\r\n  getEmptyContact,\r\n};\r\n","import { ContactService } from \"../services/ContactService\";\r\n\r\n// LIST\r\nexport function loadContacts(filterBy, user) {\r\n  console.log(\"user?\", user);\r\n  return async (dispatch) => {\r\n    try {\r\n      const contacts = await ContactService.query(filterBy, user);\r\n      dispatch({ type: \"SET_CONTACTS\", contacts });\r\n    } catch (err) {\r\n      console.log(\"ERROR\", err);\r\n    }\r\n  };\r\n}\r\n\r\n// READ\r\nexport function loadContactById(id) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const contact = await ContactService.getContactById(id);\r\n      dispatch({ type: \"SET_CURR_CONTACT\", contact });\r\n    } catch (err) {\r\n      console.log(\"ERROR\", err);\r\n    }\r\n  };\r\n}\r\n\r\n//RESET\r\nexport function resetCurrContact() {\r\n  return async (dispatch) => {\r\n    try {\r\n      const contact = null;\r\n      dispatch({ type: \"SET_CURR_CONTACT\", contact });\r\n    } catch (err) {\r\n      console.log(\"ERROR:\", err);\r\n    }\r\n  };\r\n}\r\n\r\n// UPDATE + CREATE\r\nexport function saveContact(contact) {\r\n  return async (dispatch) => {\r\n    const isEdit = !!contact._id;\r\n    contact = await ContactService.saveContact(contact);\r\n    if (isEdit) dispatch({ type: \"UPDATE_CONTACT\", contact });\r\n    else dispatch({ type: \"ADD_CONTACT\", contact });\r\n    return contact;\r\n  };\r\n}\r\n\r\n// REMOVE\r\n\r\nexport function deleteContact(id) {\r\n  return async (dispatch) => {\r\n    await ContactService.deleteContact(id);\r\n    dispatch({ type: \"DELETE_CONTACT\", id });\r\n  };\r\n}\r\n\r\nexport function setFilterBy(filterBy) {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"SET_CONTACT_FILTER_BY\", filterBy });\r\n  };\r\n}\r\n\r\n//RESET FILTER BY\r\nexport function resetFilterBy() {\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"RESET_CONTACT_FILTER_BY\" });\r\n  };\r\n}\r\n","import React from 'react'\r\nimport { DebounceInput } from 'react-debounce-input';\r\n\r\nexport default ({ filterBy, setFilterBy, moveToContact, placeHolder }) => {\r\n\r\n    const onKeyHandler = (ev) => {\r\n        if (ev.keyCode === 13) {\r\n            ev.preventDefault()\r\n            moveToContact()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <DebounceInput\r\n                minLength={0}\r\n                className=\"filter-input\"\r\n                debounceTimeout={300}\r\n                type=\"text\"\r\n                placeholder={placeHolder ? placeHolder : 'Search Contacts'}\r\n                onChange={e => setFilterBy({ ...filterBy, term: e.target.value })}\r\n                onKeyDown={onKeyHandler}\r\n            />\r\n        </form>\r\n    )\r\n\r\n}\r\n","import avatarLoader from '../assets/gif/avatarLoader.gif'\r\n\r\n\r\nimport React from 'react';\r\n\r\nconst AvatarLoader = ({ isHome }) => {\r\n    return <div>\r\n         <img src={avatarLoader} alt=\"loading\" className={isHome ? \"avatar avatar-loader home\" : \"avatar avatar-loader\"}/>\r\n    </div>;\r\n}\r\n\r\nexport default AvatarLoader;","import React, { useState, useEffect, useCallback } from 'react';\r\n\r\nimport AvatarLoader from './AvatarLoader'\r\n\r\nimport addFriendImg from '../assets/svg/friends.svg'\r\nimport friendReqSent from '../assets/svg/ok.svg'\r\n\r\n\r\n\r\nexport default ({ contact, onAddFriend, loggedinUser, onMoveToRoom, setRoomId, roomId }) => {\r\n\r\n\r\n    const [isFriendSent, setIsFriendSent] = useState(false)\r\n    const [isFriend, setIsFriend] = useState(false)\r\n    const [isLoaded, setIsLoaded] = useState(false)\r\n\r\n    const onLoad = useCallback(() => {\r\n        console.log('loaded');\r\n        setIsLoaded(true);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (!loggedinUser) return\r\n        let friend = loggedinUser.friends.find(friend => { return friend._id === contact._id })\r\n        if (friend) {\r\n            setIsFriend(true)\r\n            setRoomId(friend.roomId)\r\n        } else {\r\n            setIsFriend(false)\r\n        }\r\n\r\n    }, [loggedinUser, contact._id]);\r\n\r\n    const toggleIsFriend = (ev) => {\r\n        // ev.preventDefault()\r\n        setIsFriendSent(true)\r\n\r\n    }\r\n\r\n\r\n    const handelClick = (ev) => {\r\n        onAddFriend(contact._id);\r\n        toggleIsFriend(ev)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"contact-preview\" onClick={(ev) => { if (isFriend) contact.roomId ? onMoveToRoom(ev, contact.roomId) : onMoveToRoom(ev, contact) }}>\r\n            <img onLoad={onLoad} src={contact.imgUrl} alt={`${contact.userName}`} className=\"avatar avatar-s\" style={{ display: isLoaded ? 'block' : 'none' }} />\r\n            {!isLoaded && <AvatarLoader />}\r\n            <div className=\"user-name-container\">\r\n                <span>Full Name: {contact.fullName}</span>\r\n                <span>User Name: {contact.userName}</span>\r\n            </div>\r\n            {!contact.roomId &&\r\n                <img src={isFriendSent || isFriend ? friendReqSent : addFriendImg}\r\n                    alt=\"\"\r\n                    className=\"add-friend-img\"\r\n                    onClick={(ev) => isFriend || isFriendSent ? toggleIsFriend(ev) : handelClick(ev)} />}\r\n\r\n        </div>\r\n\r\n\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { useState, useEffect } from 'react';\r\n// import { SwipeableListItem } from '@sandstreamdev/react-swipeable-list';\r\n// import '@sandstreamdev/react-swipeable-list/dist/styles.css';\r\n\r\n\r\n\r\n// import addFriendImg from '../assets/svg/friends.svg'\r\n// import friendReqSent from '../assets/svg/ok.svg'\r\n// import addNote from '../assets/svg/notes.svg'\r\n// import deleteUser from '../assets/svg/delete.svg'\r\n\r\n\r\n// export default ({ contact, onAddFriend, loggedinUser, moveToRoom,isHome }) => {\r\n\r\n\r\n//     const [isFriendSent, setIsFriendSent] = useState(false)\r\n//     const [isFriend, setIsFriend] = useState(false)\r\n//     const [roomId, setRoomId] = useState('')\r\n\r\n//     useEffect(() => {\r\n//         if (!loggedinUser) return\r\n//         let friend = loggedinUser.friends.find(friend => { return friend._id === contact._id })\r\n//         if (friend) {\r\n//             setIsFriend(true)\r\n//             setRoomId(friend.roomId)\r\n//         } else {\r\n//             setIsFriend(false)\r\n//         }\r\n//     },[loggedinUser, contact._id]);\r\n\r\n//     const toggleIsFriend = (ev) => {\r\n//         // ev.preventDefault()\r\n//         setIsFriendSent(true)\r\n\r\n//     }\r\n\r\n\r\n//     const handelClick = (ev) => {\r\n//         onAddFriend(contact._id);\r\n//         toggleIsFriend(ev)\r\n//     }\r\n\r\n\r\n//     return (\r\n//         <div className=\"swipe-container\">\r\n//       <SwipeableListItem \r\n\r\n//     swipeLeft={{\r\n//         content:<img className=\"swipe-content-left\" src={deleteUser}/>,\r\n//         action: (ev) => {console.log('balls');},\r\n\r\n//     }}\r\n//     swipeRight={{\r\n//         content:isHome ? <img src={isFriendSent || isFriend ? friendReqSent : addFriendImg} className=\"add-friend-img\"/> :  <img className=\"swipe-content-right\" src={addNote}/>,\r\n//         action: isHome ?  (ev) => isFriend || isFriendSent ? toggleIsFriend(ev) : handelClick(ev) : (ev) => { moveToRoom(ev,roomId)},\r\n\r\n//     }} \r\n//     >\r\n//       <div className=\"contact-preview\" onClick={(ev) => {if(isFriend) moveToRoom(ev,roomId) }}>    \r\n//           <img src={contact.imgUrl} alt={`${contact.userName}`} className=\"avatar avatar-s\" />\r\n//             <div className=\"user-name-container\">\r\n//                 <span>Full Name: {contact.fullName}</span>\r\n//                 <span>User Name: {contact.userName}</span>\r\n//             </div>\r\n//             {!contact.roomId &&\r\n//                 <img src={isFriendSent || isFriend ? friendReqSent : addFriendImg}\r\n//                     alt=\"\"\r\n//                     className=\"add-friend-img\"\r\n//                     onClick={(ev) => isFriend || isFriendSent ? toggleIsFriend(ev) : handelClick(ev)} />}      \r\n\r\n//         </div>\r\n//          </SwipeableListItem>\r\n//         </div>\r\n\r\n\r\n//     );\r\n// };","import React, { useState } from 'react'\r\nimport { SwipeableListItem } from '@sandstreamdev/react-swipeable-list';\r\nimport '@sandstreamdev/react-swipeable-list/dist/styles.css';\r\n\r\nimport addNote from '../assets/svg/add-note.svg'\r\nimport deleteUser from '../assets/svg/delete-user.svg'\r\n\r\nimport ContactPreview from './ContactPreview'\r\n\r\nexport default (props) => {\r\n    const { onAddFriend, loggedinUser, onMoveToRoom, isHome, onDeleteFriend, showNotification } = props\r\n    const [roomId, setRoomId] = useState('')\r\n\r\n\r\n    return (\r\n        <div className=\"contact-list swipe-container\">\r\n            {props.contacts.map(contact => {\r\n                return (\r\n                    <div key={contact._id}>\r\n                        {!isHome ? <SwipeableListItem\r\n                            swipeLeft={{\r\n                                content: <div className=\"delete-btn-container\"><img className=\"swipe-content-left\" src={deleteUser} /></div>,\r\n                                action: () => { showNotification(contact.userName, contact._id) },\r\n                            }}\r\n                            swipeRight={{\r\n                                content: <div className=\"add-btn-container\"><img className=\"swipe-content-right\" src={addNote} /></div>,\r\n                                action: (ev) => { onMoveToRoom(ev, contact.roomId) },\r\n                                key: contact._id\r\n\r\n                            }}\r\n                        >\r\n                            <ContactPreview\r\n                                contact={contact}\r\n                                onAddFriend={onAddFriend}\r\n                                loggedinUser={loggedinUser}\r\n                                key={contact._id}\r\n                                onMoveToRoom={onMoveToRoom}\r\n                                isHome={isHome}\r\n                                setRoomId={setRoomId}\r\n                                roomId={roomId}\r\n                            />\r\n                        </SwipeableListItem> :\r\n                            <ContactPreview\r\n                                contact={contact}\r\n                                onAddFriend={onAddFriend}\r\n                                loggedinUser={loggedinUser}\r\n                                key={contact._id}\r\n                                moveToRoom={onMoveToRoom}\r\n                                isHome={isHome}\r\n                                setRoomId={setRoomId}\r\n                                roomId={roomId}\r\n\r\n                            />}\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\n// import React, { useState } from 'react'\r\n// import { SwipeableListItem } from '@sandstreamdev/react-swipeable-list';\r\n// import '@sandstreamdev/react-swipeable-list/dist/styles.css';\r\n\r\n// import addNote from '../assets/svg/notes.svg'\r\n// import deleteUser from '../assets/svg/delete.svg'\r\n\r\n// import ContactPreview from './ContactPreview'\r\n\r\n// export default (props) => {\r\n//     const { onAddFriend, loggedinUser, onMoveToRoom, isHome, onDeleteFriend, showNotification } = props\r\n//     const [roomId, setRoomId] = useState('')\r\n\r\n\r\n//     return (\r\n//         <div className=\"contact-list swipe-container\">\r\n//             {props.contacts.map(contact => {\r\n//                 return (\r\n//                     <div key={contact._id}>\r\n//                         {!isHome ? <SwipeableListItem\r\n//                             swipeLeft={{\r\n//                                 content: <img className=\"swipe-content-left\" src={deleteUser} />,\r\n//                                 action: (ev) => { showNotification(contact.userName, contact._id) },\r\n//                                 // action: (ev) => { onDeleteFriend(contact._id) },\r\n\r\n\r\n//                             }}\r\n//                             swipeRight={{\r\n//                                 content: <img className=\"swipe-content-right\" src={addNote} />,\r\n//                                 action: (ev) => { onMoveToRoom(ev, contact.roomId) },\r\n//                                 key: contact._id\r\n\r\n//                             }}\r\n//                         >\r\n//                             <ContactPreview\r\n//                                 contact={contact}\r\n//                                 onAddFriend={onAddFriend}\r\n//                                 loggedinUser={loggedinUser}\r\n//                                 key={contact._id}\r\n//                                 moveToRoom={onMoveToRoom}\r\n//                                 isHome={isHome}\r\n//                                 setRoomId={setRoomId}\r\n//                                 roomId={roomId}\r\n//                             />\r\n//                         </SwipeableListItem> :\r\n//                             <ContactPreview\r\n//                                 contact={contact}\r\n//                                 onAddFriend={onAddFriend}\r\n//                                 loggedinUser={loggedinUser}\r\n//                                 key={contact._id}\r\n//                                 moveToRoom={onMoveToRoom}\r\n//                                 isHome={isHome}\r\n//                                 setRoomId={setRoomId}\r\n//                                 roomId={roomId}\r\n\r\n//                             />}\r\n//                     </div>\r\n//                 )\r\n//             })}\r\n//         </div>\r\n\r\n//     );\r\n// };\r\n\r\n\r\n\r\n\r\n// import React from 'react'\r\n\r\n// import ContactPreview from './ContactPreview'\r\n// export default (props) => {\r\n//     const { onAddFriend, loggedinUser, onMoveToRoom, isHome } = props\r\n\r\n\r\n//     return (\r\n//         <div className=\"contact-list\">\r\n//             {props.contacts.map(contact => {\r\n//                 return (\r\n//                     <ContactPreview\r\n//                         contact={contact}\r\n//                         onAddFriend={onAddFriend}\r\n//                         loggedinUser={loggedinUser}\r\n//                         key={contact._id}\r\n//                         moveToRoom={onMoveToRoom}\r\n//                         isHome={isHome}\r\n//                     />\r\n//                 )\r\n//             })}\r\n//         </div>\r\n//     );\r\n// };\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport Noty from 'noty';\r\n\r\nimport { loadContacts } from '../actions/ContactActions';\r\nimport { loadRoomById } from '../actions/RoomActions';\r\nimport { updateUser } from '../actions/UserActions';\r\n\r\nimport { UserService } from '../services/UserService'\r\n\r\n\r\nimport Filter from '../cmps/Filter'\r\nimport ContactList from '../cmps/ContactList'\r\n\r\nconst ContactPage = (props) => {\r\n    const [filterBy, setFilterBy] = useState({ term: '', roomId: '' })\r\n    const { contacts, user } = props\r\n\r\n\r\n    const onMoveToRoom = async (ev, roomId) => {\r\n        if (!props.history) {\r\n            await props.loadRoomById({ roomId });\r\n            return\r\n        }\r\n        props.history.push(`/room/${roomId}`);\r\n    }\r\n\r\n    const loadContacts = async () => {\r\n        await props.loadContacts(filterBy, user);\r\n    };\r\n\r\n    const handleKeyPress = () => {\r\n        if (props.contacts.length === 1) {\r\n            let id = props.contacts[0]._id\r\n            props.history.push(`/room/${id}`);\r\n        }\r\n    }\r\n\r\n    const showNotification = (friendName, friendId) => {\r\n        //bgc \r\n        let n = new Noty({\r\n            text: `Remove ${friendName} from your contact list?`,\r\n            layout: 'center',\r\n            theme: 'sunset',\r\n            type: 'alert',\r\n            // theme: 'bootstrap-v4',\r\n\r\n            animation: {\r\n                open: 'animated bounceInRight', // Animate.css class names\r\n                close: 'animated bounceOutRight' // Animate.css class names\r\n            },\r\n            buttons: [\r\n                Noty.button('YES', 'btn btn-danger', () => {\r\n                    onDeleteFriend(friendId)\r\n                    n.close();\r\n                }, { id: 'button1', 'data-status': 'ok' }),\r\n\r\n                Noty.button('NO', 'btn btn-error', () => {\r\n                    n.close();\r\n                })\r\n            ]\r\n        });\r\n        n.show()\r\n    }\r\n\r\n    const onDeleteFriend = (friendId) => {\r\n        let friendIdx = user.friends.findIndex(friend => friend._id === friendId)\r\n        user.friends.splice(friendIdx, 1)\r\n        props.updateUser(user)\r\n        UserService.updateFriend(user._id, friendId)\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadContacts()\r\n    }, [filterBy])\r\n\r\n\r\n    return (\r\n        <div>\r\n            {user && <div>\r\n                <Filter\r\n                    filterBy={filterBy}\r\n                    setFilterBy={setFilterBy}\r\n                    moveToContact={handleKeyPress} />\r\n                {!!contacts && <ContactList showNotification={showNotification} onDeleteFriend={onDeleteFriend} onMoveToRoom={onMoveToRoom} loggedinUser={user} contacts={user.friends} />}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        contacts: state.contact.contacts,\r\n        user: state.user.loggedinUser,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadContacts,\r\n    loadRoomById,\r\n    updateUser,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactPage);","import { HttpService } from './HttpService.js'\r\n\r\nasync function addNote(userId, roomId, note) {\r\n    return await HttpService.post(`note/add`, { userId, roomId, note })\r\n}\r\n\r\nasync function removeNote(roomId, noteId) {\r\n    return HttpService.delete(`note/removeNote`, { roomId, noteId });\r\n}\r\n\r\nasync function changeNoteColor(roomId, noteId, color) {\r\n    return HttpService.put(`note/changeNoteColor`, {\r\n        roomId,\r\n        noteId,\r\n        color,\r\n    });\r\n}\r\n\r\nasync function toggleNotePin(roomId, noteId) {\r\n    return HttpService.put(`note/toggleNotePin`, { roomId, noteId });\r\n}\r\n\r\nasync function updateNote(roomId, note) {\r\n    return HttpService.put(`note/updateNote`, { roomId, note });\r\n}\r\n\r\nasync function toggleStarredNote(userId, roomId, noteId) {\r\n    return await HttpService.put(`note/toggleStar`, { userId, roomId, noteId })\r\n}\r\n\r\nfunction getStarredNotes(user) {\r\n    const queryParams = new URLSearchParams();\r\n    if (user) {\r\n        for (const property in user) {\r\n            if (user[property]) {\r\n                queryParams.set(property, JSON.stringify(user[property]));\r\n            }\r\n        }\r\n        return HttpService.get(`note/starredNotes/?${queryParams}`);\r\n    }\r\n}\r\n\r\n\r\nexport const NoteService = {\r\n    addNote,\r\n    removeNote,\r\n    changeNoteColor,\r\n    toggleNotePin,\r\n    updateNote,\r\n    toggleStarredNote,\r\n    getStarredNotes\r\n}","import { NoteService } from '../services/NoteService'\r\n\r\n\r\nexport function addNote(userId, roomId, note) {\r\n    return async (dispatch) => {\r\n        try {\r\n            let newNote = await NoteService.addNote(userId, roomId, note);\r\n            dispatch({ type: \"ADD_NOTE\", note: newNote });\r\n        } catch (err) {\r\n            console.log(\"ERROR\", err);\r\n        }\r\n    };\r\n}\r\n\r\n\r\n\r\nexport function toggleStarredNote(userId, roomId, noteId, isStarredPage) {\r\n    return async dispatch => {\r\n        try {\r\n            let user = await NoteService.toggleStarredNote(userId, roomId, noteId);\r\n            dispatch({ type: 'SET_USER', user })\r\n            if (isStarredPage) {\r\n                let notes = await NoteService.getStarredNotes(user)\r\n                dispatch({ type: \"SET_CURR_ROOM\", room: { notes } })\r\n            }\r\n        } catch (err) {\r\n            console.log('ERROR', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeNote(roomId, noteId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            await NoteService.removeNote(roomId, noteId);\r\n            dispatch({ type: \"REMOVE_NOTE\", noteId });\r\n            //SET_USER AFTER REMOVING NOTE\r\n        } catch (err) {\r\n            console.log(\"ERROR\", err);\r\n        }\r\n    };\r\n}\r\n\r\n\r\nexport function changeNoteColor(roomId, noteId, color) {\r\n    return async (dispatch) => {\r\n        try {\r\n            let updatedNote = await NoteService.changeNoteColor(roomId, noteId, color);\r\n            dispatch({ type: \"UPDATE_NOTE\", note: updatedNote });\r\n        } catch (err) {\r\n            console.log(\"ERROR\", err);\r\n        }\r\n    };\r\n}\r\n\r\n\r\n\r\nexport function toggleNotePin(roomId, noteId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            let note = await NoteService.toggleNotePin(roomId, noteId);\r\n            dispatch({ type: (note.isPinned) ? \"SET_PIN_NOTE\" : \"SET_UNPIN_NOTE\", note })\r\n        } catch (err) {\r\n            console.log(\"ERROR\", err);\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateNote(roomId, note) {\r\n    return async (dispatch) => {\r\n        try {\r\n            let updatedNote = await NoteService.updateNote(roomId, note);\r\n            dispatch({ type: \"UPDATE_NOTE\", note: updatedNote })\r\n        } catch (err) {\r\n            console.log(\"ERROR\", err);\r\n        }\r\n    };\r\n}\r\n\r\nexport function getStarredNotes(user) {\r\n    return async (dispatch) => {\r\n        try {\r\n            let notes = await NoteService.getStarredNotes(user);\r\n            let room = { notes };\r\n            dispatch({ type: \"SET_CURR_ROOM\", room });\r\n        } catch (err) {\r\n            console.log(\"ERROR\", err);\r\n        }\r\n    };\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport {\r\n    FloatingMenu,\r\n    MainButton,\r\n    ChildButton,\r\n} from 'react-floating-button-menu';\r\nimport MdAdd from '@material-ui/icons/Add';\r\nimport MdClose from '@material-ui/icons/Clear';\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport LocIcon from '@material-ui/icons/Room';\r\n\r\n// import SvgIcon from '@material-ui/core/SvgIcon';    //PROBABLY NOT NEEDED\r\n// import styled from 'styled-components' //PROBABLY NOT NEEDED\r\n\r\nexport default ({ setNoteType, setNoteInputType, setNoteData }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    return (\r\n        <FloatingMenu\r\n            slideSpeed={500}\r\n            direction=\"up\"\r\n            spacing={8}\r\n            isOpen={isOpen}\r\n            className=\"button-menu\"\r\n        >\r\n            <MainButton\r\n                iconResting={<MdAdd style={{ fontSize: 20 }} nativecolor=\"white\" />}\r\n                iconActive={<MdClose style={{ fontSize: 20 }} nativecolor=\"white\" />}\r\n                backgroundColor=\"black\"\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                size={56}\r\n            />\r\n            <ChildButton\r\n                icon={<TextFieldsIcon style={{ fontSize: 20, fill: '#51a255' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteText'); setIsOpen(!isOpen); setNoteInputType('InputText') }}\r\n            />\r\n            <ChildButton\r\n                icon={<ImageIcon style={{ fontSize: 20, fill: '#28b5f2' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteImg'); setIsOpen(!isOpen); setNoteInputType('InputImg') }}\r\n            />\r\n            <ChildButton\r\n                icon={<VideocamIcon style={{ fontSize: 20, fill: '#ff0000' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteVideo'); setIsOpen(!isOpen); setNoteInputType('InputVideo') }}\r\n            />\r\n            <ChildButton\r\n                icon={<ListIcon style={{ fontSize: 20, fill: '#ffa350' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteTodo'); setIsOpen(!isOpen); setNoteInputType('InputTodo'); setNoteData([]) }}\r\n            />\r\n              <ChildButton\r\n                icon={<LocIcon style={{ fontSize: 20, fill: '#800080' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteLoc'); setIsOpen(!isOpen); setNoteInputType('InputLoc'); setNoteData(null) }}\r\n            />\r\n        </FloatingMenu>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { DebounceInput } from 'react-debounce-input';\r\n\r\nexport default ({ filterBy, setFilterBy, roomId }) => {\r\n    return (\r\n        <section>\r\n            <DebounceInput\r\n                minLength={0}\r\n                className=\"note-filter-input\"\r\n                debounceTimeout={300}\r\n                type=\"text\"\r\n                placeholder={'Search Notes'}\r\n                onChange={e => setFilterBy({ ...filterBy, roomId, term: e.target.value,  })}\r\n            />\r\n            <label htmlFor=\"type-select\">Type</label>\r\n            <select id=\"type-select\" onChange={e => setFilterBy({ ...filterBy, roomId, type: e.target.value })}>\r\n                <option value=\"\">All</option>\r\n                <option value=\"NoteText\">Text</option>\r\n                <option value=\"NoteImg\">Image</option>\r\n                <option value=\"NoteVideo\">Video</option>\r\n                <option value=\"NoteTodo\">Todos</option>\r\n                <option value=\"NoteLoc\">Location</option>\r\n            </select>\r\n        </section >\r\n    )\r\n\r\n}\r\n//filterBy Model{\r\n    // roomId,\r\n    // term,\r\n    // type\r\n    // }","import React, { useState, useEffect } from 'react'\r\n\r\nexport default ({ text, limit }) => {\r\n    const [isLongText, setIsLongText] = useState('')\r\n    const [textToShow, setTextToShow] = useState('')\r\n\r\n    const toggleIsLongText = () => {\r\n        setIsLongText(!isLongText)\r\n        setText()\r\n    }\r\n\r\n    const setText = () => {\r\n        isLongText ? setTextToShow(text.substring(0, limit) + '...') : setTextToShow(text)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setIsLongText(text.length > limit)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setText()\r\n    }, [isLongText])\r\n\r\n    useEffect(() => {\r\n        setText()\r\n    }, [text])\r\n\r\n    return (\r\n        <div className=\"long-text\">\r\n            {!!textToShow.length && <p>\r\n                {textToShow}\r\n                {text.length > limit && <span className=\"long-text-btn\" onClick={toggleIsLongText}>{textToShow.length > limit + 4 ? 'Read Less' : 'Read More'}</span>}\r\n            </p>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport LongText from '../LongText'\r\n\r\nexport default ({ note, isEdit, textEdit, setTextEdit }) => {\r\n    return (\r\n        <div className=\"note-text\">\r\n            {note.header && <h4>{note.header}</h4>}\r\n            {isEdit\r\n                ? <textarea type=\"text\" onChange={(e) => setTextEdit(e.target.value)} value={textEdit} />\r\n                : <LongText text={note.data} limit={25} />}\r\n        </div>\r\n    )\r\n}\r\n\r\n// export default ({ note, isEdit, textEdit, setTextEdit }) => {\r\n\r\n//     return (\r\n//         <div className=\"note-text\">\r\n//             {note.header && <h4>{note.header}</h4>}\r\n//             {isEdit\r\n//                 ? <input type=\"text\" onChange={(e) => setTextEdit(e.target.value)} />\r\n//                 : <p>{note.data}</p>}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n\r\n//Trying to animate the switch between edit and text. the problem is that altough its not edit mode \r\n// the input is shown. after the first time we switch isEdit the problem is fixed.import React, { useState } from 'react'\r\n// import { CSSTransition } from 'react-transition-group';\r\n\r\n// export default ({ note, isEdit, textEdit, setTextEdit, isNotEdit }) => {\r\n\r\n//     return (\r\n//         <div className=\"note-text\">\r\n//             {note.header && <h4>{note.header}</h4>}\r\n//             {/* {isEdit\r\n//                 ? <input type=\"text\" onChange={(e) => setTextEdit(e.target.value)} />\r\n//                 : <p>{note.data}</p>} */}\r\n//             <CSSTransition\r\n//                 classNames={'fade'}\r\n//                 timeout={300}\r\n//                 in={isEdit}>\r\n//                 <input type=\"text\" onChange={(e) => setTextEdit(e.target.value)} />\r\n//             </CSSTransition>\r\n//             <CSSTransition\r\n//                 classNames={'fade'}\r\n//                 timeout={300}\r\n//                 in={isNotEdit}>\r\n//                 <p>{note.data}</p>\r\n//             </CSSTransition>\r\n//             {isEdit ? <h1>true</h1> : <h1>false</h1>}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n","import React from 'react'\r\n\r\nexport default ({ note }) => {\r\n    return (\r\n        <div className=\"note-img\">\r\n            {note.header && <h4>{note.header}</h4>}\r\n            <img src={note.data} alt={note.data} />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default ({ note }) => {\r\n    const formattedVidLink = () => {\r\n        return 'https://www.youtube.com/embed/' + note.data\r\n    }\r\n    return (\r\n        <div className=\"note-video\">\r\n            {note.header && <h4>{note.header}</h4>}\r\n            <iframe width=\"100%\" allow=\"fullscreen\" src={formattedVidLink()} title=\"Video Player\"></iframe>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState, createRef } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport ProgressBar from '@ramonak/react-progress-bar';\r\n\r\nimport { UtilService } from '../../services/UtilService'\r\nimport SocketService from '../../services/SocketService'\r\n\r\nimport PlusIcon from '../../assets/svg/plus.svg'\r\nimport xmark from '../../assets/svg/cross.svg'\r\nimport ArrowIcon from '../../assets/svg/arrow.svg'\r\n\r\nimport { saveRoom } from '../../actions/RoomActions';\r\n//TODO: IMPROVE EDIT INPUT AND MINUS UI +++ reflect trough socket\r\n\r\nconst NoteTodo = ({ note, roomId, room, userId, isEdit, currTodoIdx, setCurrTodoIdx, updateNote, updateMembers, isStarredPage }) => {\r\n\r\n    const [editedTodo, setEditedTodo] = useState('');\r\n    const [newTodo, setNewTodo] = useState('');\r\n    const [progress, setProgress] = useState(0)\r\n    const [isNewTodo, setIsNewTodo] = useState(false)\r\n\r\n    const editInputRef = createRef();\r\n\r\n    const toggleIsDone = async (idx) => {\r\n        if (isEdit) return\r\n        let noteCopy = JSON.parse(JSON.stringify(note))\r\n        noteCopy.data[idx].isDone = !noteCopy.data[idx].isDone\r\n        await updateNote(roomId, noteCopy)// old and load notes in starred bug \r\n        if (room.members && room.members.length > 1) updateMembers() //if is a plaster\r\n    }\r\n\r\n    const addTodo = async () => {\r\n\r\n        let todoToAdd = {\r\n            text: newTodo,\r\n            isDone: false,\r\n            _id: UtilService.makeId(5)\r\n        }\r\n\r\n        let noteCopy = JSON.parse(JSON.stringify(note))\r\n        noteCopy.data.push(todoToAdd);\r\n        console.log(noteCopy);\r\n        await updateNote(room._id, noteCopy)\r\n        updateMembers()\r\n        setIsNewTodo(false)\r\n        setNewTodo('')\r\n    };\r\n\r\n    const removeTodo = async (idx) => {\r\n        let noteCopy = JSON.parse(JSON.stringify(note))\r\n        noteCopy.data.splice(idx, 1)\r\n        await updateNote(room._id, noteCopy)\r\n        updateMembers()\r\n    }\r\n\r\n    const culcProgress = () => {\r\n        let doneTodosCount = note.data.reduce((acc, todo) => {\r\n            if (todo.isDone) acc++\r\n            return acc;\r\n        }, 0);\r\n        let prog = parseInt(doneTodosCount / note.data.length * 100)\r\n        setProgress(prog)\r\n    }\r\n\r\n    useEffect(() => {\r\n        culcProgress()\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        if (editInputRef.current) editInputRef.current.focus()\r\n        if (currTodoIdx !== '' && editInputRef.current) note.data[currTodoIdx].text = editedTodo\r\n    }, [editedTodo, currTodoIdx])\r\n\r\n    return (\r\n        <div className=\"note-todo\">\r\n            <div className=\"todo-header\">\r\n                {note.header && <h4>{note.header}</h4>}\r\n                {isEdit && <img src={PlusIcon} className=\"new-todo-btn\" onClick={() => { setIsNewTodo(true) }} />}\r\n            </div>\r\n            <ul>\r\n                {!!note.data.length && note.data.map((todo, idx) => {\r\n                    return (\r\n                        <li key={todo._id} onClick={() => {\r\n                            if (isEdit) {\r\n                                setCurrTodoIdx(idx);\r\n                                setEditedTodo(todo.text)\r\n                            }\r\n                            //later remove this func from template to so called \"methods\"\r\n                        }}>\r\n                            <div>\r\n                                <input type=\"checkbox\" onClick={(ev) => toggleIsDone(idx)} checked={todo.isDone} readOnly />\r\n                                {(currTodoIdx !== idx) && <span className={todo.isDone ? 'done' : ''} >{todo.text}</span>}\r\n                            </div>\r\n                            {(isEdit && currTodoIdx === idx) && <input type=\"text\" value={editedTodo} ref={editInputRef} onChange={(e) => { setEditedTodo(e.target.value); }} />}\r\n                            {isEdit && <img src={xmark} className=\"remove-todo-btn\" onClick={(ev) => { ev.stopPropagation(); removeTodo(idx); }} />}\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n\r\n            {isNewTodo && <div className=\"add-todo-container\">\r\n                <input type=\"text\" className=\"add-todo-input\" placeholder=\"New Todo\" onChange={e => setNewTodo(e.target.value)} />\r\n                <img src={ArrowIcon} className=\"add-todo-btn\" onClick={() => addTodo()} />\r\n            </div>}\r\n            <div className=\"progress-bar\">\r\n                <ProgressBar completed={progress} labelSize={!progress ? '0' : '0.75rem'} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n//checkbox read only prop makes error go away, we will let it stay for a while\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        room: state.room.currRoom,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    saveRoom,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteTodo);","import React from 'react'\r\nimport GoogleMapReact from 'google-map-react';\r\n\r\nimport PinIcon from '../../assets/svg/pin.svg'\r\n\r\n\r\n\r\nexport default ({ note }) => {\r\n    const mapsSelector = () => {\r\n        if /* if we're on iOS, open in Apple Maps */\r\n            ((navigator.platform.indexOf(\"iPhone\") != -1) ||\r\n            (navigator.platform.indexOf(\"iPod\") != -1) ||\r\n            (navigator.platform.indexOf(\"iPad\") != -1))\r\n            window.open(`maps://maps.google.com/maps?daddr=${note.data.coords.lat},${note.data.coords.lng}&amp;ll=`);\r\n\r\n        else /* else use Google */\r\n            window.open(`https://maps.google.com/maps?daddr=${note.data.coords.lat},${note.data.coords.lng}&amp;ll=\"`);\r\n    }\r\n\r\n    const renderMarkers = (map, maps) => {\r\n        let marker = new maps.Marker({\r\n            position: { lat: note.data.coords.lat, lng: note.data.coords.lng },\r\n            map,\r\n            icon: PinIcon\r\n        });\r\n        return marker;\r\n    };\r\n\r\n    return (\r\n        <div className=\"note-loc\">\r\n            {note.header && <h4>{note.header}</h4>}\r\n            {note.data.name && <h6>{note.data.name}</h6>}\r\n            {note && <div style={{ height: '30vh', width: '100%' }} onClick={mapsSelector}>\r\n                <GoogleMapReact\r\n                    bootstrapURLKeys={{ key: 'AIzaSyDGBQTVrw0MAb3SQ9UbI1sMEz9UNedEXzA' }}\r\n                    center={note.data.coords}\r\n                    yesIWantToUseGoogleMapApiInternals={true}\r\n                    defaultZoom={18}\r\n                    distanceToMouse={() => { }}\r\n                    onGoogleApiLoaded={({ map, maps }) => renderMarkers(map, maps)}\r\n                >\r\n                </GoogleMapReact>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default ({ isPinned }) => {\r\n    return <svg className={isPinned ? 'note-pin-icon pinned' : 'note-pin-icon'}  enableBackground=\"new 0 0 494.982 494.982\" viewBox=\"0 0 494.982 494.982\"  xmlns=\"http://www.w3.org/2000/svg\">\r\n    <g>\r\n    <g>\r\n    <path className=\"clr clr-5\" d=\"m15.871 486.565 28.585-18.848c26.039-17.169 50.274-36.934 72.332-58.992l106.088-106.088-30.521-30.521-106.087 106.089c-22.058 22.058-41.824 46.293-58.992 72.332l-18.848 28.585c-3.227 4.894 2.549 10.67 7.443 7.443z\" />\r\n    <path className=\"clr clr-4\" d=\"m55.526 450.537c17.168-26.039 36.934-50.274 58.992-72.332l91.963-91.963-14.125-14.125-106.088 106.088c-22.058 22.058-41.824 46.293-58.992 72.332l-18.848 28.585c-3.227 4.894 2.549 10.67 7.443 7.443l28.126-18.545z\" />\r\n    <path className=\"clr clr-3\" d=\"m431.826 139.878c-8.131-8.131-68.579-68.579-76.711-76.711l-108.84 101.993 83.559 83.559z\" />\r\n    <path className=\"clr clr-2\" d=\"m391.099 99.151c-16.327-16.327-32.106-32.106-35.984-35.984l-108.84 101.993 35.984 35.984z\" />\r\n    <path className=\"clr clr-1\" d=\"m479.42 98.532-82.96-82.96c-10.726-10.726-28.277-10.726-39.003 0l-6.727 6.728c-10.726 10.726-10.726 28.277 0 39.003l82.96 82.96c10.726 10.726 28.277 10.726 39.003 0l6.728-6.728c10.725-10.725 10.725-28.277-.001-39.003z\" />\r\n    <path className=\"clr clr-3\" d=\"m398.94 72.924 8.231-8.23c7.855-7.855 18.701-11.002 28.958-9.453l-39.668-39.668c-10.726-10.726-28.277-10.726-39.003 0l-6.728 6.728c-10.726 10.726-10.726 28.277 0 39.003l38.508 38.508c-.857-9.628 2.374-19.56 9.702-26.888z\" />\r\n    <path className=\"clr clr-1\" d=\"m327.702 384.766c18.417-33.878 23.816-64.549 24.813-85.94.824-17.688-5.84-34.896-18.361-47.417l-90.57-90.57c-12.521-12.521-29.729-19.185-47.417-18.361-21.391.997-52.062 6.396-85.94 24.813-7.866 4.277-9.384 14.942-3.053 21.273l199.255 199.255c6.331 6.331 16.997 4.813 21.273-3.053z\" />\r\n    <path className=\"clr clr-3\" d=\"m165.482 223.656c32.836-20.465 61.329-28.735 80.898-31.985 12.602-2.093 24.431-.004 33.785 5.749l-36.581-36.581c-12.521-12.521-29.729-19.185-47.417-18.361-21.391.997-52.062 6.396-85.941 24.813-7.866 4.277-9.384 14.942-3.053 21.273l51.003 51.003c-1.541-5.246 1.296-12.165 7.306-15.911z\" /></g>\r\n    <path d=\"m2.152 474.996c-3.396 5.159-2.718 11.812 1.649 16.181 4.369 4.368 11.022 5.046 16.183 1.65 33.379-21.971 63.783-40.488 101.729-78.435l38.352-38.352c2.929-2.93 2.929-7.678 0-10.607-2.93-2.928-7.678-2.928-10.607 0l-38.352 38.353c-36.021 36.022-66.054 54.582-90.754 70.841 16.023-24.346 34.617-54.531 70.841-90.755l100.349-100.35 19.915 19.915-37.25 37.249c-2.929 2.93-2.929 7.678 0 10.607 2.93 2.928 7.678 2.928 10.607 0l37.249-37.249 79.063 79.063c9.885 9.882 26.49 7.506 33.165-4.775 19.49-35.851 24.743-68.28 25.717-89.174.884-18.978-6.019-37.569-18.966-51.399l89.811-95.967c13.697 11.335 34.221 10.681 47.143-2.241l6.729-6.729c13.676-13.677 13.676-35.933-.001-49.61l-31.18-31.179c-2.927-2.927-7.676-2.93-10.606.001-2.929 2.929-2.929 7.677.001 10.606l31.179 31.178c7.829 7.83 7.829 20.568.001 28.397l-6.729 6.728c-7.826 7.829-20.567 7.829-28.396 0-8.836-8.836-71.82-71.82-82.96-82.96-7.806-7.806-7.804-20.593.001-28.396l6.728-6.729c7.805-7.805 20.593-7.804 28.396.001l27.031 27.031c2.93 2.928 7.678 2.928 10.607 0 2.929-2.93 2.929-7.678 0-10.607l-27.031-27.03c-13.67-13.67-35.942-13.667-49.61-.001l-6.727 6.728c-12.905 12.905-13.594 33.428-2.242 47.144l-95.967 89.811c-13.828-12.947-32.404-19.842-51.4-18.966-20.892.974-53.322 6.226-89.173 25.716-12.283 6.677-14.655 23.286-4.774 33.166l79.063 79.063-100.351 100.351c-38.07 38.073-56.665 68.656-78.433 101.731zm351.53-400.15 66.449 66.45-89.66 95.806-72.595-72.595zm-241.203 108.399c-2.794-2.792-2.132-7.498 1.331-9.381 33.35-18.13 63.385-23.009 82.708-23.909 15.524-.727 30.756 5.165 41.764 16.172l90.57 90.57c11.002 11.001 16.896 26.224 16.172 41.763-.9 19.323-5.779 49.358-23.91 82.708-1.874 3.443-6.569 4.145-9.38 1.332-4.936-4.936-194.483-194.483-199.255-199.255z\"/></g></svg>\r\n}\r\n\r\n\r\n// reds:\r\n// clr-1:#FB5252\r\n// clr-2:#F04141\r\n// clr-3:#FF4A3C\r\n// clr-4:#b1dbfc\r\n// clr-5:#dfebfa","import React from 'react';\r\n\r\n\r\nexport default ({ fill }) => {\r\n\r\n    return <svg className=\"circle-icon\" style={{ fill }} version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n        viewBox=\"0 0 512 512\" xmlSpace=\"preserve\">\r\n        <g>\r\n            <g>\r\n                <path d=\"M256,0C115.39,0,0,115.39,0,256s115.39,256,256,256s256-115.39,256-256S396.61,0,256,0z\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n    </svg>\r\n\r\n\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return <svg className=\"color-pallete-icon\" enableBackground=\"new 0 0 512.037 512.037\" viewBox=\"0 0 512.037 512.037\" xmlns=\"http://www.w3.org/2000/svg\"><g>\r\n        <g clipRule=\"evenodd\" fillRule=\"evenodd\">\r\n            <path d=\"m237.033 233.985 41.012 41.013 64.978-69.184 153.518-163.455c7.154-7.617 7.389-19.481 0-26.87s-19.253-7.154-26.87 0l-163.455 153.519z\" fill=\"#6d91ac\" />\r\n            <path d=\"m278.045 274.998-41.012-41.013c-68.762 18.425-23.075 64.087-57.278 98.291 28.514 16.463 98.291-4.426 98.29-57.278z\" fill=\"#f4e9e2\" />\r\n            <path d=\"m179.754 332.276c34.203-34.203-11.484-79.866 57.278-98.291l69.183-64.977c-7.007-13.059-10.558-27.482-10.655-41.924-.175-26.127 24.949-56.528-41.774-63.75-63.943-6.921-130.337 14.12-179.356 63.14-85.915 85.916-85.915 225.211 0 311.127 85.916 85.916 225.211 85.916 311.127 0 49.019-49.019 70.061-115.413 63.14-179.356-7.222-66.723-37.623-41.6-63.75-41.774-14.442-.097-28.866-3.648-41.925-10.655l-64.978 69.184c.002 52.85-69.775 73.739-98.29 57.276zm5.074-164.71c-15.307 6.34-32.857-.929-39.197-16.236s.929-32.856 16.236-39.197 32.857.929 39.198 16.236c6.339 15.307-.93 32.856-16.237 39.197zm-66.154 66.13c-6.34 15.307-23.89 22.576-39.197 16.236-15.307-6.341-22.576-23.89-16.236-39.197s23.89-22.577 39.197-16.236 22.576 23.89 16.236 39.197zm-.017 93.538c6.34 15.307-.929 32.857-16.236 39.197s-32.856-.929-39.197-16.236c-6.34-15.307.929-32.857 16.236-39.197s32.857.929 39.197 16.236zm159.669 66.171c15.307-6.34 32.857.929 39.198 16.236 6.34 15.307-.929 32.856-16.236 39.197s-32.857-.929-39.197-16.236c-6.341-15.307.928-32.857 16.235-39.197zm-93.539-.016c15.307 6.34 22.576 23.89 16.236 39.197-6.341 15.307-23.89 22.576-39.197 16.236-15.308-6.341-22.577-23.89-16.236-39.197 6.341-15.308 23.89-22.577 39.197-16.236zm159.693-66.114c6.34-15.307 23.89-22.577 39.197-16.236 15.307 6.34 22.576 23.889 16.236 39.197-6.341 15.307-23.89 22.577-39.197 16.236-15.308-6.341-22.577-23.89-16.236-39.197z\" fill=\"#ddb9a3\" />\r\n            <path d=\"m145.63 151.33c6.341 15.307 23.89 22.576 39.197 16.236 15.307-6.341 22.576-23.89 16.236-39.197s-23.89-22.577-39.198-16.236c-15.306 6.34-22.575 23.89-16.235 39.197z\" fill=\"#000\" />\r\n            <path d=\"m118.674 233.696c6.34-15.307-.929-32.856-16.236-39.197s-32.857.929-39.197 16.236c-6.341 15.307.929 32.856 16.236 39.197 15.307 6.34 32.856-.929 39.197-16.236z\" fill=\"#ffa350\" />\r\n            <path d=\"m118.657 327.234c-6.341-15.307-23.89-22.577-39.197-16.236s-22.577 23.89-16.236 39.197 23.89 22.576 39.197 16.236 22.576-23.889 16.236-39.197z\" fill=\"#f78888\" />\r\n            <path d=\"m184.787 393.389c-15.307-6.341-32.856.929-39.197 16.236s.929 32.857 16.236 39.197 32.856-.929 39.197-16.236c6.341-15.308-.929-32.857-16.236-39.197z\" fill=\"#fff59d\" />\r\n            <path d=\"m278.326 393.405c-15.307 6.34-22.576 23.89-16.236 39.197 6.341 15.307 23.89 22.577 39.197 16.236s22.576-23.89 16.236-39.197-23.89-22.576-39.197-16.236z\" fill=\"#90ccf4\" />\r\n            <path d=\"m344.48 327.275c-6.341 15.307.929 32.856 16.236 39.197s32.857-.929 39.197-16.236-.929-32.856-16.236-39.197-32.857.929-39.197 16.236z\" fill=\"#4caf50\" /></g>\r\n        <g>\r\n            <path d=\"m75.633 301.76c-20.377 8.44-30.088 31.886-21.648 52.263 6.375 15.388 21.303 24.693 37.008 24.693 5.091 0 10.267-.979 15.255-3.045 20.377-8.44 30.088-31.885 21.648-52.262-8.441-20.378-31.884-30.09-52.263-21.649zm22.961 55.433c-10.188 4.219-21.911-.635-26.132-10.824-4.22-10.189.636-21.912 10.824-26.132 2.495-1.033 5.081-1.522 7.627-1.522 7.852 0 15.317 4.653 18.504 12.347 4.221 10.188-.634 21.911-10.823 26.131z\" />\r\n            <path d=\"m54.002 237.522c4.089 9.872 11.777 17.56 21.648 21.648 4.99 2.067 10.163 3.045 15.255 3.045 15.704 0 30.634-9.306 37.007-24.693 8.44-20.377-1.271-43.822-21.647-52.262-9.872-4.089-20.744-4.089-30.615 0s-17.559 11.777-21.647 21.648c-4.09 9.871-4.09 20.743-.001 30.614zm18.478-22.96c2.044-4.936 5.888-8.78 10.824-10.824 2.468-1.022 5.061-1.533 7.653-1.533s5.187.511 7.654 1.533c10.188 4.22 15.044 15.942 10.824 26.131-4.221 10.188-15.944 15.045-26.131 10.824-4.936-2.044-8.78-5.888-10.824-10.824-2.045-4.935-2.045-10.371 0-15.307z\" />\r\n            <path d=\"m158.04 176.805c4.936 2.044 10.121 3.066 15.308 3.066 5.185 0 10.372-1.022 15.307-3.066 9.871-4.089 17.559-11.777 21.648-21.648 4.088-9.871 4.088-20.744 0-30.615s-11.776-17.559-21.647-21.648-20.744-4.089-30.615 0c-9.872 4.088-17.56 11.776-21.648 21.648-4.088 9.871-4.088 20.744 0 30.614 4.087 9.871 11.775 17.56 21.647 21.649zm-3.171-44.61c2.044-4.936 5.888-8.779 10.824-10.824 2.468-1.022 5.06-1.533 7.653-1.533s5.186.511 7.654 1.533c4.936 2.044 8.779 5.888 10.824 10.824 2.044 4.936 2.044 10.372 0 15.307-2.044 4.936-5.888 8.78-10.824 10.824-4.936 2.044-10.372 2.044-15.308 0s-8.779-5.889-10.824-10.825c-2.043-4.934-2.043-10.37.001-15.306z\" />\r\n            <path d=\"m157.999 458.06c4.99 2.067 10.163 3.045 15.255 3.045 15.704 0 30.634-9.306 37.007-24.693 4.089-9.871 4.089-20.744 0-30.615s-11.777-17.56-21.648-21.648c-9.872-4.089-20.744-4.089-30.615 0s-17.559 11.777-21.648 21.648c-8.439 20.378 1.272 43.823 21.649 52.263zm-3.17-44.608c2.044-4.936 5.889-8.78 10.824-10.824 2.468-1.022 5.061-1.533 7.653-1.533s5.186.511 7.654 1.533c4.935 2.044 8.779 5.888 10.823 10.824s2.044 10.372 0 15.308c-4.22 10.188-15.941 15.043-26.131 10.824-10.188-4.222-15.043-15.944-10.823-26.132z\" />\r\n            <path d=\"m274.499 458.077c4.936 2.044 10.121 3.066 15.307 3.066s10.372-1.022 15.307-3.067c9.872-4.088 17.56-11.776 21.648-21.648 4.088-9.871 4.088-20.744 0-30.614-4.088-9.871-11.776-17.56-21.648-21.648-9.871-4.089-20.743-4.089-30.614 0-20.377 8.44-30.088 31.885-21.648 52.263 4.089 9.871 11.777 17.559 21.648 21.648zm7.654-55.433c2.468-1.022 5.061-1.533 7.654-1.533s5.186.511 7.654 1.533c4.936 2.044 8.779 5.888 10.824 10.824 2.044 4.936 2.044 10.372 0 15.307-2.044 4.936-5.888 8.779-10.824 10.824s-10.372 2.044-15.307 0c-4.936-2.044-8.78-5.888-10.824-10.824-4.221-10.189.634-21.911 10.823-26.131z\" />\r\n            <path d=\"m372.144 378.756c15.704 0 30.633-9.305 37.007-24.693 4.089-9.871 4.089-20.744 0-30.615-4.089-9.872-11.777-17.56-21.648-21.648-20.377-8.441-43.821 1.271-52.262 21.647-8.44 20.377 1.271 43.822 21.647 52.262 4.99 2.068 10.164 3.047 15.256 3.047zm-18.426-47.654c4.22-10.188 15.943-15.043 26.131-10.824 10.188 4.22 15.044 15.943 10.824 26.131s-15.94 15.044-26.132 10.824c-10.187-4.22-15.042-15.942-10.823-26.131z\" />\r\n            <path d=\"m503.612 8.418c-11.14-11.14-29.056-11.235-40.788-.218l-153.092 143.787c-2.685-8.018-4.114-16.474-4.171-24.97-.032-4.704 1.005-9.935 2.103-15.473 2.426-12.244 5.176-26.121-3.679-38.173-7.985-10.868-23.594-17.216-49.122-19.979-53.057-5.746-106.697 7.146-151.041 36.294-4.615 3.034-5.897 9.234-2.864 13.849s9.235 5.897 13.849 2.864c40.475-26.605 89.448-38.369 137.903-33.124 23.692 2.565 32.195 7.907 35.156 11.938 3.398 4.625 2.334 11.564.178 22.443-1.243 6.273-2.529 12.76-2.484 19.494.091 13.626 3.004 27.178 8.454 39.597l-62.038 58.267c-45.251 13.055-46.243 39.977-47.04 61.685-.537 14.623-1 27.252-12.254 38.506-2.198 2.199-3.249 5.294-2.843 8.376.406 3.083 2.222 5.801 4.915 7.355 7.952 4.591 18.161 6.829 29.188 6.829 15.456 0 32.515-4.398 47.203-12.878 22.479-12.979 35.411-32.679 36.773-55.795l57.365-61.078c12.421 5.451 25.968 8.364 39.597 8.455 6.758.047 13.221-1.241 19.494-2.483 10.881-2.155 17.82-3.219 22.444.178 4.03 2.961 9.373 11.464 11.938 35.156 6.886 63.618-15.082 126.021-60.27 171.208-81.879 81.879-215.105 81.879-296.984 0-70.092-70.09-81.507-180.985-27.142-263.682 3.034-4.615 1.752-10.815-2.863-13.849-4.615-3.035-10.816-1.753-13.849 2.863-28.631 43.552-41.621 96.267-36.578 148.438 5.112 52.886 28.654 102.738 66.29 140.374 43.441 43.441 101.2 67.365 162.635 67.365s119.193-23.924 162.634-67.365c49.492-49.491 73.552-117.833 66.011-187.503-2.763-25.528-9.112-41.136-19.979-49.121-12.052-8.855-25.93-6.105-38.174-3.679-5.538 1.097-10.771 2.144-15.473 2.102-8.498-.057-16.952-1.486-24.97-4.171l143.786-153.094c11.018-11.731 10.923-29.647-.218-40.788zm-262.467 309.149c-15.374 8.876-32.501 11.493-44.984 9.672 7.8-13.57 8.323-27.813 8.763-39.806.725-19.763 1.231-33.205 29.232-42.183l33.719 33.72c-1.761 21.055-17.265 33.132-26.73 38.597zm248.107-282.054-211.432 225.118-26.42-26.42 225.117-211.432c3.809-3.577 9.499-3.673 12.953-.218 3.455 3.455 3.359 9.144-.218 12.952z\" />\r\n            <path d=\"m74.438 136.473c5.523 0 10-4.477 10-10s-4.477-10-10-10h-.007c-5.523 0-9.996 4.477-9.996 10s4.48 10 10.003 10z\" />\r\n        </g>\r\n    </g>\r\n    </svg>\r\n\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default ({ isStarred }) => {\r\n    return <svg className={isStarred ? 'star-icon starred' : 'star-icon'} viewBox=\"0 -10 511.98685 511\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m510.652344 185.902344c-3.351563-10.367188-12.546875-17.730469-23.425782-18.710938l-147.773437-13.417968-58.433594-136.769532c-4.308593-10.023437-14.121093-16.511718-25.023437-16.511718s-20.714844 6.488281-25.023438 16.535156l-58.433594 136.746094-147.796874 13.417968c-10.859376 1.003906-20.03125 8.34375-23.402344 18.710938-3.371094 10.367187-.257813 21.738281 7.957031 28.90625l111.699219 97.960937-32.9375 145.089844c-2.410156 10.667969 1.730468 21.695313 10.582031 28.09375 4.757813 3.4375 10.324219 5.1875 15.9375 5.1875 4.839844 0 9.640625-1.304687 13.949219-3.882813l127.46875-76.183593 127.421875 76.183593c9.324219 5.609376 21.078125 5.097657 29.910156-1.304687 8.855469-6.417969 12.992187-17.449219 10.582031-28.09375l-32.9375-145.089844 111.699219-97.941406c8.214844-7.1875 11.351563-18.539063 7.980469-28.925781zm0 0\" /></svg>\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nimport NotePinIcon from '../icons/NotePinIcon'\r\nimport CircleIcon from '../icons/CircleIcon'\r\nimport ColorPalleteIcon from '../icons/ColorPaletteIcon'\r\nimport StarIcon from '../icons/StarIcon'\r\n\r\nexport default ({ note, user, toggleStarredNote, changeNoteColor, toggleNotePin, updateMembers, isStarredPage, roomId }) => {\r\n    const [isPalleteOpen, setIsPalleteOpen] = useState(false)\r\n    const [isStarred, setIsStarred] = useState(false)\r\n    const colors = ['#ffa350', '#f78888', '#fff59d', '#90ccf4', '#4caf50']\r\n\r\n    const checkIsStarred = () => {//We can make preformance better by removing from the array every starred we found \r\n        const ans = user.starredNotes.some(starredNote => starredNote.noteId === note._id)\r\n        setIsStarred(ans)\r\n    }\r\n\r\n\r\n    const handleStarClicked = async () => {\r\n        setIsStarred(!isStarred)\r\n        await toggleStarredNote(user._id, roomId, note._id, isStarredPage)\r\n    }\r\n\r\n    const handleColorClicked = async (color) => {\r\n        await changeNoteColor(roomId, note._id, color);\r\n        setIsPalleteOpen(false)\r\n        if (!isStarredPage) updateMembers();\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        checkIsStarred()\r\n    }, [])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"features-container\">\r\n            <i onClick={handleStarClicked}><StarIcon isStarred={isStarred} /></i>\r\n            {!isStarredPage && <i onClick={async () => { await toggleNotePin(roomId, note._id); updateMembers(); }}><NotePinIcon isPinned={note.isPinned} /></i>}\r\n            <div className=\"color-pallete\">\r\n                <i onClick={() => setIsPalleteOpen(!isPalleteOpen)}><ColorPalleteIcon /></i>\r\n\r\n                <TransitionGroup component={null} ><div className=\"colors-container\">{\r\n                    colors.map((color, idx) =>\r\n                        (<CSSTransition\r\n                            key={idx}\r\n                            classNames=\"fade\"\r\n                            in={isPalleteOpen}\r\n                            timeout={{ enter: 300, exit: 300 }}\r\n                            unmountOnExit>\r\n                            <i onClick={() => handleColorClicked(color)}><CircleIcon fill={color} /></i>\r\n                        </CSSTransition>\r\n                        )\r\n                    )\r\n                }\r\n                </div></TransitionGroup>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\n\r\n\r\n// import React, { useState, useEffect } from 'react';\r\n// import { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\n// import EmptyStarIcon from '../../assets/svg/empty-star.svg'\r\n\r\n// import NotePinIcon from '../icons/NotePinIcon'\r\n// import CircleIcon from '../icons/CircleIcon'\r\n// import ColorPalleteIcon from '../icons/ColorPaletteIcon'\r\n// import StarIcon from '../icons/StarIcon'\r\n\r\n// export default ({ room, togglePinned, note, user, setNoteColor, toggleStarredNote, changeNoteColor, toggleNotePin, updateMembers, isStarredPage }) => {\r\n//     const [isPalleteOpen, setIsPalleteOpen] = useState(false)\r\n//     const [isStarred, setIsStarred] = useState(false)\r\n//     const colors = ['#ffa350', '#f78888', '#fff59d', '#90ccf4', '#4caf50']\r\n\r\n\r\n//     // const checkIsStarred = (note) => {\r\n//     //     return !user.starredNotes ? setStarSrc(EmptyStarIcon) : user.starredNotes.find(starredNote => { return starredNote._id === note._id ? setStarSrc(StarIcon) : setStarSrc(EmptyStarIcon) })\r\n//     // }\r\n\r\n//     // const checkIsStarred = (note) => {\r\n//     //     return user.starredNotes.some(starredNote => {\r\n//     //         if (starredNote.noteId === 'aezVfVnkgap19GsM4jlPRbKM') console.log('&&&&starred:', starredNote.noteId, 'Note', note._id);\r\n//     //         let ans = starredNote.noteId === note._id\r\n//     //         console.log('&&&&ans:', ans);\r\n//     //         return ans\r\n//     //     })\r\n//     // }\r\n\r\n\r\n//     const checkIsStarred = () => {\r\n//         const ans = user.starredNotes.some(starredNote => starredNote.noteId === note._id)\r\n//         setIsStarred(ans)\r\n//     }\r\n\r\n//     const handleStarClicked = async () => {\r\n//         let roomId = getRoomId();\r\n//         await toggleStarredNote(user._id, roomId, note._id, isStarredPage)\r\n//     }\r\n\r\n//     const handleColorClicked = async (color) => {\r\n//         let roomId = getRoomId();\r\n//         await changeNoteColor(roomId, note._id, color);\r\n//         setIsPalleteOpen(false)\r\n//         if (!isStarredPage) updateMembers();\r\n//     }\r\n\r\n//     const getRoomId = () => {\r\n//         return isStarredPage ? note.roomId : room._id\r\n//     }\r\n\r\n\r\n//     // useEffect(() => {\r\n//     //     checkIsStarred()\r\n//     // }, [])\r\n\r\n\r\n\r\n//     return (\r\n//         <div className=\"features-container\">\r\n//             <h1>{checkIsStarred(note)}</h1>\r\n//             <i onClick={handleStarClicked}><StarIcon isStarred={isStarred} /></i>\r\n//             {!isStarredPage && <i onClick={async () => { await toggleNotePin(room._id, note._id); updateMembers(); }}><NotePinIcon isPinned={note.isPinned} /></i>}\r\n//             <div className=\"color-pallete\">\r\n//                 <i onClick={() => setIsPalleteOpen(!isPalleteOpen)}><ColorPalleteIcon /></i>\r\n\r\n//                 <TransitionGroup component={null} ><div className=\"colors-container\">{\r\n//                     colors.map((color, idx) =>\r\n//                         (<CSSTransition\r\n//                             key={idx}\r\n//                             classNames=\"fade\"\r\n//                             in={isPalleteOpen}\r\n//                             timeout={{ enter: 300, exit: 300 }}\r\n//                             unmountOnExit>\r\n//                             <i onClick={() => handleColorClicked(color)}><CircleIcon fill={color} /></i>\r\n//                         </CSSTransition>\r\n//                         )\r\n//                     )\r\n//                 }\r\n//                 </div></TransitionGroup>\r\n//             </div>\r\n//         </div >\r\n//     )\r\n// }\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return (\r\n        <svg className=\"remove-icon\"  viewBox=\"0 0 512 512\"  xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m256 512c-141.160156 0-256-114.839844-256-256s114.839844-256 256-256 256 114.839844 256 256-114.839844 256-256 256zm0-475.429688c-120.992188 0-219.429688 98.4375-219.429688 219.429688s98.4375 219.429688 219.429688 219.429688 219.429688-98.4375 219.429688-219.429688-98.4375-219.429688-219.429688-219.429688zm0 0\" /><path d=\"m347.429688 365.714844c-4.679688 0-9.359376-1.785156-12.929688-5.359375l-182.855469-182.855469c-7.144531-7.144531-7.144531-18.714844 0-25.855469 7.140625-7.140625 18.714844-7.144531 25.855469 0l182.855469 182.855469c7.144531 7.144531 7.144531 18.714844 0 25.855469-3.570313 3.574219-8.246094 5.359375-12.925781 5.359375zm0 0\" /><path d=\"m164.570312 365.714844c-4.679687 0-9.355468-1.785156-12.925781-5.359375-7.144531-7.140625-7.144531-18.714844 0-25.855469l182.855469-182.855469c7.144531-7.144531 18.714844-7.144531 25.855469 0 7.140625 7.140625 7.144531 18.714844 0 25.855469l-182.855469 182.855469c-3.570312 3.574219-8.25 5.359375-12.929688 5.359375zm0 0\" /></svg>)\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return <svg className=\"edit-icon\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n        viewBox=\"0 0 477.873 477.873\"  xmlSpace=\"preserve\">\r\n        <g>\r\n            <g>\r\n                <path d=\"M392.533,238.937c-9.426,0-17.067,7.641-17.067,17.067V426.67c0,9.426-7.641,17.067-17.067,17.067H51.2\r\n           c-9.426,0-17.067-7.641-17.067-17.067V85.337c0-9.426,7.641-17.067,17.067-17.067H256c9.426,0,17.067-7.641,17.067-17.067\r\n           S265.426,34.137,256,34.137H51.2C22.923,34.137,0,57.06,0,85.337V426.67c0,28.277,22.923,51.2,51.2,51.2h307.2\r\n           c28.277,0,51.2-22.923,51.2-51.2V256.003C409.6,246.578,401.959,238.937,392.533,238.937z\"/>\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M458.742,19.142c-12.254-12.256-28.875-19.14-46.206-19.138c-17.341-0.05-33.979,6.846-46.199,19.149L141.534,243.937\r\n           c-1.865,1.879-3.272,4.163-4.113,6.673l-34.133,102.4c-2.979,8.943,1.856,18.607,10.799,21.585\r\n           c1.735,0.578,3.552,0.873,5.38,0.875c1.832-0.003,3.653-0.297,5.393-0.87l102.4-34.133c2.515-0.84,4.8-2.254,6.673-4.13\r\n           l224.802-224.802C484.25,86.023,484.253,44.657,458.742,19.142z M434.603,87.419L212.736,309.286l-66.287,22.135l22.067-66.202\r\n           L390.468,43.353c12.202-12.178,31.967-12.158,44.145,0.044c5.817,5.829,9.095,13.72,9.12,21.955\r\n           C443.754,73.631,440.467,81.575,434.603,87.419z\"/>\r\n            </g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n    </svg>\r\n\r\n\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return <svg className=\"save-icon\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><g><path d=\"m490.647 133.435c-.101-.103-128.128-129.127-128.02-129.019-2.927-2.938-6.813-4.416-10.627-4.416-13.006 0-293.619 0-305 0-16.542 0-30 13.458-30 30v452c0 16.542 13.458 30 30 30h418c16.542 0 30-13.458 30-30v-338c0-3.958-1.564-7.755-4.353-10.565zm-217.647-103.435v66c0 8.284 6.716 15 15 15s15-6.716 15-15v-66h34v115h-162v-115zm192 452h-418v-452h98v130c0 8.284 6.716 15 15 15h192c8.284 0 15-6.716 15-15v-108.587l98 98.766z\" /><path d=\"m96 241c-8.284 0-15 6.716-15 15v176c0 8.284 6.716 15 15 15h320c8.284 0 15-6.716 15-15v-176c0-8.284-6.716-15-15-15zm305 176h-290v-146h290z\" /><path d=\"m160 335h48c8.284 0 15-6.716 15-15s-6.716-15-15-15h-48c-8.284 0-15 6.716-15 15s6.716 15 15 15z\" /></g></svg>\r\n\r\n\r\n}\r\n","import React, { useEffect, useState, createRef, useCallback } from 'react'\r\n\r\nimport Moment from 'react-moment';\r\n\r\nimport NoteText from \"./NoteText\";\r\nimport NoteImg from \"./NoteImg\";\r\nimport NoteVideo from \"./NoteVideo\";\r\nimport NoteTodo from \"./NoteTodo\";\r\nimport NoteLoc from \"./NoteLoc\";\r\nimport Features from \"./Features\";\r\n\r\nimport RemoveIcon from \"../../cmps/icons/RemoveIcon\";\r\nimport EditIcon from \"../../cmps/icons/EditIcon\";\r\nimport SaveIcon from \"../../cmps/icons/SaveIcon\";\r\n\r\nimport AvatarLoader from '../AvatarLoader'\r\n\r\n\r\n\r\nexport default ({ room, note, user, removeNote, saveRoomChanges, togglePinned, toggleStarredNote, changeNoteColor, toggleNotePin, updateNote, updateMembers, isStarredPage, isSpreadView }) => {\r\n    const [isEdit, setIsEdit] = useState(false);\r\n    const [currTodoIdx, setCurrTodoIdx] = useState(null);\r\n    const [textEdit, setTextEdit] = useState(note.data)\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    const cmps = {\r\n        NoteText,\r\n        NoteImg,\r\n        NoteVideo,\r\n        NoteTodo,\r\n        NoteLoc\r\n    }\r\n\r\n    const NoteType = cmps[note.type];\r\n\r\n    const noteRef = createRef();\r\n\r\n   \r\n    const paintNote = () => {//KEEP\r\n        if (note.bgColor && noteRef.current) noteRef.current.style.backgroundColor = note.bgColor\r\n    }\r\n\r\n    const saveNoteEdits = async (type) => {\r\n        let noteCopy = JSON.parse(JSON.stringify(note));\r\n        (type === 'NoteText' && textEdit) ? noteCopy.data = textEdit : setCurrTodoIdx('');\r\n        await updateNote(room._id, noteCopy);\r\n        if (room.members && room.members.length > 1) updateMembers();\r\n    }\r\n\r\n\r\n    const handleRemoveClicked = async () => {\r\n        let roomId = getRoomId()\r\n        await removeNote(roomId, note._id);\r\n        if (!isStarredPage) updateMembers();\r\n    }\r\n\r\n    const getRoomId = () => { //MAYBE SHOULD BE IN PAGE CMP\r\n        return isStarredPage ? note.roomId : room._id\r\n    }\r\n\r\n\r\n    const onLoad = useCallback(() => {\r\n        setIsLoaded(true);\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        if (note.createdBy._id !== user._id) return\r\n        if (note.createdBy.imgUrl !== user.imgUrl) {\r\n            note.createdBy.imgUrl = user.imgUrl\r\n            if(!isStarredPage) saveRoomChanges()\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        paintNote();\r\n        if (note.createdBy._id !== user._id) return;\r\n        if (note.createdBy.imgUrl !== user.imgUrl) {\r\n            note.createdBy.imgUrl = user.imgUrl;\r\n            if(!isStarredPage) saveRoomChanges();\r\n        }\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        paintNote();\r\n    }, [note.bgColor]);\r\n\r\n    return (\r\n        <div className=\"note-preview\" style={{ backgroudColor: note.bgColor }} style={{ display: isSpreadView ? 'inline-block' : 'block' }}>\r\n            <div className={user._id === note.createdBy._id ? 'user-container' : 'friend-container'}>\r\n                {!isSpreadView && <img src={note.createdBy.imgUrl} alt=\"Note creator avatar\" className=\"avatar avatar-s\" onLoad={onLoad} style={{ display: isLoaded ? 'block' : 'none' }} />}\r\n                {(!isSpreadView && !isLoaded) && <AvatarLoader />}\r\n                <div className=\"note-container\" ref={noteRef}>\r\n                    <div className=\"note-header\">\r\n                        {!isStarredPage && <div>\r\n                            {((note.type === 'NoteTodo' || note.type === 'NoteText') && !isEdit) && <i onClick={() => setIsEdit(true)}><EditIcon /></i>}\r\n                            {((note.type === 'NoteTodo' || note.type === 'NoteText') && isEdit) && <i onClick={() => { setIsEdit(false); saveNoteEdits(note.type) }}><SaveIcon /></i>}\r\n                            <i onClick={handleRemoveClicked}><RemoveIcon /></i>\r\n                        </div>}\r\n                        <Moment format=\"MM/DD/YY ,HH:mm\">{note.createdAt}</Moment>\r\n                    </div>\r\n                    <NoteType note={note} user={user} isEdit={isEdit} currTodoIdx={currTodoIdx} setCurrTodoIdx={setCurrTodoIdx} textEdit={textEdit} setTextEdit={setTextEdit} updateNote={updateNote} updateMembers={updateMembers} isStarredPage={isStarredPage}  roomId={getRoomId()}/>\r\n                    <Features room={room} togglePinned={togglePinned} note={note} user={user} changeNoteColor={changeNoteColor} toggleNotePin={toggleNotePin} toggleStarredNote={toggleStarredNote} updateMembers={updateMembers} isStarredPage={isStarredPage} roomId={getRoomId()} updateNote={updateNote}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nexport default (props) => {\r\n\r\n    return<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 512 512\" className='spread-icon' xmlSpace=\"preserve\">\r\n<g>\r\n\t<g>\r\n\t\t<path d=\"M452,50H60C26.916,50,0,76.916,0,110v292c0,33.084,26.916,60,60,60h392c33.084,0,60-26.916,60-60V110\r\n\t\t\tC512,76.916,485.084,50,452,50z M156,422H60c-11.028,0-20-8.972-20-20v-62h116V422z M156,300H40v-88h116V300z M156,172H40v-62\r\n\t\t\tc0-11.028,8.972-20,20-20h96V172z M317,422H196v-82h121V422z M317,300H196v-88h121V300z M317,172H196V90h121V172z M472,402\r\n\t\t\tc0,11.028-8.972,20-20,20h-95v-82h115V402z M472,300H357v-88h115V300z M472,172H357V90h95c11.028,0,20,8.972,20,20V172z\"/>\r\n\t</g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n\r\n\r\n\r\n\r\n}","import React from 'react';\r\n\r\nexport default (props) => {\r\n\r\n    return <svg version=\"1.1\" className=\"list-icon\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n        viewBox=\"0 0 427.1 427.1\" xmlSpace=\"preserve\">\r\n        <g>\r\n            <g>\r\n                <path d=\"M93.55,156.5c-31.5,0-57,25.5-57,57s25.5,57,57,57s57-25.5,57-57C150.45,182.1,124.95,156.6,93.55,156.5z M93.55,250.5\r\n           c-20.4,0-37-16.5-37-37c0-20.4,16.5-37,37-37c20.4,0,37,16.5,37,37C130.45,233.9,113.95,250.4,93.55,250.5z\"/>\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M380.55,172.5h-203.5c-5.5,0-10,4.5-10,10s4.5,10,10,10h203.5c5.5,0,10-4.5,10-10S386.05,172.5,380.55,172.5z\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M286.65,234.5h-109.6c-5.5,0-10,4.5-10,10s4.4,10,10,10h109.6c5.5,0,10-4.5,10-10S292.15,234.5,286.65,234.5z\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M93.55,0c-31.5,0-57,25.5-57,57s25.5,57,57,57s57-25.5,57-57C150.45,25.5,124.95,0,93.55,0z M93.55,93.9\r\n           c-20.4,0-37-16.5-37-37s16.5-37,37-37c20.4,0,37,16.5,37,37C130.45,77.4,113.95,93.9,93.55,93.9z\"/>\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M380.55,15.5h-203.5c-5.5,0-10,4.5-10,10s4.5,10,10,10h203.5c5.5,0,10-4.5,10-10S386.05,15.5,380.55,15.5z\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M286.65,78.5h-109.6c-5.5,0-10,4.5-10,10s4.4,10,10,10h109.6c5.5,0,10-4.5,10-10S292.15,78.5,286.65,78.5z\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M93.55,313.1c-31.5,0-57,25.5-57,57s25.5,57,57,57s57-25.5,57-57C150.45,338.6,124.95,313.1,93.55,313.1z M93.55,407\r\n           c-20.4,0-37-16.5-37-37c0-20.4,16.5-37,37-37c20.4,0,37,16.5,37,37C130.45,390.5,113.95,407,93.55,407z\"/>\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M380.55,328.5h-203.5c-5.5,0-10,4.5-10,10s4.5,10,10,10h203.5c5.5,0,10-4.5,10-10S386.05,328.5,380.55,328.5z\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M286.65,391.5h-109.6c-5.5,0-10,4.5-10,10s4.5,10,10,10h109.6c5.5,0,10-4.5,10-10S292.15,391.5,286.65,391.5z\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n    </svg>\r\n\r\n\r\n\r\n\r\n}","import React, { useState } from 'react'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nimport NotePreview from './NotePreview'\r\nimport SpreadIcon from '../icons/SpreadIcon'\r\nimport ListIcon from '../icons/ListIcon'\r\n\r\nexport default ({ room, notes, user, removeNote, saveRoomChanges, togglePinned, toggleStarredNote, changeNoteColor, toggleNotePin, updateNote, updateMembers, isStarredPage }) => {\r\n    const [isSpreadView, setIsSpreadView] = useState(false)\r\n\r\n    const toggleView = () => {\r\n        setIsSpreadView(!isSpreadView)\r\n    }\r\n\r\n    return (\r\n        <div className=\"note-list\">\r\n            <i onClick={toggleView}>{isSpreadView ? <ListIcon /> : <SpreadIcon />}</i>\r\n            <div className={isSpreadView ? 'spread-view' : 'chat-view'}>\r\n                {/* <div className=\"note-list\" onClick={() => setNoteType('')}> */}\r\n                <TransitionGroup component={null}>\r\n                    {notes.map((note) =>\r\n                        <CSSTransition\r\n                            key={note._id}\r\n                            timeout={{ enter: 800, exit: 500 }}\r\n                            classNames={'note-item'}\r\n                        >\r\n                            <NotePreview\r\n                                room={room}\r\n                                note={note}\r\n                                key={note._id}\r\n                                user={user}\r\n                                saveRoomChanges={saveRoomChanges}\r\n                                togglePinned={togglePinned}\r\n                                removeNote={removeNote}\r\n                                toggleNotePin={toggleNotePin}\r\n                                changeNoteColor={changeNoteColor}\r\n                                updateNote={updateNote}\r\n                                updateMembers={updateMembers}\r\n                                toggleStarredNote={toggleStarredNote}\r\n                                isStarredPage={isStarredPage}\r\n                                isSpreadView={isSpreadView} />\r\n                        </CSSTransition>)}\r\n                </TransitionGroup>\r\n            </div>\r\n        </ div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport SocketService from '../../services/SocketService'\r\n\r\nimport { loadRoomById, saveRoom, resetCurrRoom, setFilterBy, resetFilterBy } from '../../actions/RoomActions';\r\nimport { toggleStarredNote, removeNote, changeNoteColor, toggleNotePin, updateNote } from '../../actions/NoteActions'\r\n\r\nimport NoteFilter from './NoteFilter'\r\nimport NoteList from './NoteList'\r\n\r\n\r\n\r\nconst NotesContainer = ({ room, user, setNoteType, removeNote, saveRoom, changeNoteColor, toggleNotePin, updateNote, toggleStarredNote, filterBy, setFilterBy, resetFilterBy }) => {\r\n\r\n    if (room) var { notes } = room\r\n\r\n    const saveRoomChanges = async () => {\r\n        await saveRoom(room)\r\n        SocketService.emit(\"roomUpdated\", { room, userId: user._id });\r\n    }\r\n\r\n    const updateMembers = () => {//this needs to move to room page \r\n        if (room.members.length > 1) SocketService.emit(\"roomUpdated\", { room, userId: user._id });\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => resetFilterBy()\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <div className=\"notes-container \">\r\n            <NoteFilter\r\n                filterBy={filterBy}\r\n                setFilterBy={setFilterBy}\r\n                // onFilter={onFilterHandler}\r\n                roomId={room._id}\r\n                placeHolder={\"Search for notes\"} />\r\n\r\n\r\n            <NoteList\r\n                room={room}\r\n                notes={notes}\r\n                user={user}\r\n                removeNote={removeNote}\r\n                changeNoteColor={changeNoteColor}\r\n                toggleNotePin={toggleNotePin}\r\n                saveRoomChanges={saveRoomChanges}\r\n                setNoteType={setNoteType}\r\n                updateNote={updateNote}\r\n                updateMembers={updateMembers}\r\n                toggleStarredNote={toggleStarredNote}\r\n            // togglePinned={togglePinned}\r\n            // setNoteType={setNoteType}\r\n            // toggleStarred={toggleStarred}\r\n            />\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        // user: state.user.loggedinUser,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    toggleNotePin,\r\n    changeNoteColor,\r\n    removeNote,\r\n    saveRoom,\r\n    loadRoomById,\r\n    resetCurrRoom,\r\n    updateNote,\r\n    toggleStarredNote,\r\n    setFilterBy,\r\n    resetFilterBy\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NotesContainer);\r\n","import loading from \"../assets/svg/loading.svg\";\r\n\r\n\r\nimport React from 'react';\r\n\r\nconst Loading = () => {\r\n    return <div className='loading-container'>\r\n         <img src={loading} alt=\"loading\" className=\"loading\"/>\r\n    </div>;\r\n}\r\n\r\nexport default Loading;","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n    return <svg className=\"cancel-icon\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n        viewBox=\"0 0 512.001 512.001\" xmlSpace=\"preserve\">\r\n        <g>\r\n            <g>\r\n                <path d=\"M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717\r\n           L34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859\r\n           c-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287\r\n           l221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285\r\n           L284.286,256.002z\"/>\r\n            </g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n    </svg>\r\n\r\n}\r\n","import React from 'react';\r\nimport SaveIcon from '../icons/SaveIcon';\r\nimport CancelIcon from '../icons/CancelIcon';\r\n\r\nexport default ({ setNoteData, setNoteHeader, handleSubmit, resetNoteAdd }) => {\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"input-text\">\r\n            <i className=\"cancel-wrapper\" onClick={resetNoteAdd}><CancelIcon /></i>\r\n            <input className=\"input-header\" placeholder=\"Note Header\" type=\"text\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <textarea className=\"input-data\" placeholder=\"Say Something\" type=\"text\" onChange={e => setNoteData(e.target.value)} />\r\n            <i onClick={handleSubmit}><SaveIcon /></i>\r\n        </div>\r\n    )\r\n}\r\n//save button is a temp solution to onSubmit with enter key","import React, { createRef } from 'react';\r\n\r\nimport uploadImg from '../../assets/svg/upload.svg'\r\n\r\nexport default ({ setNoteHeader, onUploadImg }) => {\r\n\r\n    const inputRef = createRef();\r\n\r\n\r\n    const onUploadImgHandler = () => {\r\n        inputRef.current.click()\r\n    }\r\n\r\n    return (\r\n        <section className=\"input-img\">\r\n            <input className=\"input-header\" placeholder=\"Img Header\" type=\"text\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <input type=\"file\" onChange={(ev) => onUploadImg(ev)} ref={inputRef} hidden />\r\n            <img src={uploadImg} className=\"add-button\" alt=\"Plus Icon\" onClick={onUploadImgHandler} />\r\n        </section >\r\n    );\r\n};\r\n\r\n","import axios from 'axios';\r\n//AIzaSyDD1nIJuc1thshvoaRykKhVDjI8-kbDSFM RAN'S KEY\r\n//AIzaSyD09tfK-pjT-G6kEZmXRfeicoKR-neGKNU alt key\r\nconst API_KEY = 'AIzaSyDD1nIJuc1thshvoaRykKhVDjI8-kbDSFM' \r\nconst limit = 15;\r\n\r\n\r\nexport const YoutubeApiService = {\r\n    youtubeQuery\r\n}\r\n\r\n\r\nasync function youtubeQuery(query) {\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&videoEmbeddable=true&type=video&key=${API_KEY}&q=${query}&maxResults=${limit}`);\r\n        return res.data.items;\r\n    } catch (err) {\r\n        console.log('Error while fetching videos',err); \r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { DebounceInput } from 'react-debounce-input';\r\n\r\nimport { YoutubeApiService } from '../../services/YoutubeApiService'\r\n\r\nimport PlusIcon from '../../assets/svg/plus.svg'\r\n\r\nexport default ({ addVideo, setNoteHeader }) => {\r\n    const [videos, setVideos] = useState([]);\r\n    const searchYoutubeVideos = async (queryStr) => {\r\n        if (!queryStr) {\r\n            setVideos([])\r\n            return\r\n        }\r\n        const youtubeVideos = await YoutubeApiService.youtubeQuery(queryStr);\r\n        setVideos(youtubeVideos)\r\n    }\r\n\r\n    return (\r\n        <section className=\"input-video\">\r\n            <input className=\"input-header\" placeholder=\"Note Header\" type=\"text\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <DebounceInput\r\n            className=\"search-input\"\r\n                minLength={0}\r\n                debounceTimeout={500}\r\n                type=\"text\"\r\n                placeholder=\"Search Video\"\r\n                onChange={e => searchYoutubeVideos(e.target.value)}\r\n            />\r\n            {!!videos.length &&<h1>Add video!</h1>}\r\n            {!!videos.length && videos.map(video => {\r\n                return (\r\n                    <div className=\"video-card\" key={video.id.videoId}>\r\n                        <img src={video.snippet.thumbnails.default.url} alt=\"Video Thumbnail\" />\r\n                        <h6>{video.snippet.title}</h6>\r\n                        <img src={PlusIcon} className=\"add-button\" alt=\"Plus Icon\" onClick={() => { addVideo(video.id.videoId); setVideos([]) }} />\r\n                    </div>\r\n                )\r\n            })}\r\n        </section >\r\n    );\r\n};","import React, { useState } from 'react'\r\n\r\nimport { UtilService } from '../../services/UtilService'\r\n\r\nimport xMark from '../../assets/svg/x-mark.svg'\r\nimport PlusIcon from '../../assets/svg/plus.svg'\r\nimport saveIcon from '../../assets/svg/save.svg'\r\n\r\n\r\nexport default ({ setNoteHeader, setNoteData, handleSubmit, noteData }) => {\r\n    const [currTodo, setCurrTodo] = useState('');\r\n\r\n    const textInput = React.useRef();\r\n\r\n    const addTodo = () => {\r\n        setNoteData([\r\n            ...noteData, {\r\n                text: currTodo,\r\n                isDone: false,\r\n                _id: UtilService.makeId(5)\r\n            }])\r\n        setCurrTodo('')\r\n        textInput.current.value = ''\r\n        textInput.current.focus()\r\n    };\r\n\r\n    const handleRemoveTodo = (todoId) => {\r\n        setNoteData(noteData.filter(todo => todo._id !== todoId))\r\n    }\r\n\r\n    return (\r\n        <div className=\"input-todo\">\r\n            <input type=\"text\" placeholder=\"Header?\" className=\"input-header\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <ul>\r\n                {!noteData.length && <h5>No Todo's Added</h5>}\r\n                {!!noteData.length && noteData.map(todo => {\r\n                    return (\r\n                        <li className=\"todo\" key={todo._id}>\r\n                            <span>{todo.text}</span>\r\n                            <img src={xMark} onClick={() => handleRemoveTodo(todo._id)} className=\"x-mark\" alt=\"Remove Todo\" />\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n            <div className=\"add-todo-container\">\r\n                <input type=\"text\" placeholder=\"task?\" className=\"input-task\" ref={textInput} onChange={e => setCurrTodo(e.target.value)} />\r\n                <img src={PlusIcon} className=\"add-button\" onClick={() => addTodo()} alt=\"Add todo\" />\r\n            </div>\r\n            <img src={saveIcon} className=\"add-button\" onClick={handleSubmit} alt=\"Save\" />\r\n        </div>\r\n    )\r\n}","import axios from \"axios\";\r\n// const GAPI_KEY = 'AIzaSyDT_ajKa9WIv5XuaigihgiGJKXyRAXIV7o';\r\nconst GAPI_KEY = 'AIzaSyDGBQTVrw0MAb3SQ9UbI1sMEz9UNedEXzA';\r\n// const GAPI_KEY = 'AIzaSyAfOgP37XV4mv6RcyxIwOk1ajVevIhN2TM'; \r\n\r\nexport const MapService = {\r\n    searchLocs,\r\n    searchAddress, \r\n    getPosition,\r\n    GAPI_KEY\r\n}\r\n\r\n\r\nasync function searchLocs(txt) {\r\n\r\n    const res = await axios.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${txt.split(\" \").join('+')}&key=${GAPI_KEY}&language=en&region=US`)\r\n    try {\r\n        return res.data.results\r\n        // var position=res.data.results[0].geometry.location ;\r\n        // const address_components_Length =res.data.results[0].address_components.length;   \r\n        // var results=res.data.results[0].address_components;\r\n\r\n\r\n        // for (var i=0;i<address_components_Length;i++){\r\n        //     for (var j=0;j<results[i].types.length;j++){\r\n        //         if(results[i].types[j]==='country'){\r\n        //             var country=results[i].long_name;\r\n        //             var short_country =results[i].short_name; //short name country          \r\n        //         }   \r\n        //         if(results[i].types[j]==='locality'){\r\n        //             var city=results[i].long_name;\r\n        //             // var shortCity =results[i].short_name; //short name city   \r\n        //         }   \r\n\r\n        //         if(results[i].types[j]==='administrative_area_level_1')\r\n        //         {\r\n        //             var region=results[i].long_name;                    \r\n        //         }   \r\n\r\n        //     }\r\n        // }        \r\n        // position.country=country;\r\n        // position.short_country=short_country;\r\n        // // position.city=city;\r\n        // position.region=region;\r\n        //  return position    \r\n\r\n    }\r\n    catch (error) {\r\n        console.error('Address not found');\r\n    }\r\n}\r\n\r\nasync function searchAddress(coords) {\r\n\r\n    const res = await axios.get(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${coords.lat},${coords.lng}&key=${GAPI_KEY}&language=en&region=US`)\r\n    try {\r\n        return res.data.results\r\n    }\r\n    catch (error) {\r\n        console.error('Address not found');\r\n    }\r\n}\r\n\r\n\r\n// FOR USER\r\nfunction getPosition() {\r\n    return new Promise((resolve, reject) => {\r\n        navigator.geolocation.getCurrentPosition(resolve, reject)\r\n    })\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return <svg className=\"gps-icon\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n    viewBox=\"0 0 384 384\"  xmlSpace=\"preserve\">\r\n<g>\r\n   <g>\r\n       <path d=\"M192,136c-30.872,0-56,25.12-56,56s25.128,56,56,56s56-25.12,56-56S222.872,136,192,136z M192,216\r\n           c-13.232,0-24-10.768-24-24s10.768-24,24-24s24,10.768,24,24S205.232,216,192,216z\"/>\r\n   </g>\r\n</g>\r\n<g>\r\n   <g>\r\n       <path d=\"M368,176h-32.944C327.648,109.368,274.632,56.352,208,48.944V16c0-8.832-7.168-16-16-16c-8.832,0-16,7.168-16,16v32.944\r\n           C109.368,56.352,56.352,109.368,48.944,176H16c-8.832,0-16,7.168-16,16c0,8.832,7.168,16,16,16h32.944\r\n           C56.352,274.632,109.368,327.648,176,335.056V368c0,8.832,7.168,16,16,16c8.832,0,16-7.168,16-16v-32.944\r\n           c66.632-7.408,119.648-60.424,127.056-127.056H368c8.832,0,16-7.168,16-16C384,183.168,376.832,176,368,176z M192,304\r\n           c-61.76,0-112-50.24-112-112S130.24,80,192,80s112,50.24,112,112S253.76,304,192,304z\"/>\r\n   </g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n\r\n\r\n\r\n}\r\n","import React, { useState, useEffect, createRef } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport { DebounceInput } from 'react-debounce-input';\r\n\r\nimport { MapService } from '../../services/MapService'\r\n\r\nimport PinIcon from '../../assets/svg/pin.svg'\r\nimport SaveIcon from '../icons/SaveIcon'\r\nimport GpsIcon from '../icons/GpsIcon'\r\n\r\nexport default ({ setNoteHeader, setNoteData, noteData, handleSubmit }) => {\r\n\r\n    const [locs, setLocs] = useState([]);\r\n    const [selectedLoc, setSelectedLoc] = useState(null)\r\n    const addressInputRef = createRef();\r\n\r\n    const searchLoc = async (queryStr) => {\r\n        if (!queryStr) {\r\n            setLocs([])\r\n            return\r\n        }\r\n        let locations = await MapService.searchLocs(queryStr)\r\n        setLocs(locations)\r\n    }\r\n\r\n    const renderMarkers = (map, maps) => {\r\n        let marker = new maps.Marker({\r\n        position: { lat: selectedLoc.lat, lng: selectedLoc.lng},\r\n        map,\r\n        icon:PinIcon\r\n        });\r\n        return marker;\r\n       };\r\n\r\n\r\n    const setLocNote = (loc) => {\r\n        let dataObj = { name: loc.formatted_address, coords: loc.geometry.location }\r\n        setSelectedLoc(dataObj.coords)\r\n        setNoteData(dataObj)\r\n    }\r\n\r\n    const fetchUserCoords = async () => {\r\n        let userPos = await MapService.getPosition()\r\n        if (!userPos) return\r\n        let coords = { lat: userPos.coords.latitude, lng: userPos.coords.longitude }\r\n        setSelectedLoc(coords)\r\n        let res = await MapService.searchAddress(coords)\r\n        if (res) {\r\n            let accurateAddressIdx = res[1] ? 1 : 0\r\n            let address = res[accurateAddressIdx].address_components[accurateAddressIdx].short_name\r\n            let dataObj = { coords: res[accurateAddressIdx].geometry.location }\r\n            if (address) dataObj.name = address\r\n            setNoteData(dataObj)\r\n        }\r\n\r\n    }\r\n\r\n    const saveNoteLoc = () => {\r\n        handleSubmit()\r\n        setSelectedLoc(null)\r\n        addressInputRef.current.value = ''\r\n    }\r\n    useEffect(() => {\r\n        fetchUserCoords()\r\n    }, [selectedLoc])\r\n\r\n\r\n    return (\r\n        <div className=\"input-loc\" >\r\n            <input className=\"input-header\" placeholder=\"Note Header\" type=\"text\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <DebounceInput\r\n                className=\"search-input\"\r\n                minLength={0}\r\n                debounceTimeout={500}\r\n                type=\"text\"\r\n                placeholder=\"Search Location\"\r\n                ref={addressInputRef}\r\n                onChange={e => searchLoc(e.target.value)}\r\n            />\r\n            <i onClick={() => fetchUserCoords()}><GpsIcon /></i>\r\n            {!!locs.length && locs.map(loc => {\r\n                return (\r\n                    <div className=\"loc-card\" key={loc.place_id}>\r\n                        <h6 onClick={() => { setLocNote(loc) }}>{loc.formatted_address}</h6>\r\n                    </div>\r\n                )\r\n            })}\r\n            {/* {noteData.name && <h6>{noteData.name}</h6>} */}\r\n            {selectedLoc && <div style={{ height: '30vh', width: '100%' }}>\r\n                <GoogleMapReact\r\n                    bootstrapURLKeys={{ key: 'AIzaSyDGBQTVrw0MAb3SQ9UbI1sMEz9UNedEXzA' }}\r\n                    center={selectedLoc}\r\n                    distanceToMouse={() => { }}\r\n                    yesIWantToUseGoogleMapApiInternals={true}\r\n                    defaultZoom={18}\r\n                    onGoogleApiLoaded={({ map, maps }) => renderMarkers(map, maps)}\r\n\r\n                    >\r\n                </GoogleMapReact>\r\n            </div>}\r\n            {noteData && <i onClick={() => saveNoteLoc()}><SaveIcon /></i>}\r\n            <button onClick={() => console.log('noteData:', noteData)}>Test</button>\r\n        </div>\r\n    )\r\n}\r\n","function uploadImg(ev) {\r\n    const CLOUD_NAME = \"tamir\"\r\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n    const formData = new FormData();\r\n        if (ev.target) {\r\n            formData.append('file', ev.target.files[0])\r\n        } else {\r\n            formData.append('file', ev)\r\n        }\r\n    formData.append('upload_preset', 'u1inrfbp'); // second parameter is the upload preset\r\n\r\n    return fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData,\r\n            secure:true\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            return res\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport default {\r\n    uploadImg\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadRoomById, saveRoom, resetCurrRoom } from '../actions/RoomActions';\r\nimport { addNote } from '../actions/NoteActions';\r\nimport { updateUser } from '../actions/UserActions';\r\n\r\nimport ButtonMenu from '../cmps/ButtonMenu'\r\nimport NotesContainer from '../cmps/Note/NotesContainer';\r\nimport Loading from '../cmps/Loading'\r\nimport InputText from '../cmps/Note/InputText'\r\nimport InputImg from '../cmps/Note/InputImg'\r\nimport InputVideo from '../cmps/Note/InputVideo'\r\nimport InputTodo from '../cmps/Note/InputTodo'\r\nimport InputLoc from '../cmps/Note/InputLoc'\r\n\r\nimport { RoomService } from '../services/RoomService';\r\nimport SocketService from '../services/SocketService'\r\nimport CloudinaryService from '../../src/services/CloudinaryService'\r\n\r\n\r\n\r\n\r\nconst RoomPage = (props) => {\r\n    const [noteType, setNoteType] = useState('');\r\n    const [noteHeader, setNoteHeader] = useState('');\r\n    const [noteData, setNoteData] = useState('');\r\n    const [noteInputType, setNoteInputType] = useState('InputText');\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const [isValidUser, setIsValidUser] = useState(null)\r\n\r\n    if (props.room) var { notes } = props.room\r\n\r\n    const newNote = {\r\n        header: noteHeader,\r\n        data: noteData,\r\n        type: noteType,\r\n        isPinned: false\r\n    }\r\n\r\n    const cmps = {\r\n        InputText,\r\n        InputImg,\r\n        InputVideo,\r\n        InputTodo,\r\n        InputLoc\r\n    }\r\n    const InputType = cmps[noteInputType];\r\n\r\n\r\n\r\n    const loadRoom = async () => { \r\n        const roomId = props?.match?.params?.id || props.roomId \r\n        await props.loadRoomById({ ...props.filterBy, roomId })\r\n    }\r\n\r\n\r\n    const onUploadImg = async (ev) => {\r\n        if (noteType === 'NoteImg') {\r\n            const imgUrl = await CloudinaryService.uploadImg(ev)\r\n            setNoteData(imgUrl.secure_url)\r\n            setIsUploading(true)\r\n        }\r\n    }\r\n\r\n    const onAddVideo = (videoId) => {\r\n        setNoteData(videoId)\r\n        setIsUploading(true)\r\n    }\r\n\r\n\r\n    const onHandleSubmit = async (ev) => {\r\n        if (ev) ev.preventDefault()\r\n        const { user, room } = props\r\n        let noteCopy = JSON.parse(JSON.stringify(newNote))\r\n        await props.addNote(user._id, room._id, noteCopy)\r\n        const friend = user.friends.find(currFriend => currFriend.roomId === room._id)\r\n        if (props.room.members.length > 1) SocketService.emit(\"added note\", ({ room, user, friendId: friend._id }));\r\n        // props.showNotification('Note added successfully! So Excited', 'success')\r\n        //Need to find way to transfer that prop on desktop\r\n        resetNoteAdd()\r\n        setIsUploading(false)\r\n    }\r\n\r\n    const resetNoteAdd = () =>{\r\n        setNoteHeader('')\r\n        setNoteData('')\r\n        setNoteType('')\r\n    }\r\n\r\n\r\n    const checkIsValidUser = async () => { //FIX\r\n        const { user, room } = props\r\n        if (!user || !room) return\r\n        let isValid = await RoomService.checkIsValidUser(user._id, room._id)\r\n        isValid ? setIsValidUser(true) : props.history.push('/')\r\n    }\r\n\r\n    useEffect(() => {\r\n        // (props.history.location.pathname === '/') ? props.resetCurrRoom() : loadRoom()\r\n        loadRoom()//created\r\n\r\n        return () => {\r\n            props.resetCurrRoom()   \r\n        }; //onDestroy\r\n    }, [props.history.location.pathname]);\r\n\r\n\r\n    // useEffect(() => {\r\n    //     loadRoom()//created\r\n    //     console.log('history', props.history);\r\n\r\n    //     return () => { console.log('RESETING CURR ROOM');; props.resetCurrRoom() }; //onDestroy\r\n    // }, [props.history.location.pathname]);\r\n\r\n\r\n\r\n\r\n    // //watcher\r\n    // useEffect(() => { \r\n    // FIX IS VAILD USER\r\n    //     if (props.room) checkIsValidUser()\r\n    // }, [props.room]);\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if ((noteData && noteType === 'NoteImg') ||\r\n            noteType === 'NoteVideo') {\r\n            onHandleSubmit()\r\n        }\r\n    }, [isUploading]);\r\n    \r\n\r\n    useEffect(() => {\r\n        loadRoom()\r\n    }, [props.filterBy]);\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"room-page\">\r\n            {/* {(isValidUser && notes) ? <div className=\"note-add\"> FIX IS VAILD USER*/}\r\n            {notes ? <div className=\"note-add\">\r\n                {noteType && <InputType\r\n                    isMarkerShown={true}\r\n                    onUploadImg={onUploadImg}\r\n                    addVideo={onAddVideo}\r\n                    handleSubmit={onHandleSubmit}\r\n                    setNoteHeader={setNoteHeader}\r\n                    setNoteData={setNoteData}\r\n                    noteData={noteData}\r\n                    resetNoteAdd={resetNoteAdd}\r\n                />}\r\n                <ButtonMenu setNoteType={setNoteType} setNoteInputType={setNoteInputType} setNoteData={setNoteData} />\r\n            </div> : <Loading />}\r\n            {/* {(isValidUser && notes) && <div> FIX IS VAILD USER */}\r\n            {(notes && props.user) && <div>\r\n                {\r\n                    <NotesContainer room={props.room} user={props.user} setNoteType={setNoteType} filterBy={props.filterBy} />\r\n                }\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        room: state.room.currRoom,\r\n        filterBy: state.room.filterBy,\r\n        user: state.user.loggedinUser,\r\n    };\r\n};\r\nconst mapDispatchToProps = {\r\n    loadRoomById,\r\n    saveRoom,\r\n    resetCurrRoom,\r\n    updateUser,\r\n    addNote\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RoomPage);\r\n\r\n\r\n","import React, {useCallback, useState} from 'react';\r\nimport avatarImg from '../../assets/png/user.png'\r\nimport Loading from \"../Loading\";\r\n\r\nimport AvatarLoader from \"../AvatarLoader\";\r\n\r\n\r\nexport const AvatarEdit = (props) => {\r\n\r\n    const [isLoaded, setIsLoaded] = useState(false)\r\n\r\n    const onLoad = useCallback(() => {\r\n    console.log('loaded');\r\n    setIsLoaded(true);\r\n    }, [])\r\n\r\n  // var [{imgUrl}] = useState(props)\r\n  const { imgUrl, isLoading } = props\r\n  \r\n  return <div className=\"avatar-edit\">\r\n    <label>\r\n      <input type=\"file\" onChange={(ev) => props.onUploadImg(ev)} hidden />\r\n      {isLoading ? <Loading /> : <img src={imgUrl ? imgUrl : avatarImg} alt=\"\" className=\"avatar avatar-m\" onLoad={onLoad} style={{display: isLoaded? 'block': 'none'}} />}\r\n      {!isLoaded && <AvatarLoader isHome={true}/>}\r\n\r\n    </label>\r\n  </div>;\r\n}\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getUser, updateUser } from '../actions/UserActions';\r\nimport { resetCurrRoom } from '../actions/RoomActions';\r\n\r\n\r\nimport ContactPage from '../pages/ContactPage'\r\nimport RoomPage from '../pages/RoomPage'\r\nimport { loadContacts } from '../actions/ContactActions';\r\n\r\nimport { AvatarEdit } from '../cmps/User/AvatarEdit'\r\nimport ContactList from '../cmps/ContactList'\r\nimport Filter from '../cmps/Filter'\r\n\r\nimport SocketService from '../services/SocketService'\r\nimport { UserService } from '../services/UserService'\r\nimport CloudinaryService from '../../src/services/CloudinaryService'\r\n\r\n\r\n\r\nconst HomePage = (props) => {\r\n  const [filterBy, setFilterBy] = useState({ term: '' })\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [isHome, setIsHome] = useState(true)\r\n\r\n\r\n  const { user, contacts,room,getUpdatedUser } = props;\r\n\r\n\r\n  const loadContacts = async () => {\r\n    await props.loadContacts(filterBy);\r\n  };\r\n\r\n  const onUploadImg = async (ev) => {\r\n    setIsLoading(true)\r\n    let userImgUrl = await CloudinaryService.uploadImg(ev)\r\n    const updatedUser = Object.assign(user, { imgUrl: userImgUrl.secure_url })\r\n    props.updateUser(updatedUser)\r\n    UserService.updateImgAtContacts(user._id, userImgUrl.secure_url)\r\n    setIsLoading(false)\r\n  }\r\n\r\n  const onAddFriend = (friendId) => {\r\n    const { userName, fullName, _id, imgUrl } = user\r\n    let userId = _id\r\n    let notification = {\r\n      userName,\r\n      fullName,\r\n      type: 'NotificationFriend',\r\n      imgUrl\r\n    }\r\n    SocketService.emit('Add Friend', { notification, userId, friendId })\r\n  }\r\n\r\n\r\n\r\n  const onMoveToRoom = (ev, contact) => {\r\n    const roomId = UserService.getRoomIdFromContact(user,contact).roomId\r\n    console.log('roomId', roomId);\r\n\r\n    ev.stopPropagation()\r\n    props.history.push(`/room/${roomId}`);\r\n  }\r\n\r\n\r\n  useEffect(() => { \r\n    props.getUser()\r\n    if (!props.user) props.history.push(\"/signup\")\r\n\r\n    loadContacts()\r\n    return () =>{\r\n      setIsHome(false)\r\n    }\r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n    loadContacts()\r\n  }, [filterBy])\r\n\r\n \r\n\r\n\r\n  return (\r\n    <div>\r\n        {user &&\r\n          <div className=\"home-page\">\r\n            <div className=\"mobile\">\r\n            {user.userName && <h2>Hi There <span className=\"user-name\">{user.userName}</span></h2>}\r\n            <AvatarEdit imgUrl={user.imgUrl} onUploadImg={onUploadImg} isLoading={isLoading} />\r\n            <h6>Let's add contacts veze</h6>\r\n            <Filter filterBy={filterBy} setFilterBy={setFilterBy} />\r\n            {contacts && <ContactList onMoveToRoom={onMoveToRoom} contacts={contacts} onAddFriend={onAddFriend} loggedinUser={user} isHome={isHome} />}\r\n            </div>\r\n        <div className=\"desktop\">\r\n          <section className=\"contact-page-desktop\">\r\n        <ContactPage/>\r\n          </section>\r\n        {room && <section className=\"room-page-desktop\">\r\n        <RoomPage history={props.history}/>\r\n        </section>}\r\n        </div>\r\n        </div>\r\n      }\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n    contacts: state.contact.contacts,\r\n    room:state.room.currRoom\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  getUser,\r\n  updateUser,\r\n  loadContacts,\r\n  resetCurrRoom\r\n  \r\n\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\n\r\n\r\n// import React, { Component } from 'react'\r\n// import { connect } from 'react-redux';\r\n// import Avatar from 'react-avatar';\r\n\r\n// import { getUser,updateUser } from '../actions/UserActions';\r\n// import { loadContacts } from '../actions/ContactActions';\r\n\r\n// import { AvatarEdit } from '../cmps/User/AvatarEdit'\r\n// import ContactList from '../cmps/ContactList'\r\n// import Filter from '../cmps/Filter'\r\n\r\n// import SocketService from '../services/SocketService'\r\n// import {UserService} from '../services/UserService'\r\n// import CloudinaryService from '../../src/services/CloudinaryService'\r\n\r\n\r\n\r\n// class HomePage extends Component {\r\n//   state = {\r\n//     filterBy: { term: '' },\r\n//     isLoading: false\r\n//   }\r\n\r\n//   componentDidMount() {\r\n//     this.props.getUser()\r\n//     if (!this.props.user) this.props.history.push(\"/signup\")\r\n//     this.loadContacts()\r\n//   }\r\n\r\n//   loadContacts = async () => {\r\n//     await this.props.loadContacts(this.state.filterBy);\r\n//   };\r\n\r\n//   onUploadImg = async (ev) => {\r\n//     let user = this.props.user\r\n//     this.setState({ isLoading: true })\r\n//     let userImgUrl = await CloudinaryService.uploadImg(ev)\r\n//     const updatedUser = Object.assign(user, { imgUrl: userImgUrl.secure_url })\r\n//     this.props.updateUser(updatedUser)\r\n//     UserService.updateImgAtContacts(user._id, userImgUrl.secure_url)\r\n//     this.setState({ isLoading: false })\r\n//   }\r\n\r\n//   onAddFriend = (friendId) => {\r\n//     const { userName, fullName, _id, imgUrl } = this.props.user\r\n//     let userId = _id\r\n//     let notification = {\r\n//       userName,\r\n//       fullName,\r\n//       type: 'NotificationFriend',\r\n//       imgUrl\r\n//     }\r\n//     SocketService.emit('Add Friend', { notification, userId, friendId })\r\n//   }\r\n\r\n//   onFilterHandler = (filterBy) => {\r\n//     this.setState((prevState) => {\r\n//       return {\r\n//         filterBy: {\r\n//           ...prevState.filterBy,\r\n//           ...filterBy,\r\n//         },\r\n//       };\r\n//     }, this.loadContacts);\r\n\r\n//   };\r\n\r\n//   onMoveToRoom = (ev, roomId) => {\r\n//     console.log(ev);\r\n//     ev.stopPropagation()\r\n//     this.props.history.push(`/board/${roomId}`);\r\n//   }\r\n\r\n//   capitalize = (name) => {\r\n//     return name.charAt(0).toUpperCase() + name.slice(1);\r\n//   };\r\n\r\n\r\n\r\n//   render() {\r\n//     const { user, contacts } = this.props;\r\n//     const { isLoading } = this.state\r\n\r\n//     return (\r\n//       <div>\r\n//         {user &&\r\n//           <div className=\"home-page\">\r\n//             {user.userName && <h2>Hi There {this.capitalize(user.userName)}</h2>}\r\n//             <AvatarEdit imgUrl={user.imgUrl} onUploadImg={this.onUploadImg} isLoading={isLoading} />\r\n//             <h6>Let's add contacts veze</h6>\r\n//             <Filter filterBy={this.state.filterBy} onFilter={this.onFilterHandler} />\r\n//             {contacts && <ContactList onMoveToRoom={this.onMoveToRoom} contacts={contacts} onAddFriend={this.onAddFriend} loggedinUser={user} />}\r\n//           </div>\r\n//         }\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     user: state.user.loggedinUser,\r\n//     contacts: state.contact.contacts,\r\n//   };\r\n// };\r\n\r\n// const mapDispatchToProps = {\r\n//   getUser,\r\n//   updateUser,\r\n//   loadContacts,\r\n\r\n// };\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\n\r\n\r\n","import React from 'react'\r\n\r\nexport default ({ notification,onApprove,onDecline }) => {    \r\n    return (\r\n        <div className=\"notification-friend\">\r\n            <p>{notification.fullName} wants to start a board with you</p>\r\n            <button className=\"btn approve\" onClick={()=>onApprove(notification)}>Approve</button>\r\n            <button className=\"btn decline\" onClick={()=>onDecline(notification)}>Decline</button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default ({ notification }) => {\r\n    return (\r\n        <div className=\"notification-response\">\r\n            <p>{notification.fullName} has {notification.isApproved ? 'Approved' : 'Declined'} your request</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default ({ notification, onDeleteNotification }) => {\r\n\r\n    const {userName, roomId} = notification\r\n\r\n    return (\r\n        <Link to={`/room/${roomId}`} >\r\n        <div className=\"notification-note\" onClick={onDeleteNotification}>\r\n            <p>{userName} just Added A note! go check it out</p>\r\n        </div>\r\n        </Link>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default ({ notification }) => {\r\n    return (\r\n        <div className=\"notification-starred-note\">\r\n            <p>\r\n                \r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport NotificationFriend from './NotificationFriend'\r\nimport NotificationResponse from './NotificationResponse'\r\nimport NotificationNote from './NotificationNote'\r\nimport NotificationStarredNote from './NotificationStarredNote'\r\nimport Moment from 'react-moment';\r\n\r\nimport xMark from '../../assets/svg/x-mark.svg'\r\nimport RemoveIcon from '../icons/RemoveIcon'\r\n\r\n\r\nexport default ({ notification, onApprove, onDecline, onDeleteNotification }) => {\r\n    const cmps = {\r\n        NotificationFriend,\r\n        NotificationResponse,\r\n        NotificationNote,\r\n        NotificationStarredNote\r\n    }\r\n\r\n\r\n    const NotificationType = cmps[notification.type];\r\n    return (\r\n        <div className=\"notification-preview\">\r\n            <div className=\"notification-header\">\r\n                <img src={notification.imgUrl} className=\"avatar avatar-xs\" alt=\"User Avatar\" />\r\n                <div>\r\n                    <NotificationType notification={notification} onApprove={onApprove} onDecline={onDecline} onDeleteNotification={onDeleteNotification} />\r\n                    <Moment fromNow>{notification.createdAt}</Moment>\r\n                </div>\r\n                <i onClick={() => onDeleteNotification(notification)} ><RemoveIcon /></i>\r\n                {/* <img src={xMark} onClick={()=> onDeleteNotification(notification)} className=\"x-mark\" alt=\"Close\"/> */}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport NotificationPreview from './NotificationPreview'\r\n\r\nexport default ({notifications, onApprove, onDecline,onDeleteNotification}) => {\r\n    \r\n\r\n    return (\r\n        <div className=\"notification-list\">\r\n            {notifications.map(notification => {\r\n                return (\r\n                    <NotificationPreview notification={notification} key={notification._id} onApprove={onApprove} onDecline={onDecline} onDeleteNotification={onDeleteNotification}  />\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { updateUser } from '../actions/UserActions';\r\n\r\nimport SocketService from '../services/SocketService'\r\n\r\n\r\nimport NotificationList from '../cmps/Notification/NotificationList';\r\n\r\nconst InboxPage = (props) => {\r\n\r\n  const { user } = props\r\n\r\n  const onApprove = (notification) => {\r\n    onDeleteNotification(notification)\r\n    SocketService.emit(\"approve\", { notification, user });\r\n\r\n  }\r\n  const onDecline = (notification) => {\r\n    onDeleteNotification(notification)\r\n    SocketService.emit(\"decline\", { notification, user });\r\n  }\r\n\r\n  const onDeleteNotification = (notification) => {\r\n    const idx = user.notifications.findIndex(\r\n      currNotification => currNotification._id === notification._id\r\n    );\r\n    console.log('@%IDX$^', idx);\r\n    user.notifications.splice(idx, 1);\r\n    props.updateUser(user)\r\n  }\r\n\r\n  // const handleForbiddenUser = () => {\r\n  //   if(props.match.params.id !== user._id) props.history.push('/')\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   handleForbiddenUser()\r\n  // }, [])\r\n  \r\n\r\n  return (\r\n    (!user) ? <h1>Inbox is empty</h1> :\r\n      <div>\r\n        {user && <div>\r\n          {!!user.notifications.length && <NotificationList notifications={user.notifications} onApprove={onApprove} onDecline={onDecline} onDeleteNotification={onDeleteNotification} ></NotificationList>}\r\n        </div>\r\n        }\r\n      </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n    room: state.room.currRoom,\r\n\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  updateUser,\r\n\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(InboxPage);","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport SocketService from '../../services/SocketService'\r\n\r\nimport { loadRoomById, saveRoom, resetCurrRoom } from '../../actions/RoomActions';\r\nimport { toggleStarredNote, removeNote, changeNoteColor, toggleNotePin, updateNote } from '../../actions/NoteActions'\r\n\r\nimport NoteFilter from './NoteFilter'\r\nimport NoteList from './NoteList'\r\n\r\n\r\nconst StarredContainer = ({ room,notes, user, setNoteType, removeNote, saveRoom, changeNoteColor, toggleNotePin, updateNote, toggleStarredNote, isStarredPage}) => {\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"starred-container\">\r\n            {/* <NoteFilter\r\n                filterBy={filterBy}\r\n                setFilterBy={setFilterBy}\r\n                onFilter={onFilterHandler}\r\n                placeHolder={\"Search for notes\"} /> */}\r\n\r\n\r\n            <NoteList\r\n                room={room}\r\n                notes={notes}\r\n                user={user}\r\n                removeNote={removeNote}\r\n                changeNoteColor={changeNoteColor}\r\n                toggleNotePin={toggleNotePin}\r\n                // saveRoomChanges={saveRoomChanges}\r\n                // setNoteType={setNoteType}\r\n                updateNote={updateNote}\r\n                isStarredPage={isStarredPage}\r\n                toggleStarredNote={toggleStarredNote}\r\n                isStarredPage={isStarredPage}\r\n                // updateMembers={updateMembers}\r\n                // togglePinned={togglePinned}\r\n                // setNoteType={setNoteType}\r\n                // toggleStarred={toggleStarred}\r\n            />\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        // room: state.room.currRoom,\r\n        // user: state.user.loggedinUser,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    toggleNotePin,\r\n    changeNoteColor,\r\n    removeNote,\r\n    saveRoom,\r\n    loadRoomById,\r\n    resetCurrRoom,\r\n    updateNote,\r\n    toggleStarredNote\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StarredContainer);\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { resetCurrRoom } from '../actions/RoomActions';\r\nimport { getStarredNotes } from '../actions/NoteActions';\r\n\r\nimport StarredContainer from '../cmps/Note/StarredContainer'\r\nimport Loading from '../cmps/Loading'\r\n\r\n\r\n\r\nconst StarredPage = ({ room, user, getStarredNotes, resetCurrRoom }) => {\r\n\r\n\r\n  const getNotes = async () => {\r\n    return await getStarredNotes(JSON.parse(JSON.stringify(user)))\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNotes()\r\n    return () => {\r\n      resetCurrRoom()\r\n    }\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className=\"starred-page\">\r\n      <h1>Starred</h1>\r\n      {room ? <StarredContainer notes={room.notes} user={user} isStarredPage={true} /> : <Loading />}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n    room: state.room.currRoom,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  getStarredNotes,\r\n  resetCurrRoom\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StarredPage);","\r\n\r\nimport React, { Component } from \"react\";\r\nimport { MDBInput } from \"mdbreact\";\r\nimport Loading from \"../cmps/Loading\";\r\n\r\nimport Swal from 'sweetalert2'\r\n\r\n// import SocketService from '../services/SocketService'\r\n\r\nimport { signUp, login, getUser } from '../actions/UserActions'\r\nimport { connect } from \"react-redux\";\r\nimport CloudinaryService from '../../src/services/CloudinaryService'\r\n\r\nimport { AvatarEdit } from '../cmps/User/AvatarEdit'\r\n\r\nclass SignupPage extends Component {\r\n\r\n  state = {\r\n    newUser: {\r\n      userName: '',\r\n      fullName: '',\r\n      password: '',\r\n      imgUrl: '',\r\n    },\r\n    isSignUp: false,\r\n    isLoading: false,\r\n    isDone: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getLoggedinUser();\r\n  }\r\n\r\n  getLoggedinUser = async () => {\r\n    await this.props.getUser()\r\n    if (this.props.user) this.props.history.push('/')\r\n  }\r\n\r\n  onChangeHandler = (ev) => {\r\n    const { value, name } = ev.target;\r\n    this.setState({\r\n      newUser: {\r\n        ...this.state.newUser,\r\n        [name]: value\r\n      }\r\n    })\r\n  };\r\n\r\n  resetInput = () => {\r\n    this.setState({\r\n      newUser: {\r\n        userName: '',\r\n        fullName: '',\r\n        password: '',\r\n        imgUrl: '',\r\n      }\r\n    })\r\n  }\r\n\r\n  onUploadImg = async (ev) => {\r\n    this.setState({ isLoading: true })\r\n    let userImgUrl = await CloudinaryService.uploadImg(ev)\r\n    this.setState({\r\n      newUser: {\r\n        ...this.state.newUser,\r\n        imgUrl: userImgUrl.secure_url\r\n      }\r\n    })\r\n    this.setState({ isLoading: false })\r\n  }\r\n\r\n  connectSockets(id) {\r\n    this.props.onConnectSocket(id)\r\n  }\r\n\r\n  toggleSignUp = () => {\r\n    this.setState(prevState => ({\r\n      isSignUp: !prevState.isSignUp\r\n    }));\r\n  }\r\n\r\n  onHandleSubmit = async (ev) => {\r\n    ev.preventDefault();\r\n    this.setState({ isDone: true })\r\n    this.state.isSignUp ?\r\n      await this.props.signUp({ ...this.state.newUser })\r\n      : await this.props.login({ ...this.state.newUser })\r\n    await this.getLoggedinUser();\r\n    if (!this.props.user) {\r\n      Swal.fire({\r\n        title: 'Wrong password or Username.',\r\n        width: 300,\r\n        confirmButtonText: \"Say what?\",\r\n        confirmButtonColor: \"yellow\",\r\n        padding: '1em',\r\n        background: '#fff url(https://sweetalert2.github.io/images/trees.png)',\r\n        backdrop: `\r\n        rgba(0,0,123,0.4)\r\n        url(\"https://sweetalert2.github.io/images/nyan-cat.gif\")\r\n        left top\r\n        no-repeat\r\n        `\r\n      })\r\n      this.props.history.push(\"/signup\")\r\n      this.resetInput()\r\n      this.setState({ isDone: false })\r\n      return\r\n    }\r\n    this.props.showNotification('Logged in successfully :)', 'success')\r\n    this.connectSockets(this.props.user._id)\r\n    this.props.history.push(\"/\")\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { isSignUp, isLoading, isDone } = this.state\r\n    const { imgUrl } = this.state.newUser\r\n    return (\r\n      isDone ? <Loading /> :\r\n        <div className=\"signup-form\">\r\n          <form onSubmit={this.onHandleSubmit}>\r\n            {isSignUp ? <h1>SignUp</h1> : <h1>Login</h1>}\r\n            {isSignUp && <AvatarEdit onUploadImg={this.onUploadImg} imgUrl={imgUrl} isLoading={isLoading} />}\r\n            {isSignUp && <MDBInput label=\"Full Name\" name=\"fullName\" value={this.state.newUser.fullName || ''} onChange={this.onChangeHandler} />}\r\n            <MDBInput label=\"User Name\" type=\"text\" name=\"userName\" value={this.state.newUser.userName || ''} onChange={this.onChangeHandler} />\r\n            <MDBInput label=\"Password\" type=\"password\" name=\"password\" value={this.state.newUser.password || ''} onChange={this.onChangeHandler} />\r\n            <button className=\"signup-login-btn\">{isSignUp ? 'Signup' : 'Login'}</button>\r\n            {!isSignUp && <h2 >Don't Have an account?<span className=\"toggle-btn\" onClick={this.toggleSignUp}> Sign up!</span></h2>}\r\n            {isSignUp && <h2 >Head Back to <span className=\"toggle-btn\" onClick={this.toggleSignUp}>Login</span></h2>}\r\n          </form>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  signUp,\r\n  getUser,\r\n  login\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignupPage);\r\n\r\n\r\n\r\n//func version:\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { MDBInput } from \"mdbreact\";\r\n// import Loading from \"../cmps/Loading\";\r\n\r\n// import Swal from 'sweetalert2'\r\n\r\n// // import SocketService from '../services/SocketService'\r\n\r\n// import { signUp, login, getUser } from '../actions/UserActions'\r\n// import { connect } from \"react-redux\";\r\n// import CloudinaryService from '../../src/services/CloudinaryService'\r\n\r\n// import { AvatarEdit } from '../cmps/User/AvatarEdit'\r\n\r\n\r\n// const SignupPage = (props) => {\r\n//   const [isSignup, setIsSignup] = useState(false)\r\n//   const [isLoading, setIsLoading] = useState(false)\r\n//   const [isDone, setIsDone] = useState(false)\r\n//   const [newUser, setNewUser] = useState({\r\n//     userName: '',\r\n//     fullName: '',\r\n//     password: '',\r\n//     imgUrl: '',\r\n//   })\r\n//   let loggedinUser = null\r\n\r\n//   const getLoggedinUser = async () => {\r\n//     await props.getUser()\r\n//     if (props.user) props.history.push('/')\r\n//     return props.user\r\n//   }\r\n\r\n\r\n\r\n//   const resetInput = () => {\r\n//     setNewUser({\r\n//       userName: '',\r\n//       fullName: '',\r\n//       password: '',\r\n//       imgUrl: '',\r\n//     })\r\n//   }\r\n\r\n//   const onUploadImg = async (ev) => {\r\n//     setIsLoading(true)\r\n//     let userImgUrl = await CloudinaryService.uploadImg(ev)\r\n//     setNewUser({ ...newUser, imgUrl: userImgUrl.secure_url })\r\n//     setIsLoading(false)\r\n//   }\r\n\r\n//   const connectSockets = (id) => {\r\n//     props.onConnectSocket(id)\r\n//   }\r\n\r\n//   const onHandleSubmit = async (ev) => {\r\n//     ev.preventDefault();\r\n//     setIsDone(true)\r\n//     isSignup ? await props.signUp({ ...newUser }) : await props.login({ ...newUser })\r\n//     await getLoggedinUser()\r\n//     loggedinUser = { ...props.user }\r\n//     if (!loggedinUser.userName) {\r\n//       Swal.fire({\r\n//         title: 'Wrong password or Username.',\r\n//         width: 300,\r\n//         confirmButtonText: \"Say what?\",\r\n//         confirmButtonColor: \"yellow\",\r\n//         padding: '1em',\r\n//         background: '#fff url(https://sweetalert2.github.io/images/trees.png)',\r\n//         backdrop: `\r\n//         rgba(0,0,123,0.4)\r\n//         url(\"https://sweetalert2.github.io/images/nyan-cat.gif\")\r\n//         left top\r\n//         no-repeat\r\n//         `\r\n//       })\r\n//       props.history.push(\"/signup\")\r\n//       resetInput()\r\n//       setIsDone(false)\r\n//       return\r\n//     }\r\n//     props.showNotification('Logged in successfully :)', 'success')\r\n//     connectSockets(loggedinUser._id)\r\n//     console.log(loggedinUser);\r\n//     props.history.push(\"/\")\r\n//   }\r\n\r\n//   useEffect(() => {\r\n//     getLoggedinUser()\r\n//   }, [])\r\n\r\n//   return (\r\n//     isDone ? <Loading /> :\r\n//       <div className=\"signup-form\">\r\n//         <form onSubmit={(e) => onHandleSubmit(e)}>\r\n//           {isSignup ? <h1>SignUp</h1> : <h1>Login</h1>}\r\n//           {isSignup && <AvatarEdit onUploadImg={onUploadImg} imgUrl={newUser.imgUrl} isLoading={isLoading} />}\r\n//           {isSignup && <MDBInput label=\"Full Name\" name=\"fullName\" value={newUser.fullName || ''} onChange={e => setNewUser({ ...newUser, fullName: e.target.value })} />}\r\n//           <MDBInput label=\"UserName\" type=\"text\" name=\"userName\" value={newUser.userName || ''} onChange={e => setNewUser({ ...newUser, userName: e.target.value })} />\r\n//           <MDBInput label=\"Password\" type=\"password\" name=\"password\" value={newUser.password || ''} onChange={e => setNewUser({ ...newUser, password: e.target.value })} />\r\n//           <button className=\"signup-login-btn\">{isSignup ? 'Sign up' : 'Login'}</button>\r\n//           {!isSignup && <h2 >Don't Have an account?<span className=\"toggle-btn\" onClick={() => setIsSignup(!isSignup)}> Sign up!</span></h2>}\r\n//           {isSignup && <h2 >Head Back to <span className=\"toggle-btn\" onClick={() => setIsSignup(!isSignup)}>Login</span></h2>}\r\n//         </form>\r\n//       </div>\r\n//   );\r\n\r\n// }\r\n\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     user: state.user.loggedinUser,\r\n//   };\r\n// };\r\n\r\n// const mapDispatchToProps = {\r\n//   signUp,\r\n//   getUser,\r\n//   login\r\n// };\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(SignupPage);\r\n\r\n\r\n// //functional handle submit:\r\n// const onHandleSubmit = async (ev) => {\r\n//   ev.preventDefault();\r\n//   setIsDone(true)\r\n//   isSignup ? await props.signUp({ ...newUser }) : await props.login({ ...newUser })\r\n//   await getLoggedinUser()\r\n//   if (!props.user) {\r\n//     Swal.fire({\r\n//       title: 'Wrong password or Username.',\r\n//       width: 300,\r\n//       confirmButtonText: \"Say what?\",\r\n//       confirmButtonColor: \"yellow\",\r\n//       padding: '1em',\r\n//       background: '#fff url(https://sweetalert2.github.io/images/trees.png)',\r\n//       backdrop: `\r\n//       rgba(0,0,123,0.4)\r\n//       url(\"https://sweetalert2.github.io/images/nyan-cat.gif\")\r\n//       left top\r\n//       no-repeat\r\n//       `\r\n//     })\r\n//     props.history.push(\"/signup\")\r\n//     resetInput()\r\n//     setIsDone(false)\r\n//     return\r\n//   }\r\n//   connectSockets(props.user._id)\r\n//   props.history.push(\"/\")\r\n// }","import React from \"react\";\r\nimport { getUser } from \"./actions/UserActions\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Route, Switch, withRouter } from \"react-router-dom\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport InboxPage from './pages/InboxPage'\r\nimport StarredPage from './pages/StarredPage'\r\nimport ContactPage from './pages/ContactPage'\r\nimport RoomPage from './pages/RoomPage'\r\nimport SignupPage from './pages/SignupPage'\r\n\r\nimport Loading from './cmps/Loading'\r\nclass RoutePage extends React.Component {\r\n\r\n  async componentDidMount() {\r\n    await this.props.getUser(); \r\n    if (!this.isInSignupPage && !this.props.user) {\r\n    this.props.history.push('/signup')\r\n    }\r\n  }\r\n\r\n  get isInSignupPage() {\r\n    return this.props.location.pathname === \"/signup\";\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      this.props.location !== prevProps.location &&\r\n      !this.props.user &&\r\n      !this.isInSignupPage\r\n    ) {\r\n      this.props.history.push(\"/signup\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!this.isInSignupPage && !this.props.user) return <Loading />\r\n\r\n    return (\r\n      <div className=\"router-page\">\r\n        <main>\r\n          <Switch>\r\n            <Route path=\"/signup\" exact render={(routerProps) => <SignupPage {...routerProps} onConnectSocket={this.props.onConnectSocket} showNotification={this.props.showNotification} />} />\r\n            <Route path=\"/\" exact component={HomePage} />\r\n            <Route path=\"/contact\" component={ContactPage} />\r\n            <Route path=\"/starred\" exact component={StarredPage} />\r\n            <Route path=\"/room/:id\" exact render={(routerProps) => <RoomPage {...routerProps} showNotification={this.props.showNotification} />} />\r\n            {/* <Route path=\"/room/:id\" component={RoomPage} showNotification={this.props.showNotification} /> */}\r\n            <Route path=\"/inbox/:id\" exact component={InboxPage} />\r\n          </Switch>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  getUser,\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(RoutePage));\r\n","\r\nimport React from 'react';\r\n\r\nexport default (props) => {\r\n\r\n    return <svg  className='notificaion-icon' viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <g>\r\n            <path className='path1' d=\"m286 93.233c-8.284 0-15-6.716-15-15v-33.233c0-8.271-6.729-15-15-15s-15 6.729-15 15v33.233c0 8.284-6.716 15-15 15s-15-6.716-15-15v-33.233c0-24.813 20.187-45 45-45s45 20.187 45 45v33.233c0 8.284-6.716 15-15 15z\" />\r\n            <path className='path2' d=\"m271 45v33.233c0 8.284 6.716 15 15 15s15-6.716 15-15v-33.233c0-24.813-20.187-45-45-45v30c8.272 0 15 6.729 15 15z\" />\r\n            <path className='path3' d=\"m256 512c-41.355 0-75-33.645-75-75 0-8.284 6.716-15 15-15h120c8.284 0 15 6.716 15 15 0 41.355-33.644 75-75 75z\" />\r\n            <path className='path4' d=\"m316 422h-60v90c41.355 0 75-33.645 75-75 0-8.284-6.716-15-15-15z\" />\r\n            <path className='path5' d=\"m466 452h-420c-6.01 0-11.439-3.587-13.797-9.115s-1.189-11.929 2.971-16.267c42.448-44.268 65.826-102.425 65.826-163.756v-47.862c0-85.467 69.533-155 155-155s155 69.533 155 155v47.862c0 61.332 23.378 119.488 65.827 163.756 4.159 4.338 5.328 10.739 2.97 16.267-2.357 5.528-7.787 9.115-13.797 9.115z\" />\r\n            <path className='path6' d=\"m466 452c6.01 0 11.439-3.587 13.797-9.115s1.189-11.929-2.97-16.267c-42.449-44.268-65.827-102.425-65.827-163.756v-47.862c0-85.467-69.533-155-155-155v392z\" />\r\n            <path className='path7' d=\"m466 230c-8.284 0-15-6.716-15-15 0-52.087-20.283-101.056-57.114-137.886-5.858-5.858-5.858-15.355 0-21.213 5.857-5.858 15.355-5.858 21.213 0 42.497 42.496 65.901 98.999 65.901 159.099 0 8.284-6.716 15-15 15z\" />\r\n            <path className='path8' d=\"m46 230c-8.284 0-15-6.716-15-15 0-60.1 23.404-116.602 65.901-159.099 5.857-5.858 15.355-5.858 21.213 0s5.858 15.355 0 21.213c-36.83 36.831-57.114 85.8-57.114 137.886 0 8.284-6.716 15-15 15z\" />\r\n        </g>\r\n    </svg>\r\n\r\n\r\n\r\n}","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return <svg className=\"contacts-icon\" enableBackground=\"new 0 0 512 512\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <g>\r\n            <path className=\"path path1\" d=\"m463 15v482c0 8.28-6.72 15-15 15h-352c-8.28 0-15-6.72-15-15v-482c0-8.28 6.72-15 15-15h352c8.28 0 15 6.72 15 15z\" />\r\n            <path className=\"path path2\" d=\"m463 15v482c0 8.28-6.72 15-15 15h-176v-512h176c8.28 0 15 6.72 15 15z\" />\r\n            <path className=\"path path3\" d=\"m367 360c0 8.28-6.72 15-15 15h-160c-8.266 0-15-6.719-15-15 0-56.555 37.555-111 95-111 57.142 0 95 54.089 95 111z\" />\r\n            <path className=\"path path4\" d=\"m367 360c0 8.28-6.72 15-15 15h-80v-126c57.083 0 95 53.983 95 111z\" />\r\n            <circle cx=\"272\" cy=\"208\" r=\"71\" />\r\n            <path className=\"path path5\" d=\"m343 208c0 39.15-31.85 71-71 71v-142c39.15 0 71 31.85 71 71z\" />\r\n            <g className=\"element-g\" >\r\n                <path d=\"m128 111h-64c-8.284 0-15-6.716-15-15s6.716-15 15-15h64c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\r\n                <path d=\"m128 191h-64c-8.284 0-15-6.716-15-15s6.716-15 15-15h64c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\r\n                <path d=\"m128 271h-64c-8.284 0-15-6.716-15-15s6.716-15 15-15h64c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\r\n                <path d=\"m128 351h-64c-8.284 0-15-6.716-15-15s6.716-15 15-15h64c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\r\n                <path d=\"m128 431h-64c-8.284 0-15-6.716-15-15s6.716-15 15-15h64c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\r\n            </g>\r\n        </g>\r\n    </svg>\r\n}\r\n\r\n// import React from 'react';\r\n\r\n\r\n// export default (props) => {\r\n\r\n//     return <svg className=\"contacts-icon\" enable-background=\"new 0 0 512 512\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n//         <g>\r\n//             <path d=\"m448 0h-352c-8.284 0-15 6.716-15 15v66h-17c-8.284 0-15 6.716-15 15s6.716 15 15 15h17v50h-17c-8.284 0-15 6.716-15 15s6.716 15 15 15h17v50h-17c-8.284 0-15 6.716-15 15s6.716 15 15 15h17v50h-17c-8.284 0-15 6.716-15 15s6.716 15 15 15h17v50h-17c-8.284 0-15 6.716-15 15s6.716 15 15 15h17v66c0 8.284 6.716 15 15 15h352c8.284 0 15-6.716 15-15v-482c0-8.284-6.716-15-15-15zm-15 482h-322v-51h17c8.284 0 15-6.716 15-15s-6.716-15-15-15h-17v-50h17c8.284 0 15-6.716 15-15s-6.716-15-15-15h-17v-50h17c8.284 0 15-6.716 15-15s-6.716-15-15-15h-17v-50h17c8.284 0 15-6.716 15-15s-6.716-15-15-15h-17v-50h17c8.284 0 15-6.716 15-15s-6.716-15-15-15h-17v-51h322z\" />\r\n//             <path d=\"m177 360c0 8.284 6.716 15 15 15s15-6.716 15-15c0-39.816 24.313-81 65-81s65 41.184 65 81c0 8.284 6.716 15 15 15s15-6.716 15-15c0-38.116-17.398-77.595-49.26-97.756 15.433-13.034 25.26-32.509 25.26-54.244 0-39.149-31.851-71-71-71s-71 31.851-71 71c0 21.735 9.827 41.21 25.26 54.244-31.861 20.16-49.26 59.646-49.26 97.756zm54-152c0-22.607 18.393-41 41-41s41 18.393 41 41-18.393 41-41 41-41-18.393-41-41z\" />\r\n//         </g>\r\n//     </svg>\r\n// }\r\n\r\n\r\n\r\n\r\n","\r\n\r\nimport React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return <svg className=\"logout-icon\" enableBackground=\"new 0 0 512 512\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <g>\r\n            <g>\r\n                <circle cx=\"256.004\" cy=\"256\" r=\"246\" />\r\n                <g className=\"element-g\">\r\n                    <path d=\"m256.004 190.145c-17.56 0-31.796-14.236-31.796-31.796v-56.613c0-17.56 14.236-31.796 31.796-31.796s31.796 14.235 31.796 31.795v56.613c0 17.561-14.236 31.797-31.796 31.797z\" />\r\n                    <path d=\"m256.004 442.061c-100.663 0-182.558-81.895-182.558-182.557 0-52.159 22.389-101.941 61.428-136.583 13.135-11.656 33.231-10.459 44.887 2.678 11.655 13.135 10.456 33.231-2.678 44.886-25.448 22.583-40.044 55.03-40.044 89.019 0 65.597 53.367 118.965 118.965 118.965s118.965-53.367 118.965-118.965c0-33.99-14.596-66.436-40.044-89.019-13.134-11.656-14.334-31.752-2.678-44.886 11.655-13.136 31.752-14.335 44.887-2.678 39.038 34.642 61.428 84.425 61.428 136.583 0 100.662-81.895 182.557-182.558 182.557z\" />\r\n                </g>\r\n            </g>\r\n            <g>\r\n                <g>\r\n                    <g>\r\n                        <g>\r\n                            <path d=\"m511.804 254.05c-.77-4.1-4.262-7.37-8.38-7.947-4.178-.586-8.382 1.57-10.306 5.332-1.901 3.717-1.27 8.345 1.589 11.401 2.814 3.008 7.318 3.965 11.117 2.394 4.344-1.797 6.918-6.562 5.98-11.18z\" />\r\n                            <path d=\"m499.647 291.639c-5.429-1.016-10.652 2.565-11.667 7.993-20.829 111.466-118.389 192.368-231.976 192.368-130.131 0-236-105.869-236-236s105.869-236 236-236c113.646 0 211.216 80.952 231.999 192.487 1.012 5.43 6.236 9.008 11.663 7.999 5.429-1.012 9.01-6.233 7.999-11.663-22.547-121-128.386-208.823-251.661-208.823-68.38 0-132.667 26.629-181.019 74.98-48.352 48.353-74.981 112.64-74.981 181.02s26.629 132.667 74.981 181.02c48.352 48.351 112.639 74.98 181.019 74.98 123.211 0 229.039-87.769 251.636-208.694 1.014-5.429-2.564-10.653-7.993-11.667z\" />\r\n                            <path d=\"m297.8 158.349v-56.613c0-23.046-18.75-41.796-41.796-41.796s-41.796 18.75-41.796 41.796v56.613c0 23.046 18.75 41.796 41.796 41.796s41.796-18.75 41.796-41.796zm-63.592 0v-56.613c0-12.019 9.778-21.796 21.796-21.796 12.019 0 21.796 9.777 21.796 21.796v56.613c0 12.019-9.778 21.796-21.796 21.796-12.019 0-21.796-9.778-21.796-21.796z\" />\r\n                            <path d=\"m183.72 177.964c17.238-15.296 18.817-41.765 3.52-59.004-7.41-8.351-17.629-13.315-28.773-13.979-11.143-.665-21.879 3.051-30.23 10.461-41.175 36.537-64.79 89.046-64.79 144.063 0 106.176 86.381 192.557 192.558 192.557s192.558-86.381 192.558-192.557c0-55.017-23.615-107.525-64.789-144.062-8.35-7.412-19.086-11.133-30.232-10.463-11.144.665-21.363 5.63-28.772 13.98-15.297 17.239-13.718 43.708 3.52 59.004 23.312 20.688 36.682 50.408 36.682 81.54 0 60.083-48.882 108.965-108.965 108.965s-108.965-48.882-108.965-108.965c-.003-31.132 13.367-60.853 36.678-81.54zm-13.275-14.959c-27.585 24.48-43.406 59.653-43.406 96.499 0 71.111 57.854 128.965 128.965 128.965s128.965-57.854 128.965-128.965c0-36.846-15.821-72.019-43.407-96.499-8.989-7.978-9.813-21.78-1.836-30.77 3.864-4.355 9.193-6.944 15.004-7.291 5.818-.348 11.41 1.591 15.765 5.456 36.901 32.745 58.065 79.802 58.065 129.104 0 95.148-77.409 172.557-172.558 172.557s-172.556-77.409-172.556-172.557c0-49.302 21.164-96.358 58.065-129.104 4.023-3.57 9.107-5.495 14.439-5.495.44 0 .882.013 1.326.039 5.812.347 11.14 2.936 15.004 7.291 7.978 8.99 7.155 22.792-1.835 30.77z\" />\r\n                        </g>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </g>\r\n    </svg>\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React from 'react';\r\n\r\n\r\n// export default (props) => {\r\n\r\n//     return <svg className=\"logout-icon\" enable-background=\"new 0 0 512 512\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><g><g><g><g><g><path d=\"m511.804 254.05c-.77-4.1-4.262-7.37-8.38-7.947-4.178-.586-8.382 1.57-10.306 5.332-1.901 3.717-1.27 8.345 1.589 11.401 2.814 3.008 7.318 3.965 11.117 2.394 4.344-1.797 6.918-6.562 5.98-11.18z\" /><path d=\"m499.647 291.639c-5.429-1.016-10.652 2.565-11.667 7.993-20.829 111.466-118.389 192.368-231.976 192.368-130.131 0-236-105.869-236-236s105.869-236 236-236c113.646 0 211.216 80.952 231.999 192.487 1.012 5.43 6.236 9.008 11.663 7.999 5.429-1.012 9.01-6.233 7.999-11.663-22.547-121-128.386-208.823-251.661-208.823-68.38 0-132.667 26.629-181.019 74.98-48.352 48.353-74.981 112.64-74.981 181.02s26.629 132.667 74.981 181.02c48.352 48.351 112.639 74.98 181.019 74.98 123.211 0 229.039-87.769 251.636-208.694 1.014-5.429-2.564-10.653-7.993-11.667z\" /><path d=\"m297.8 158.349v-56.613c0-23.046-18.75-41.796-41.796-41.796s-41.796 18.75-41.796 41.796v56.613c0 23.046 18.75 41.796 41.796 41.796s41.796-18.75 41.796-41.796zm-63.592 0v-56.613c0-12.019 9.778-21.796 21.796-21.796 12.019 0 21.796 9.777 21.796 21.796v56.613c0 12.019-9.778 21.796-21.796 21.796-12.019 0-21.796-9.778-21.796-21.796z\" /><path d=\"m183.72 177.964c17.238-15.296 18.817-41.765 3.52-59.004-7.41-8.351-17.629-13.315-28.773-13.979-11.143-.665-21.879 3.051-30.23 10.461-41.175 36.537-64.79 89.046-64.79 144.063 0 106.176 86.381 192.557 192.558 192.557s192.558-86.381 192.558-192.557c0-55.017-23.615-107.525-64.789-144.062-8.35-7.412-19.086-11.133-30.232-10.463-11.144.665-21.363 5.63-28.772 13.98-15.297 17.239-13.718 43.708 3.52 59.004 23.312 20.688 36.682 50.408 36.682 81.54 0 60.083-48.882 108.965-108.965 108.965s-108.965-48.882-108.965-108.965c-.003-31.132 13.367-60.853 36.678-81.54zm-13.275-14.959c-27.585 24.48-43.406 59.653-43.406 96.499 0 71.111 57.854 128.965 128.965 128.965s128.965-57.854 128.965-128.965c0-36.846-15.821-72.019-43.407-96.499-8.989-7.978-9.813-21.78-1.836-30.77 3.864-4.355 9.193-6.944 15.004-7.291 5.818-.348 11.41 1.591 15.765 5.456 36.901 32.745 58.065 79.802 58.065 129.104 0 95.148-77.409 172.557-172.558 172.557s-172.556-77.409-172.556-172.557c0-49.302 21.164-96.358 58.065-129.104 4.023-3.57 9.107-5.495 14.439-5.495.44 0 .882.013 1.326.039 5.812.347 11.14 2.936 15.004 7.291 7.978 8.99 7.155 22.792-1.835 30.77z\" /></g></g></g></g></g></svg>\r\n// }\r\n","import React, { createRef, useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Link, NavLink, withRouter } from 'react-router-dom';\r\n\r\nimport logo from '../../src/assets/png/petek-logo.png';\r\n\r\nimport NotificationIcon from './icons/NotificationIcon';\r\nimport ContactsIcon from './icons/ContactsIcon';\r\nimport LogoutIcon from './icons/LogoutIcon';\r\nimport StarIcon from './icons/StarIcon'\r\nimport InboxPage from '../pages/InboxPage';\r\nimport Filter from '../cmps/Filter';\r\nimport ContactList from '../cmps/ContactList';\r\n\r\nimport { UserService } from '../services/UserService'\r\n\r\nimport { setFilterBy, resetFilterBy, loadContacts } from '../actions/ContactActions';\r\n\r\n\r\n\r\nconst Navbar = ({ user, handleLogout, history, setFilterBy, resetFilterBy, loadContacts, contacts, filterBy }) => {\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false)\r\n    const [isNotificationOpen, setIsNotificationOpen] = useState(false)\r\n    const checkboxRef = createRef()\r\n\r\n    const handleCheboxClicked = (bool) => {\r\n        setIsMenuOpen(bool)\r\n        if (checkboxRef.current) checkboxRef.current.checked = bool\r\n    }\r\n\r\n    const onAddFriendHandler = (friendId) => {\r\n        UserService.addFriend(user, friendId)\r\n    }\r\n\r\n    const onMoveToRoom = (ev, contact) => {\r\n        const roomId = UserService.getRoomIdFromContact(user, contact).roomId\r\n        console.log('roomId', roomId);\r\n        ev.stopPropagation()\r\n        history.push(`/room/${roomId}`);\r\n        resetFilterBy()\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadContacts(filterBy)\r\n\r\n    }, [filterBy])\r\n\r\n\r\n    return (\r\n        <nav className=\"main-nav\">\r\n            <div className=\"nav-container\">\r\n                <div className='logo-filter-container'>\r\n                    <Link to={`/`} className=\"logo-container\" >\r\n                        <img src={logo} alt=\"logo\" className=\"logo\" />\r\n                    </Link>\r\n                    {user && <section className='nav-filter-container'>\r\n                        <Filter filterBy={filterBy} setFilterBy={setFilterBy} placeHolder='Search For New Friends!' />\r\n                        {!!contacts.length && <ContactList contacts={contacts} loggedinUser={user} onAddFriend={onAddFriendHandler} onMoveToRoom={onMoveToRoom} />}\r\n                    </section>}\r\n                </div>\r\n\r\n                {(!isMenuOpen && user && !!user.notifications.length) && <span className=\"notification-count-nav\">{user.notifications.length}</span>}\r\n                <input type=\"checkbox\" id=\"mobile-nav\" className={isMenuOpen ? 'menu-open' : ''} ref={checkboxRef} hidden onClick={() => handleCheboxClicked(!isMenuOpen)} />\r\n                {user && <label htmlFor=\"mobile-nav\" className=\"mobile-btn\">\r\n                    <span>|</span>\r\n                </label>}\r\n\r\n                {user && <ul className=\"link-list\">\r\n                    <li>\r\n                        <NavLink to=\"/\" className=\"link\" exact onClick={() => handleCheboxClicked(false)}>\r\n                            Home\r\n                         </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to={`/room/${user._id}`} className=\"link private\" exact onClick={() => handleCheboxClicked(false)}>\r\n                            <img className=\"user-avatar\" src={user.imgUrl} alt=\"User Avatar\"/>\r\n                            <span>My Board</span>\r\n                         </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        {!!user.notifications.length && <span className=\"notification-count\">{user.notifications.length}</span>}\r\n                        <div className='notification-list-container'>\r\n                            <i className='notification-icon' onClick={() => setIsNotificationOpen(!isNotificationOpen)}><NotificationIcon /></i>\r\n                            {isNotificationOpen && <i className='notification-list'><InboxPage /></i>}\r\n                        </div>\r\n                        <NavLink to={`/inbox/${user._id}`} className=\"link inbox\" exact onClick={() => { handleCheboxClicked(false) }}>\r\n                            Inbox\r\n                         </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/starred\" className=\"link starred\" exact onClick={() => handleCheboxClicked(false)}>\r\n                            <StarIcon />\r\n                            <span>Starred</span>\r\n                         </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/contact\" className=\"link contacts\" exact onClick={() => handleCheboxClicked(false)}>\r\n                            <ContactsIcon />\r\n                            <span>Contacts</span>\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/signup\" className=\"link logout\" exact onClick={handleLogout}>\r\n                            <LogoutIcon />\r\n                           <span>Logout</span> \r\n                       </NavLink>\r\n                    </li>\r\n                </ul>\r\n                }\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        filterBy: state.contact.filterBy,\r\n        contacts: state.contact.contacts,\r\n    };\r\n};\r\nconst mapDispatchToProps = {\r\n    setFilterBy,\r\n    resetFilterBy,\r\n    loadContacts\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { createRef, useEffect, useState } from 'react'\r\n// import { Link, NavLink, withRouter } from 'react-router-dom';\r\n\r\n// import logo from '../../src/assets/png/petek-logo.png';\r\n\r\n\r\n// export default ({ user, handleLogout, history }) => {\r\n//     const [isMenuOpen, setIsMenuOpen] = useState(false)\r\n//     const checkboxRef = createRef()\r\n\r\n//     const handleCheboxClicked = (bool) => {\r\n//         setIsMenuOpen(bool)\r\n//         if (checkboxRef.current) checkboxRef.current.checked = bool\r\n//     }\r\n\r\n\r\n//     return (\r\n//         <nav className=\"main-nav\">\r\n//             <div className=\"nav-container\">\r\n//                 <Link to={`/`} className=\"logo-container\" >\r\n//                     <img src={logo} alt=\"logo\" className=\"logo\" />\r\n//                 </Link>\r\n\r\n//                 {(!isMenuOpen && user && user.notifications.length) && <span className=\"notification-count-nav\">{user.notifications.length}</span>}\r\n//                 <input type=\"checkbox\" id=\"mobile-nav\" className={isMenuOpen ? 'menu-open' : ''} ref={checkboxRef} hidden onClick={() => handleCheboxClicked(!isMenuOpen)} />\r\n//                 {user && <label htmlFor=\"mobile-nav\" className=\"mobile-btn\">\r\n//                     <span>|</span>\r\n//                 </label>}\r\n\r\n//                 {user && <ul className=\"link-list\">\r\n//                     <li>\r\n//                         <NavLink to=\"/\" className=\"link\" exact onClick={() => handleCheboxClicked(false)}>\r\n//                             Home\r\n//                          </NavLink>\r\n//                     </li>\r\n//                     <li>\r\n//                         {user.notifications.length && <span className=\"notification-count\">{user.notifications.length}</span>}\r\n//                         <NavLink to={`/inbox/${user._id}`} className=\"link\" exact onClick={() => { handleCheboxClicked(false) }}>\r\n//                             Inbox\r\n//                          </NavLink>\r\n//                     </li>\r\n//                     <li>\r\n//                         <NavLink to={`/random-game`} className=\"link\" exact onClick={() => handleCheboxClicked(false)}>\r\n//                             Random Game\r\n//                          </NavLink>\r\n//                     </li>\r\n//                     <li>\r\n//                         <NavLink to=\"/starred\" className=\"link\" exact onClick={() => handleCheboxClicked(false)}>\r\n//                             Starred\r\n//                          </NavLink>\r\n//                     </li>\r\n//                     <li>\r\n//                         <NavLink to=\"/contact\" className=\"link\" exact onClick={() => handleCheboxClicked(false)}>\r\n//                             Contacts\r\n//                          </NavLink>\r\n//                     </li>\r\n//                     <li>\r\n//                         <NavLink to=\"/signup\" className=\"link\" exact onClick={handleLogout}>\r\n//                             Logout\r\n//                        </NavLink>\r\n//                     </li>\r\n//                 </ul>\r\n//                 }\r\n//             </div>\r\n//         </nav>\r\n//     )\r\n// }\r\n\r\n\r\n","import React, { useEffect } from 'react';\r\nimport './App.scss';\r\nimport { createBrowserHistory } from 'history';\r\nimport { Router } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Noty from 'noty';\r\n\r\n\r\nimport audioNotification from '../src/assets/sound/sp-tune.mp3'\r\n\r\nimport SocketService from './services/SocketService'\r\nimport { StorageService } from './services/StorageService'\r\nimport { updateUser, getUser, logout } from '../src/actions/UserActions';\r\nimport { saveRoom, loadRoomById } from '../src/actions/RoomActions';\r\n\r\nimport RoutePage from './RoutePage';\r\nimport Navbar from './cmps/Navbar';\r\n\r\n\r\nconst history = createBrowserHistory();\r\n\r\nconst App = (props) => {\r\n  const loggedinUser = props.user;//destruct them\r\n  const room = props.room\r\n\r\n  const connectSockets = (id) => {\r\n    if (room && loggedinUser) {\r\n      SocketService.on(`updateRoom ${room._id}`, async ({ updatedRoom, userId }) => {\r\n        if (userId !== loggedinUser._id) {\r\n          props.loadRoomById({ roomId: updatedRoom._id })\r\n        }\r\n      });\r\n    }\r\n    if (loggedinUser) {\r\n      SocketService.on(`updateUser ${loggedinUser._id}`, (updatedUser) => {\r\n        let user = StorageService.load('user')\r\n        if (loggedinUser._id === user._id) updateUser(updatedUser)\r\n      });\r\n      SocketService.on(`updateUserWithoutAudio ${loggedinUser._id}`, (updatedUser) => { props.updateUser(updatedUser) })\r\n    }\r\n  }\r\n\r\n  const disconnectSockets = () => {\r\n    console.log('disconnect sockets');\r\n    if (room) SocketService.off(`updateRoom ${room._id}`)\r\n    if (loggedinUser) {\r\n      SocketService.off(`updateUser ${loggedinUser._id}`)\r\n      SocketService.off(`updateUserWithoutAudio ${loggedinUser._id}`)\r\n    }\r\n  }\r\n\r\n  const updateUser = (updatedUser) => {\r\n    let audio = new Audio(audioNotification);\r\n    if (updatedUser) {\r\n      props.updateUser(updatedUser)\r\n      audio.play()\r\n    } else {\r\n      console.log(\"ERROR IN UPDATE USER\");\r\n    }\r\n  }\r\n\r\n  const showNotification = (text, type) => {\r\n    new Noty({\r\n      text,\r\n      type,\r\n      theme: 'bootstrap-v4',\r\n      layout: 'topRight',\r\n      animation: {\r\n        open: 'animated bounceInRight', // Animate.css class names\r\n        close: 'animated bounceOutRight' // Animate.css class names\r\n      },\r\n      timeout: 1500\r\n    }).show();\r\n  }\r\n\r\n  const handleLogout = async () => {\r\n    await props.logout()\r\n    showNotification('Logged out successfully :)', 'success')\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    console.log('Connect sockets room', room);\r\n    connectSockets()\r\n    if (loggedinUser) {\r\n      console.log('connect user sockets', loggedinUser._id);\r\n      console.log(loggedinUser);\r\n    }\r\n    if (room) console.log('connect room sockets', room._id);\r\n    return () => {\r\n      disconnectSockets()\r\n      if (room) SocketService.off(`updateRoom ${room._id}`)\r\n\r\n    }\r\n\r\n  }, [loggedinUser, room]);\r\n\r\n  useEffect(() => {\r\n    SocketService.setup()\r\n\r\n\r\n    return () => {\r\n      if (loggedinUser) console.log('disconnecet user sockets', loggedinUser._id);\r\n      if (room) console.log('disconnecet room sockets', room._id);\r\n      disconnectSockets()\r\n      SocketService.terminate()\r\n\r\n    };\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router history={history}>\r\n        <Navbar user={loggedinUser} handleLogout={handleLogout} history={history} />\r\n        <RoutePage onConnectSocket={connectSockets} showNotification={showNotification} />\r\n      </Router>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n    contacts: state.contact.contacts,\r\n    room: state.room.currRoom\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  updateUser,\r\n  saveRoom,\r\n  loadRoomById,\r\n  getUser,\r\n  logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  \r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const initialState = {\r\n    loggedinUser: null\r\n}\r\n\r\n\r\nexport default function UserReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            if (!action.user) return {...state, loggedinUser: action.user }\r\n            else return {...state, loggedinUser: {...action.user } }\r\n        case 'GET_USER':\r\n            return {...state, loggedinUser: action.user }\r\n        default:\r\n            return state;\r\n    }\r\n};","const initialState = {\r\n    contacts: [],\r\n    currContact: null,\r\n    filterBy: {term: ''},\r\n};\r\n\r\nexport default function ContactReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case \"SET_CONTACTS\":\r\n            return { ...state, contacts: action.contacts };\r\n        case \"SET_CURR_CONTACT\":\r\n            return { ...state, currContact: action.contact };\r\n        case \"UPDATE_CONTACT\":\r\n            return {\r\n                ...state,\r\n                contacts: state.contacts.map((contact) => {\r\n                    if (contact._id === action.contact._id) return action.contact;\r\n                    return contact;\r\n                }),\r\n            };\r\n        case \"DELETE_CONTACT\":\r\n            return {\r\n                ...state,\r\n                contacts: state.contacts.filter((contact) => {\r\n                    return contact._id !== action.id;\r\n                }),\r\n            };\r\n        case 'SET_CONTACT_FILTER_BY':\r\n            return { ...state, filterBy: action.filterBy }\r\n        case 'RESET_CONTACT_FILTER_BY':\r\n            return { ...state, filterBy: null }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","const initialState = {\r\n  rooms: [],\r\n  currRoom: null,\r\n  filterBy: {},\r\n};\r\n\r\nexport default function RoomReducer(state = initialState, action) {\r\n  let notesCopy;\r\n  let idx;\r\n  switch (action.type) {\r\n    case \"SET_ROOMS\":\r\n      return { ...state, rooms: action.rooms };\r\n    case \"SET_CURR_ROOM\":\r\n      return { ...state, currRoom: action.room };\r\n      case \"RESET_CURR_ROOM\":\r\n        return { ...state, currRoom: null };\r\n    case \"UPDATE_ROOM\":\r\n      return {\r\n        ...state,\r\n        rooms: state.rooms.map((room) => {\r\n          return room._id === action.room._id ? action.room : room;\r\n        }),\r\n      };\r\n    case \"DELETE_ROOM\":\r\n      return {\r\n        ...state,\r\n        rooms: state.rooms.filter((room) => {\r\n          return room._id !== action.id;\r\n        }),\r\n      };\r\n    case \"ADD_ROOM\":\r\n      return {\r\n        ...state,\r\n        rooms: [...state.rooms, action.room],\r\n      };\r\n    case \"SET_FILTER_BY\":\r\n      return { ...state, filterBy: action.filterBy };\r\n    case \"RESET_FILTER_BY\":\r\n      return { ...state, filterBy: null };\r\n    case \"UPDATE_NOTE\":\r\n      return {\r\n        ...state,\r\n        currRoom: {\r\n          ...state.currRoom,\r\n          notes: state.currRoom.notes.map((currNote) => {\r\n            return currNote._id === action.note._id ? action.note : currNote;\r\n          }),\r\n        },\r\n      };\r\n    case \"ADD_NOTE\":\r\n      notesCopy = JSON.parse(JSON.stringify(state.currRoom.notes));\r\n      idx = notesCopy.findIndex((currNote) => !currNote.isPinned);\r\n      idx === -1\r\n        ? notesCopy.push(action.note)\r\n        : notesCopy.splice(idx, 0, action.note);\r\n      return {\r\n        ...state,\r\n        currRoom: {\r\n          ...state.currRoom,\r\n          notes: notesCopy,\r\n        },\r\n      };\r\n    case \"REMOVE_NOTE\":\r\n      return {\r\n        ...state,\r\n        currRoom: {\r\n          ...state.currRoom,\r\n          notes: state.currRoom.notes.filter(\r\n            (currNote) => currNote._id !== action.noteId,\r\n          ),\r\n        },\r\n      };\r\n    case \"SET_PIN_NOTE\":\r\n      notesCopy = JSON.parse(JSON.stringify(state.currRoom.notes));\r\n      idx = notesCopy.findIndex((currNote) => currNote._id === action.note._id);\r\n      notesCopy.splice(idx, 1);\r\n      notesCopy.unshift(action.note);\r\n      return {\r\n        ...state,\r\n        currRoom: {\r\n          ...state.currRoom,\r\n          notes: notesCopy,\r\n        },\r\n      };\r\n    case \"SET_UNPIN_NOTE\":\r\n      notesCopy = JSON.parse(JSON.stringify(state.currRoom.notes));\r\n      const toDeleteIdx = notesCopy.findIndex(\r\n        (currNote) => currNote._id === action.note._id,\r\n      );\r\n      notesCopy.splice(toDeleteIdx, 1); //remove old note\r\n      const toUpdateIdx = notesCopy.findIndex(\r\n        (currNote) =>\r\n          !currNote.isPinned && currNote.createdAt <= action.note.createdAt,\r\n      ); //find correct IDX\r\n      toUpdateIdx === -1\r\n        ? notesCopy.push(action.note)\r\n        : notesCopy.splice(toUpdateIdx, 0, action.note); //INSERT NOTE\r\n      return {\r\n        ...state,\r\n        currRoom: {\r\n          ...state.currRoom,\r\n          notes: notesCopy,\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport UserReducer from './reducers/UserReducer';\r\nimport ContactReducer from './reducers/ContactReducer';\r\nimport RoomReducer from './reducers/RoomReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    user: UserReducer,\r\n    contact: ContactReducer,\r\n    room: RoomReducer,\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\n\r\n\r\nexport default store\r\n\r\n\r\n//*********STOREEEEE****************\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.scss';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\nimport 'bootstrap-css-only/css/bootstrap.min.css';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport App from './App.jsx'\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","module.exports = __webpack_public_path__ + \"static/media/plus.867418af.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.c79dce59.png\";","module.exports = __webpack_public_path__ + \"static/media/pin.5f588246.svg\";","module.exports = __webpack_public_path__ + \"static/media/x-mark.002e9675.svg\";"],"sourceRoot":""}