{"version":3,"sources":["assets/sound/sp-tune.mp3","assets/svg/cross.svg","assets/svg/arrow.svg","assets/svg/loading.svg","assets/svg/upload.svg","assets/svg/save.svg","assets/svg/friends.svg","assets/svg/ok.svg","assets/png/petek-logo.png","services/SocketService.js","services/StorageService.js","services/HttpService.js","services/UtilService.js","services/CloudinaryService.js","services/RoomService.js","actions/RoomActions.js","cmps/ButtonMenu.jsx","cmps/Note/NoteText.jsx","cmps/Note/NoteImg.jsx","cmps/Note/NoteVideo.jsx","cmps/Note/NoteTodo.jsx","cmps/Note/NoteLoc.jsx","cmps/icons/StarIcon.jsx","cmps/icons/CircleIcon.jsx","cmps/icons/ColorPaletteIcon.jsx","cmps/Features.jsx","cmps/icons/RemoveIcon.jsx","cmps/icons/EditIcon.jsx","cmps/icons/SaveIcon.jsx","cmps/NotePreview.jsx","cmps/Loading.jsx","cmps/NoteList.jsx","cmps/Filter.jsx","cmps/Note/InputText.jsx","cmps/Note/InputImg.jsx","services/YoutubeApiService.js","cmps/Note/InputVideo.jsx","cmps/Note/InputTodo.jsx","cmps/Note/InputLoc.jsx","pages/BoardPage.jsx","services/UserService.js","actions/UserActions.js","services/ContactService.js","actions/ContactActions.js","cmps/User/AvatarEdit.jsx","cmps/ContactPreview.jsx","cmps/ContactList.jsx","pages/HomePage.jsx","cmps/Notification/NotificationFriend.jsx","cmps/Notification/NotificationResponse.jsx","cmps/Notification/NotificationNote.jsx","cmps/Notification/NotificationPreview.jsx","cmps/Notification/NotificationList.jsx","pages/InboxPage.jsx","pages/ContactPage.jsx","pages/SignUp.jsx","RoutePage.jsx","cmps/BurgerMenu.jsx","cmps/NavBar.jsx","App.jsx","serviceWorker.js","store/reducers/UserReducer.js","store/reducers/ContactReducer.js","store/reducers/RoomReducer.js","store/index.js","index.js","assets/svg/plus.svg","assets/png/user.png","assets/svg/x-mark.svg"],"names":["module","exports","socket","setup","io","terminate","on","eventName","cb","off","emit","data","StorageService","save","key","value","console","log","item","JSON","stringify","localStorage","setItem","load","getItem","parse","axios","Axios","create","withCredentials","HttpService","endpoint","ajax","a","method","url","res","response","status","UtilService","makeId","length","txt","possible","i","charAt","Math","floor","random","getRandomChuck","get","uploadImg","ev","UPLOAD_URL","formData","FormData","target","append","files","fetch","body","secure","then","json","catch","err","error","room","prm","_id","RoomService","query","critirea","params","URLSearchParams","getById","filterBy","queryParams","property","set","remove","id","loadRoomById","dispatch","type","saveRoom","notes","isEdit","setNoteType","setNoteInputType","setNoteData","useState","isOpen","setIsOpen","slideSpeed","direction","spacing","className","iconResting","style","fontSize","nativecolor","iconActive","backgroundColor","onClick","size","icon","fill","note","header","src","alt","width","allow","title","mapDispatchToProps","connect","state","currRoom","userId","currTodoIdx","setCurrTodoIdx","setIsNewTodo","isNewTodo","editedTodo","setEditedTodo","newTodo","setNewTodo","progress","setProgress","editInputRef","createRef","newTodoInputRef","toggleIsDone","idx","isDone","SocketService","useEffect","doneTodosCount","reduce","acc","todo","prog","parseInt","culcProgress","current","focus","text","PlusIcon","map","checked","readOnly","ref","onChange","e","xmark","splice","removeTodo","completed","labelSize","placeholder","ArrowIcon","todoToAdd","push","addTodo","isPinned","viewBox","xmlns","d","version","xmlnsXlink","x","y","xmlSpace","props","enable-background","clip-rule","fill-rule","togglePinned","user","setNoteColor","isPalleteOpen","setIsPalleteOpen","changeColor","color","StarIcon","pinnedNotes","find","CircleIcon","removeNote","saveRoomChanges","setIsEdit","NoteType","NoteText","NoteImg","NoteVideo","NoteTodo","NoteLoc","noteRef","paintNote","bgColor","createdBy","imgUrl","EditIcon","SaveIcon","RemoveIcon","format","createdAt","Features","Loading","loading","notesForDisplay","setNotesForDisplay","fixedNotes","unshift","NotePreview","Filter","term","onChangeHandler","name","setState","onFilter","onKeyHandler","keyCode","preventDefault","moveToContact","placeHolder","this","minLength","debounceTimeout","onKeyDown","Component","setNoteHeader","handleSubmit","onSubmit","hidden","onUploadImg","inputRef","click","API_KEY","YoutubeApiService","youtubeQuery","items","addVideo","videos","setVideos","searchYoutubeVideos","queryStr","youtubeVideos","video","videoId","snippet","thumbnails","default","noteData","currTodo","setCurrTodo","textInput","React","useRef","xMark","todoIdx","filter","saveIcon","resetCurrRoom","updateUser","loggedinUser","noteType","noteHeader","noteInputType","isUploading","setIsUploading","setfilterBy","newNote","InputType","InputText","InputImg","InputVideo","InputTodo","InputLoc","loadRoom","roomId","match","CloudinaryService","secure_url","onHandleSubmit","Date","now","minimalUser","UserService","getMinimalUser","friend","friends","currFriend","friendId","noteId","findIndex","isMarkerShown","ButtonMenu","NoteList","currNote","KEY","credentials","userName","fullName","password","notifications","avatarImg","removeItem","msg","updatedUser","signUp","update","login","logout","updateImgAtContacts","getLoggedinUser","getUser","contacts","ContactService","getContactById","Promise","resolve","reject","contact","deleteContact","index","saveContact","c","_updateContact","_addContact","getEmptyContact","loadContacts","AvatarEdit","isLoading","onAddFriend","moveToRoom","isFriendSent","setIsFriendSent","isFriend","setIsFriend","setRoomId","toggleIsFriend","friendReqSent","addFriendImg","handelClick","onMoveToRoom","ContactPreview","HomePage","userImgUrl","Object","assign","notification","onFilterHandler","prevState","stopPropagation","history","capitalize","toUpperCase","slice","ContactList","onApprove","onDecline","isApproved","onDeleteNotification","to","NotificationType","NotificationFriend","NotificationResponse","NotificationNote","fromNow","NotificationPreview","currNotification","NotificationList","ContactPage","handleKeyPress","SignUp","newUser","isSignUp","resetInput","toggleSignUp","Swal","fire","confirmButtonText","confirmButtonColor","padding","background","backdrop","connectSockets","onConnectSocket","label","RoutePage","isInSignupPage","prevProps","location","path","exact","render","routerProps","component","BoardPage","InboxPage","pathname","withRouter","BurgerMenu","menuOpen","chuckJoke","closeMenu","handleLogout","isClicked","right","onStateChange","handleStateChange","activeClassName","toggleClick","logo","createBrowserHistory","updatedRoom","audio","Audio","audioNotification","play","NavBar","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","initialState","currContact","rooms","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","headers","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.f4d47e18.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sp-tune.a3eeb710.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cross.21df9a01.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow.15b12873.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.ecf90307.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.926d5c39.svg\";","module.exports = __webpack_public_path__ + \"static/media/save.d5a09bc5.svg\";","module.exports = __webpack_public_path__ + \"static/media/friends.e8f88cde.svg\";","module.exports = __webpack_public_path__ + \"static/media/ok.251fc800.svg\";","module.exports = __webpack_public_path__ + \"static/media/petek-logo.e7a6391d.png\";","import io from 'socket.io-client';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ?\r\n    '/' :\r\n    '//localhost:3030'\r\nvar socket;\r\n\r\nexport default {\r\n    setup,\r\n    terminate,\r\n    on,\r\n    off,\r\n    emit,\r\n}\r\n\r\nfunction setup() {\r\n    socket = io(BASE_URL);\r\n}\r\n\r\nfunction terminate() {\r\n    socket = null;\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n    socket.on(eventName, cb)\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n    socket.off(eventName, cb)\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    \r\n    socket.emit(eventName, data)\r\n}\r\n\r\n","function save(key, value) {\r\n    console.log('$$$SAVE INVOKED$$$$', value);\r\n    let item = JSON.stringify(value);\r\n    localStorage.setItem(key, item);\r\n}\r\nfunction load(key) {\r\n    console.log('$$$LOAD INVOKED$$$$');\r\n    let item = localStorage.getItem(key)\r\n    let value = JSON.parse(item);\r\n    return value;\r\n}\r\n\r\n\r\nexport const StorageService = {\r\n    save,\r\n    load\r\n}","// import router from '@/router'\r\n// import store from '@/store'\r\n\r\nimport Axios from 'axios';\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nconst BASE_URL = process.env.NODE_ENV !== 'development'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nexport const HttpService =  {\r\n    get(endpoint, data){\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data){\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data){\r\n        console.log('http service data:', data);\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data){\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\n\r\nasync function ajax(endpoint, method='get', data=null) {\r\n    try {\r\n        console.log('httpservice data:', data);\r\n        const res = await axios({\r\n            method,\r\n            url: `${BASE_URL}${endpoint}`,\r\n            data\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        if (err.response.status === 401) {\r\n            return false\r\n            // throw new Error('error:  http.service page')\r\n            // router.push('/');\r\n        }\r\n    }\r\n}\r\n\r\n","import axios from 'axios';\r\n\r\n\r\n\r\nexport const UtilService = {\r\n    makeId,\r\n    getRandomChuck\r\n    // getRandomMeme\r\n}\r\n\r\nfunction makeId(length = 12) {\r\n    var txt = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return txt\r\n}\r\n\r\nasync function getRandomChuck(){\r\n    const res = await axios.get(`https://api.chucknorris.io/jokes/random`);\r\n    return res.data.value\r\n}\r\n// async function getRandomMeme(){\r\n//     const res = await axios.get(`https://meme-api.herokuapp.com/gimme/dankmemes/1`);\r\n//      let imgObj = {imgUrl:res.data.memes[0].url, imgHeader:res.data.memes[0].title }\r\n//      return imgObj\r\n// }","function uploadImg(ev) {\r\n    const CLOUD_NAME = \"tamir\"\r\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n    const formData = new FormData();\r\n        if (ev.target) {\r\n            formData.append('file', ev.target.files[0])\r\n        } else {\r\n            formData.append('file', ev)\r\n        }\r\n    formData.append('upload_preset', 'u1inrfbp'); // second parameter is the upload preset\r\n\r\n    return fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData,\r\n            secure:true\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            return res\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport default {\r\n    uploadImg\r\n}","\r\nimport { HttpService } from './HttpService';\r\n\r\nfunction query(critirea) {\r\n    const params = new URLSearchParams(critirea);\r\n    return HttpService.get(`room?${params}`);\r\n}\r\n\r\n\r\nfunction getById(filterBy) {\r\n    const queryParams = new URLSearchParams();\r\n    if (filterBy) {\r\n        for (const property in filterBy) {\r\n            if (filterBy[property]){\r\n                queryParams.set(property, filterBy[property])\r\n            }\r\n        } \r\n        return HttpService.get(`room?${queryParams}`);\r\n    }\r\n}\r\n\r\n\r\n\r\n// function getById(filterBy) {\r\n//     console.log(id);\r\n//     return HttpService.get(`room/${id}`);\r\n// }\r\n\r\n\r\n\r\n\r\nfunction remove(id) {\r\n    return HttpService.delete(`room/${id}`);\r\n}\r\n\r\nasync function save(room) {\r\n    let prm;\r\n\r\n    if (room._id) prm = HttpService.put(`room/${room._id}`, room);\r\n    else {\r\n        prm = HttpService.post('room', room);\r\n    }\r\n    const res = await prm;\r\n    return res;\r\n}\r\n\r\n\r\nexport const RoomService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n}\r\n\r\n\r\n\r\n","import { RoomService } from '../services/RoomService'\r\n\r\n// LIST\r\nexport function loadRooms(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            const rooms = await RoomService.query(filterBy);\r\n            dispatch({ type: 'SET_ROOMS', rooms })\r\n        } catch (err) {\r\n            console.log('ERROR', err)\r\n        }\r\n    }\r\n}\r\n\r\n// READ\r\nexport function loadRoomById(filterBy) {\r\n    console.log('filterBy in actions',filterBy);\r\n    \r\n    return async dispatch => {\r\n        try {\r\n            const room = await RoomService.getById(filterBy);\r\n            dispatch({ type: 'SET_CURR_ROOM', room })\r\n        } catch (err) {\r\n            console.log('ERROR', err)\r\n        }\r\n    }\r\n}\r\n\r\n//RESET\r\nexport function resetCurrRoom() {\r\n    console.log('made it');\r\n\r\n    return async dispatch => {\r\n        try {\r\n            const room = null\r\n            dispatch({ type: 'SET_CURR_ROOM', room })\r\n        } catch (err) {\r\n            console.log('ERROR:', err)\r\n        }\r\n    }\r\n}\r\n\r\n// UPDATE + CREATE\r\nexport function saveRoom(room) {\r\nconsole.log(room.notes);\r\n\r\n    return async dispatch => {\r\n        const isEdit = !!room._id;\r\n        room = await RoomService.save(room);\r\n        if (isEdit) dispatch({ type: 'SET_CURR_ROOM', room })\r\n        // dispatch({ type: 'UPDATE_ROOM', room }) \r\n        else dispatch({ type: 'ADD_ROOM', room })\r\n        return room;\r\n    }\r\n}\r\n\r\n// REMOVE\r\n\r\nexport function deleteRoom(id) {\r\n    return async dispatch => {\r\n        await RoomService.remove(id);\r\n        dispatch({ type: 'DELETE_ROOM', id })\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport {\r\n    FloatingMenu,\r\n    MainButton,\r\n    ChildButton,\r\n} from 'react-floating-button-menu';\r\nimport MdAdd from '@material-ui/icons/Add';\r\nimport MdClose from '@material-ui/icons/Clear';\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport ListIcon from '@material-ui/icons/List';\r\nimport LocIcon from '@material-ui/icons/Room';\r\n\r\n// import SvgIcon from '@material-ui/core/SvgIcon';    //PROBABLY NOT NEEDED\r\n// import styled from 'styled-components' //PROBABLY NOT NEEDED\r\n\r\nexport default ({ setNoteType, setNoteInputType, setNoteData }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    return (\r\n        <FloatingMenu\r\n            slideSpeed={500}\r\n            direction=\"up\"\r\n            spacing={8}\r\n            isOpen={isOpen}\r\n            className=\"button-menu\"\r\n        >\r\n            <MainButton\r\n                iconResting={<MdAdd style={{ fontSize: 20 }} nativecolor=\"white\" />}\r\n                iconActive={<MdClose style={{ fontSize: 20 }} nativecolor=\"white\" />}\r\n                backgroundColor=\"black\"\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                size={56}\r\n            />\r\n            <ChildButton\r\n                icon={<TextFieldsIcon style={{ fontSize: 20, fill: '#51a255' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteText'); setIsOpen(!isOpen); setNoteInputType('InputText') }}\r\n            />\r\n            <ChildButton\r\n                icon={<ImageIcon style={{ fontSize: 20, fill: '#28b5f2' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteImg'); setIsOpen(!isOpen); setNoteInputType('InputImg') }}\r\n            />\r\n            <ChildButton\r\n                icon={<VideocamIcon style={{ fontSize: 20, fill: '#ff0000' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteVideo'); setIsOpen(!isOpen); setNoteInputType('InputVideo') }}\r\n            />\r\n            <ChildButton\r\n                icon={<ListIcon style={{ fontSize: 20, fill: '#ffa350' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteTodo'); setIsOpen(!isOpen); setNoteInputType('InputTodo'); setNoteData([]) }}\r\n            />\r\n              <ChildButton\r\n                icon={<LocIcon style={{ fontSize: 20, fill: '#800080' }} nativecolor=\"black\" />}\r\n                backgroundColor=\"white\"\r\n                size={40}\r\n                className={!isOpen && 'hidden'}\r\n                onClick={() => { setNoteType('NoteLoc'); setIsOpen(!isOpen); setNoteInputType('InputLoc'); setNoteData([]) }}\r\n            />\r\n        </FloatingMenu>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default ({ note }) => {\r\n    return (\r\n        <div className=\"note-text\">\r\n            {note.header && <h4>{note.header}</h4>}\r\n            <p>{note.data}</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default ({ note }) => {\r\n    return (\r\n        <div className=\"note-img\">\r\n            {note.header && <h4>{note.header}</h4>}\r\n            <img src={note.data} alt={note.data} />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default ({ note }) => {\r\n    const formattedVidLink = () => {\r\n        return 'https://www.youtube.com/embed/' + note.data\r\n    }\r\n    return (\r\n        <div className=\"note-video\">\r\n            {note.header && <h4>{note.header}</h4>}\r\n            <iframe width=\"100%\" allow=\"fullscreen\" src={formattedVidLink()} title=\"Video Player\"></iframe>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState, createRef } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport ProgressBar from '@ramonak/react-progress-bar';\r\n\r\nimport SocketService from '../../services/SocketService'\r\n\r\nimport PlusIcon from '../../assets/svg/plus.svg'\r\nimport xmark from '../../assets/svg/cross.svg'\r\nimport ArrowIcon from '../../assets/svg/arrow.svg'\r\n\r\nimport { saveRoom } from '../../actions/RoomActions';\r\n//TODO: IMPROVE EDIT INPUT AND MINUS UI +++ reflect trough socket\r\n\r\nconst NoteTodo = ({ note, saveRoom, room, userId, isEdit, currTodoIdx, setCurrTodoIdx, setIsNewTodo, isNewTodo }) => {\r\n    const [editedTodo, setEditedTodo] = useState('');\r\n    const [newTodo, setNewTodo] = useState('');\r\n    const [progress, setProgress] = useState(0)\r\n    const editInputRef = createRef();\r\n    const newTodoInputRef = createRef()\r\n\r\n    const toggleIsDone = async (idx) => {\r\n        if (isEdit) return\r\n        note.data[idx].isDone = !note.data[idx].isDone\r\n        await saveRoom(room)\r\n        SocketService.emit(\"roomUpdated\", { room, userId });\r\n    }\r\n\r\n\r\n    const addTodo = () => {\r\n\r\n        let todoToAdd = { text: newTodo, isDone: false }\r\n\r\n        note.data.push(todoToAdd);\r\n        setIsNewTodo(false)\r\n        setNewTodo('')\r\n        newTodoInputRef.current.value = ''\r\n    };\r\n\r\n    const removeTodo = (idx) => {\r\n        note.data.splice(idx, 1)\r\n    }\r\n\r\n    const culcProgress = () => {\r\n        let doneTodosCount = note.data.reduce((acc, todo) => {\r\n            if (todo.isDone) acc++\r\n            return acc;\r\n        }, 0);\r\n        let prog = parseInt(doneTodosCount / note.data.length * 100)\r\n        setProgress(prog)\r\n    }\r\n\r\n    useEffect(() => {\r\n        culcProgress()\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        if (editInputRef.current) editInputRef.current.focus()\r\n        if (currTodoIdx !== '' && editInputRef.current) note.data[currTodoIdx].text = editedTodo\r\n    }, [editedTodo, currTodoIdx])\r\n\r\n    return (\r\n        <div className=\"note-todo\">\r\n            <div className=\"todo-header\">\r\n                {note.header && <h4>{note.header}</h4>}\r\n                {isEdit && <img src={PlusIcon} className=\"new-todo-btn\" onClick={() => { setIsNewTodo(true) }} />}\r\n            </div>\r\n            <ul>\r\n                {!!note.data.length && note.data.map((todo, idx) => {\r\n                    return (\r\n                        <li key={todo.text} onClick={() => {\r\n                            if (isEdit) {\r\n                                setCurrTodoIdx(idx);\r\n                                setEditedTodo(todo.text)\r\n                            }\r\n                        }}>\r\n                            <div>\r\n                            <input type=\"checkbox\" onClick={(ev) => toggleIsDone(idx)} checked={todo.isDone} readOnly />\r\n                            {(currTodoIdx !== idx) && <span className={todo.isDone ? 'done' : ''} >{todo.text}</span>}\r\n                            </div>\r\n                            {(isEdit && currTodoIdx === idx) && <input type=\"text\" value={editedTodo} ref={editInputRef} onChange={(e) => { setEditedTodo(e.target.value); }} />\r\n                            }\r\n                            {isEdit && <img src={xmark} className=\"remove-todo-btn\" onClick={() => removeTodo(idx)} />}\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n            <div className=\"progress-bar\">\r\n            <ProgressBar completed={progress} labelSize={!progress ? 0 : 12 }/>\r\n            </div>\r\n            {isNewTodo && <div>\r\n                <input type=\"text\" placeholder=\"New Todo\" ref={newTodoInputRef} onChange={e => setNewTodo(e.target.value)} />\r\n                <img src={ArrowIcon} className=\"add-todo-btn\" onClick={() => addTodo()} />\r\n            </div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n//checkbox read only prop makes error go away, we will let it stay for a while\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        room: state.room.currRoom,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    saveRoom,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteTodo);","import React from 'react'\r\n\r\nexport default ({ note }) => {\r\n    return (\r\n        <div className=\"note-loc\">\r\n            {note.header && <h4>{note.header}</h4>}\r\n            <p>IM NOTE LOC YOU FUCKER</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default ({ isPinned }) => {\r\n\r\n    return <svg className={isPinned ? 'star-icon pinned' : 'star-icon'} viewBox=\"0 -10 511.98685 511\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m510.652344 185.902344c-3.351563-10.367188-12.546875-17.730469-23.425782-18.710938l-147.773437-13.417968-58.433594-136.769532c-4.308593-10.023437-14.121093-16.511718-25.023437-16.511718s-20.714844 6.488281-25.023438 16.535156l-58.433594 136.746094-147.796874 13.417968c-10.859376 1.003906-20.03125 8.34375-23.402344 18.710938-3.371094 10.367187-.257813 21.738281 7.957031 28.90625l111.699219 97.960937-32.9375 145.089844c-2.410156 10.667969 1.730468 21.695313 10.582031 28.09375 4.757813 3.4375 10.324219 5.1875 15.9375 5.1875 4.839844 0 9.640625-1.304687 13.949219-3.882813l127.46875-76.183593 127.421875 76.183593c9.324219 5.609376 21.078125 5.097657 29.910156-1.304687 8.855469-6.417969 12.992187-17.449219 10.582031-28.09375l-32.9375-145.089844 111.699219-97.941406c8.214844-7.1875 11.351563-18.539063 7.980469-28.925781zm0 0\"  /></svg>\r\n\r\n\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default ({ fill }) => {\r\n\r\n    return <svg className=\"circle-icon\" style={{ fill }} version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n        viewBox=\"0 0 512 512\" xmlSpace=\"preserve\">\r\n        <g>\r\n            <g>\r\n                <path d=\"M256,0C115.39,0,0,115.39,0,256s115.39,256,256,256s256-115.39,256-256S396.61,0,256,0z\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n    </svg>\r\n\r\n\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return <svg className=\"color-pallete-icon\" enable-background=\"new 0 0 512.037 512.037\" viewBox=\"0 0 512.037 512.037\" xmlns=\"http://www.w3.org/2000/svg\"><g>\r\n        <g clip-rule=\"evenodd\" fill-rule=\"evenodd\">\r\n            <path d=\"m237.033 233.985 41.012 41.013 64.978-69.184 153.518-163.455c7.154-7.617 7.389-19.481 0-26.87s-19.253-7.154-26.87 0l-163.455 153.519z\" fill=\"#6d91ac\" />\r\n            <path d=\"m278.045 274.998-41.012-41.013c-68.762 18.425-23.075 64.087-57.278 98.291 28.514 16.463 98.291-4.426 98.29-57.278z\" fill=\"#f4e9e2\" />\r\n            <path d=\"m179.754 332.276c34.203-34.203-11.484-79.866 57.278-98.291l69.183-64.977c-7.007-13.059-10.558-27.482-10.655-41.924-.175-26.127 24.949-56.528-41.774-63.75-63.943-6.921-130.337 14.12-179.356 63.14-85.915 85.916-85.915 225.211 0 311.127 85.916 85.916 225.211 85.916 311.127 0 49.019-49.019 70.061-115.413 63.14-179.356-7.222-66.723-37.623-41.6-63.75-41.774-14.442-.097-28.866-3.648-41.925-10.655l-64.978 69.184c.002 52.85-69.775 73.739-98.29 57.276zm5.074-164.71c-15.307 6.34-32.857-.929-39.197-16.236s.929-32.856 16.236-39.197 32.857.929 39.198 16.236c6.339 15.307-.93 32.856-16.237 39.197zm-66.154 66.13c-6.34 15.307-23.89 22.576-39.197 16.236-15.307-6.341-22.576-23.89-16.236-39.197s23.89-22.577 39.197-16.236 22.576 23.89 16.236 39.197zm-.017 93.538c6.34 15.307-.929 32.857-16.236 39.197s-32.856-.929-39.197-16.236c-6.34-15.307.929-32.857 16.236-39.197s32.857.929 39.197 16.236zm159.669 66.171c15.307-6.34 32.857.929 39.198 16.236 6.34 15.307-.929 32.856-16.236 39.197s-32.857-.929-39.197-16.236c-6.341-15.307.928-32.857 16.235-39.197zm-93.539-.016c15.307 6.34 22.576 23.89 16.236 39.197-6.341 15.307-23.89 22.576-39.197 16.236-15.308-6.341-22.577-23.89-16.236-39.197 6.341-15.308 23.89-22.577 39.197-16.236zm159.693-66.114c6.34-15.307 23.89-22.577 39.197-16.236 15.307 6.34 22.576 23.889 16.236 39.197-6.341 15.307-23.89 22.577-39.197 16.236-15.308-6.341-22.577-23.89-16.236-39.197z\" fill=\"#ddb9a3\" />\r\n            <path d=\"m145.63 151.33c6.341 15.307 23.89 22.576 39.197 16.236 15.307-6.341 22.576-23.89 16.236-39.197s-23.89-22.577-39.198-16.236c-15.306 6.34-22.575 23.89-16.235 39.197z\" fill=\"#000\" />\r\n            <path d=\"m118.674 233.696c6.34-15.307-.929-32.856-16.236-39.197s-32.857.929-39.197 16.236c-6.341 15.307.929 32.856 16.236 39.197 15.307 6.34 32.856-.929 39.197-16.236z\" fill=\"#ffa350\" />\r\n            <path d=\"m118.657 327.234c-6.341-15.307-23.89-22.577-39.197-16.236s-22.577 23.89-16.236 39.197 23.89 22.576 39.197 16.236 22.576-23.889 16.236-39.197z\" fill=\"#f78888\" />\r\n            <path d=\"m184.787 393.389c-15.307-6.341-32.856.929-39.197 16.236s.929 32.857 16.236 39.197 32.856-.929 39.197-16.236c6.341-15.308-.929-32.857-16.236-39.197z\" fill=\"#fff59d\" />\r\n            <path d=\"m278.326 393.405c-15.307 6.34-22.576 23.89-16.236 39.197 6.341 15.307 23.89 22.577 39.197 16.236s22.576-23.89 16.236-39.197-23.89-22.576-39.197-16.236z\" fill=\"#90ccf4\" />\r\n            <path d=\"m344.48 327.275c-6.341 15.307.929 32.856 16.236 39.197s32.857-.929 39.197-16.236-.929-32.856-16.236-39.197-32.857.929-39.197 16.236z\" fill=\"#4caf50\" /></g>\r\n        <g>\r\n            <path d=\"m75.633 301.76c-20.377 8.44-30.088 31.886-21.648 52.263 6.375 15.388 21.303 24.693 37.008 24.693 5.091 0 10.267-.979 15.255-3.045 20.377-8.44 30.088-31.885 21.648-52.262-8.441-20.378-31.884-30.09-52.263-21.649zm22.961 55.433c-10.188 4.219-21.911-.635-26.132-10.824-4.22-10.189.636-21.912 10.824-26.132 2.495-1.033 5.081-1.522 7.627-1.522 7.852 0 15.317 4.653 18.504 12.347 4.221 10.188-.634 21.911-10.823 26.131z\" />\r\n            <path d=\"m54.002 237.522c4.089 9.872 11.777 17.56 21.648 21.648 4.99 2.067 10.163 3.045 15.255 3.045 15.704 0 30.634-9.306 37.007-24.693 8.44-20.377-1.271-43.822-21.647-52.262-9.872-4.089-20.744-4.089-30.615 0s-17.559 11.777-21.647 21.648c-4.09 9.871-4.09 20.743-.001 30.614zm18.478-22.96c2.044-4.936 5.888-8.78 10.824-10.824 2.468-1.022 5.061-1.533 7.653-1.533s5.187.511 7.654 1.533c10.188 4.22 15.044 15.942 10.824 26.131-4.221 10.188-15.944 15.045-26.131 10.824-4.936-2.044-8.78-5.888-10.824-10.824-2.045-4.935-2.045-10.371 0-15.307z\" />\r\n            <path d=\"m158.04 176.805c4.936 2.044 10.121 3.066 15.308 3.066 5.185 0 10.372-1.022 15.307-3.066 9.871-4.089 17.559-11.777 21.648-21.648 4.088-9.871 4.088-20.744 0-30.615s-11.776-17.559-21.647-21.648-20.744-4.089-30.615 0c-9.872 4.088-17.56 11.776-21.648 21.648-4.088 9.871-4.088 20.744 0 30.614 4.087 9.871 11.775 17.56 21.647 21.649zm-3.171-44.61c2.044-4.936 5.888-8.779 10.824-10.824 2.468-1.022 5.06-1.533 7.653-1.533s5.186.511 7.654 1.533c4.936 2.044 8.779 5.888 10.824 10.824 2.044 4.936 2.044 10.372 0 15.307-2.044 4.936-5.888 8.78-10.824 10.824-4.936 2.044-10.372 2.044-15.308 0s-8.779-5.889-10.824-10.825c-2.043-4.934-2.043-10.37.001-15.306z\" />\r\n            <path d=\"m157.999 458.06c4.99 2.067 10.163 3.045 15.255 3.045 15.704 0 30.634-9.306 37.007-24.693 4.089-9.871 4.089-20.744 0-30.615s-11.777-17.56-21.648-21.648c-9.872-4.089-20.744-4.089-30.615 0s-17.559 11.777-21.648 21.648c-8.439 20.378 1.272 43.823 21.649 52.263zm-3.17-44.608c2.044-4.936 5.889-8.78 10.824-10.824 2.468-1.022 5.061-1.533 7.653-1.533s5.186.511 7.654 1.533c4.935 2.044 8.779 5.888 10.823 10.824s2.044 10.372 0 15.308c-4.22 10.188-15.941 15.043-26.131 10.824-10.188-4.222-15.043-15.944-10.823-26.132z\" />\r\n            <path d=\"m274.499 458.077c4.936 2.044 10.121 3.066 15.307 3.066s10.372-1.022 15.307-3.067c9.872-4.088 17.56-11.776 21.648-21.648 4.088-9.871 4.088-20.744 0-30.614-4.088-9.871-11.776-17.56-21.648-21.648-9.871-4.089-20.743-4.089-30.614 0-20.377 8.44-30.088 31.885-21.648 52.263 4.089 9.871 11.777 17.559 21.648 21.648zm7.654-55.433c2.468-1.022 5.061-1.533 7.654-1.533s5.186.511 7.654 1.533c4.936 2.044 8.779 5.888 10.824 10.824 2.044 4.936 2.044 10.372 0 15.307-2.044 4.936-5.888 8.779-10.824 10.824s-10.372 2.044-15.307 0c-4.936-2.044-8.78-5.888-10.824-10.824-4.221-10.189.634-21.911 10.823-26.131z\" />\r\n            <path d=\"m372.144 378.756c15.704 0 30.633-9.305 37.007-24.693 4.089-9.871 4.089-20.744 0-30.615-4.089-9.872-11.777-17.56-21.648-21.648-20.377-8.441-43.821 1.271-52.262 21.647-8.44 20.377 1.271 43.822 21.647 52.262 4.99 2.068 10.164 3.047 15.256 3.047zm-18.426-47.654c4.22-10.188 15.943-15.043 26.131-10.824 10.188 4.22 15.044 15.943 10.824 26.131s-15.94 15.044-26.132 10.824c-10.187-4.22-15.042-15.942-10.823-26.131z\" />\r\n            <path d=\"m503.612 8.418c-11.14-11.14-29.056-11.235-40.788-.218l-153.092 143.787c-2.685-8.018-4.114-16.474-4.171-24.97-.032-4.704 1.005-9.935 2.103-15.473 2.426-12.244 5.176-26.121-3.679-38.173-7.985-10.868-23.594-17.216-49.122-19.979-53.057-5.746-106.697 7.146-151.041 36.294-4.615 3.034-5.897 9.234-2.864 13.849s9.235 5.897 13.849 2.864c40.475-26.605 89.448-38.369 137.903-33.124 23.692 2.565 32.195 7.907 35.156 11.938 3.398 4.625 2.334 11.564.178 22.443-1.243 6.273-2.529 12.76-2.484 19.494.091 13.626 3.004 27.178 8.454 39.597l-62.038 58.267c-45.251 13.055-46.243 39.977-47.04 61.685-.537 14.623-1 27.252-12.254 38.506-2.198 2.199-3.249 5.294-2.843 8.376.406 3.083 2.222 5.801 4.915 7.355 7.952 4.591 18.161 6.829 29.188 6.829 15.456 0 32.515-4.398 47.203-12.878 22.479-12.979 35.411-32.679 36.773-55.795l57.365-61.078c12.421 5.451 25.968 8.364 39.597 8.455 6.758.047 13.221-1.241 19.494-2.483 10.881-2.155 17.82-3.219 22.444.178 4.03 2.961 9.373 11.464 11.938 35.156 6.886 63.618-15.082 126.021-60.27 171.208-81.879 81.879-215.105 81.879-296.984 0-70.092-70.09-81.507-180.985-27.142-263.682 3.034-4.615 1.752-10.815-2.863-13.849-4.615-3.035-10.816-1.753-13.849 2.863-28.631 43.552-41.621 96.267-36.578 148.438 5.112 52.886 28.654 102.738 66.29 140.374 43.441 43.441 101.2 67.365 162.635 67.365s119.193-23.924 162.634-67.365c49.492-49.491 73.552-117.833 66.011-187.503-2.763-25.528-9.112-41.136-19.979-49.121-12.052-8.855-25.93-6.105-38.174-3.679-5.538 1.097-10.771 2.144-15.473 2.102-8.498-.057-16.952-1.486-24.97-4.171l143.786-153.094c11.018-11.731 10.923-29.647-.218-40.788zm-262.467 309.149c-15.374 8.876-32.501 11.493-44.984 9.672 7.8-13.57 8.323-27.813 8.763-39.806.725-19.763 1.231-33.205 29.232-42.183l33.719 33.72c-1.761 21.055-17.265 33.132-26.73 38.597zm248.107-282.054-211.432 225.118-26.42-26.42 225.117-211.432c3.809-3.577 9.499-3.673 12.953-.218 3.455 3.455 3.359 9.144-.218 12.952z\" />\r\n            <path d=\"m74.438 136.473c5.523 0 10-4.477 10-10s-4.477-10-10-10h-.007c-5.523 0-9.996 4.477-9.996 10s4.48 10 10.003 10z\" />\r\n        </g>\r\n    </g>\r\n    </svg>\r\n\r\n}\r\n","import React, { useState } from 'react';\r\n// import emptyStar from '../assets/svg/empty-star.svg'\r\n// import star from '../assets/svg/star.svg'\r\n// import colorPallete from '../assets/svg/paint.svg'\r\n\r\nimport StarIcon from './icons/StarIcon'\r\nimport CircleIcon from './icons/CircleIcon'\r\nimport ColorPalleteIcon from './icons/ColorPaletteIcon'\r\n\r\nexport default ({ togglePinned, note, user, setNoteColor }) => {\r\n    const [isPalleteOpen, setIsPalleteOpen] = useState(false)\r\n\r\n\r\n    const changeColor = (color) => {\r\n        setNoteColor(color)\r\n        setIsPalleteOpen(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"features-container\">\r\n            <i onClick={() => togglePinned(note)}><StarIcon isPinned={user.pinnedNotes.find(id => id === note._id) ? true : false} /></i>\r\n            <div className=\"color-pallete\">\r\n                {/* <img src={colorPallete} alt=\"Change Color\" className=\"color-pallete-icon\" onClick={() => setIsPalleteOpen(!isPalleteOpen)} /> */}\r\n                <i onClick={() => setIsPalleteOpen(!isPalleteOpen)}><ColorPalleteIcon /></i>\r\n                {isPalleteOpen && <div className=\"colors-container\">\r\n                    <i onClick={() => changeColor('#ffa350')}><CircleIcon fill=\"#ffa350\" /></i>\r\n                    <i onClick={() => changeColor('#f78888')}><CircleIcon fill=\"#f78888\" /></i>\r\n                    <i onClick={() => changeColor('#fff59d')}><CircleIcon fill=\"#fff59d\" /></i>\r\n                    <i onClick={() => changeColor('#90ccf4')}><CircleIcon fill=\"#90ccf4\" /></i>\r\n                    <i onClick={() => changeColor('#4caf50')}><CircleIcon fill=\"#4caf50\" /></i>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return (\r\n        <svg className=\"remove-icon\"  viewBox=\"0 0 512 512\"  xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m256 512c-141.160156 0-256-114.839844-256-256s114.839844-256 256-256 256 114.839844 256 256-114.839844 256-256 256zm0-475.429688c-120.992188 0-219.429688 98.4375-219.429688 219.429688s98.4375 219.429688 219.429688 219.429688 219.429688-98.4375 219.429688-219.429688-98.4375-219.429688-219.429688-219.429688zm0 0\" /><path d=\"m347.429688 365.714844c-4.679688 0-9.359376-1.785156-12.929688-5.359375l-182.855469-182.855469c-7.144531-7.144531-7.144531-18.714844 0-25.855469 7.140625-7.140625 18.714844-7.144531 25.855469 0l182.855469 182.855469c7.144531 7.144531 7.144531 18.714844 0 25.855469-3.570313 3.574219-8.246094 5.359375-12.925781 5.359375zm0 0\" /><path d=\"m164.570312 365.714844c-4.679687 0-9.355468-1.785156-12.925781-5.359375-7.144531-7.140625-7.144531-18.714844 0-25.855469l182.855469-182.855469c7.144531-7.144531 18.714844-7.144531 25.855469 0 7.140625 7.140625 7.144531 18.714844 0 25.855469l-182.855469 182.855469c-3.570312 3.574219-8.25 5.359375-12.929688 5.359375zm0 0\" /></svg>)\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return <svg className=\"edit-icon\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n        viewBox=\"0 0 477.873 477.873\"  xmlSpace=\"preserve\">\r\n        <g>\r\n            <g>\r\n                <path d=\"M392.533,238.937c-9.426,0-17.067,7.641-17.067,17.067V426.67c0,9.426-7.641,17.067-17.067,17.067H51.2\r\n           c-9.426,0-17.067-7.641-17.067-17.067V85.337c0-9.426,7.641-17.067,17.067-17.067H256c9.426,0,17.067-7.641,17.067-17.067\r\n           S265.426,34.137,256,34.137H51.2C22.923,34.137,0,57.06,0,85.337V426.67c0,28.277,22.923,51.2,51.2,51.2h307.2\r\n           c28.277,0,51.2-22.923,51.2-51.2V256.003C409.6,246.578,401.959,238.937,392.533,238.937z\"/>\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M458.742,19.142c-12.254-12.256-28.875-19.14-46.206-19.138c-17.341-0.05-33.979,6.846-46.199,19.149L141.534,243.937\r\n           c-1.865,1.879-3.272,4.163-4.113,6.673l-34.133,102.4c-2.979,8.943,1.856,18.607,10.799,21.585\r\n           c1.735,0.578,3.552,0.873,5.38,0.875c1.832-0.003,3.653-0.297,5.393-0.87l102.4-34.133c2.515-0.84,4.8-2.254,6.673-4.13\r\n           l224.802-224.802C484.25,86.023,484.253,44.657,458.742,19.142z M434.603,87.419L212.736,309.286l-66.287,22.135l22.067-66.202\r\n           L390.468,43.353c12.202-12.178,31.967-12.158,44.145,0.044c5.817,5.829,9.095,13.72,9.12,21.955\r\n           C443.754,73.631,440.467,81.575,434.603,87.419z\"/>\r\n            </g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n        <g>\r\n        </g>\r\n    </svg>\r\n\r\n\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    return <svg className=\"save-icon\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><g><path d=\"m490.647 133.435c-.101-.103-128.128-129.127-128.02-129.019-2.927-2.938-6.813-4.416-10.627-4.416-13.006 0-293.619 0-305 0-16.542 0-30 13.458-30 30v452c0 16.542 13.458 30 30 30h418c16.542 0 30-13.458 30-30v-338c0-3.958-1.564-7.755-4.353-10.565zm-217.647-103.435v66c0 8.284 6.716 15 15 15s15-6.716 15-15v-66h34v115h-162v-115zm192 452h-418v-452h98v130c0 8.284 6.716 15 15 15h192c8.284 0 15-6.716 15-15v-108.587l98 98.766z\" /><path d=\"m96 241c-8.284 0-15 6.716-15 15v176c0 8.284 6.716 15 15 15h320c8.284 0 15-6.716 15-15v-176c0-8.284-6.716-15-15-15zm305 176h-290v-146h290z\" /><path d=\"m160 335h48c8.284 0 15-6.716 15-15s-6.716-15-15-15h-48c-8.284 0-15 6.716-15 15s6.716 15 15 15z\" /></g></svg>\r\n\r\n\r\n}\r\n","import React, { useEffect, useState, createRef } from 'react'\r\nimport Moment from 'react-moment';\r\n\r\n\r\nimport NoteText from './Note/NoteText'\r\nimport NoteImg from './Note/NoteImg'\r\nimport NoteVideo from './Note/NoteVideo'\r\nimport NoteTodo from './Note/NoteTodo'\r\nimport NoteLoc from './Note/NoteLoc'\r\nimport Features from '../cmps/Features'\r\n\r\nimport RemoveIcon from '../cmps/icons/RemoveIcon'\r\nimport EditIcon from '../cmps/icons/EditIcon'\r\nimport SaveIcon from '../cmps/icons/SaveIcon'\r\n\r\nexport default ({ note, user, removeNote, saveRoomChanges, togglePinned }) => {\r\n    const [isEdit, setIsEdit] = useState(false);\r\n    const [isNewTodo, setIsNewTodo] = useState(false);\r\n    const [currTodoIdx, setCurrTodoIdx] = useState('');\r\n\r\n    const cmps = {\r\n        NoteText,\r\n        NoteImg,\r\n        NoteVideo,\r\n        NoteTodo,\r\n        NoteLoc\r\n    }\r\n    const NoteType = cmps[note.type];\r\n\r\n    const noteRef = createRef();\r\n\r\n    const setNoteColor = (color) => {\r\n        note.bgColor = color\r\n        saveRoomChanges()\r\n    }\r\n\r\n    const paintNote = () => {\r\n        if (note.bgColor) noteRef.current.style.backgroundColor = note.bgColor\r\n    }\r\n\r\n    const saveTodoEdits = () => {\r\n        saveRoomChanges();\r\n        setCurrTodoIdx('')\r\n    }\r\n\r\n    useEffect(() => {\r\n        paintNote()\r\n        if (note.createdBy._id !== user._id) return\r\n        if (note.createdBy.imgUrl !== user.imgUrl) {\r\n            note.createdBy.imgUrl = user.imgUrl\r\n            saveRoomChanges()\r\n        }\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        paintNote()\r\n    }, [note.bgColor]);\r\n\r\n    return (\r\n        <div className=\"note-preview\" >\r\n            <div className={user._id === note.createdBy._id ? 'user-container' : 'friend-container'}>\r\n                <img src={note.createdBy.imgUrl} alt=\"Note creator avatar\" className=\"avatar avatar-s\" />\r\n                <div className=\"note-container\" ref={noteRef}>\r\n                    <div className=\"note-header\">\r\n                        <div>\r\n                            {/* {((note.type === 'NoteTodo' || note.type === 'NoteText') && !isEdit) && <img src={editIcon} alt=\"Edit note\" className=\"edit-btn\" onClick={() => setIsEdit(true)} />} */}\r\n                            {((note.type === 'NoteTodo' || note.type === 'NoteText') && !isEdit) && <i onClick={() => setIsEdit(true)}><EditIcon /></i>}\r\n                            {((note.type === 'NoteTodo' || note.type === 'NoteText') && isEdit) && <i onClick={() => { setIsEdit(false); saveTodoEdits() }}><SaveIcon /></i>}\r\n                            {/* {((note.type === 'NoteTodo' || note.type === 'NoteText') && isEdit) && <img src={saveIcon} alt=\"Save changes\" className=\"save-btn\" onClick={() => { setIsEdit(false); saveRoomChanges(); setCurrTodoIdx('') }} />} */}\r\n                            <i onClick={() => removeNote(note._id)}><RemoveIcon /></i>\r\n                        </div>\r\n                        <Moment format=\"MM/DD/YY ,HH:mm\">{note.createdAt}</Moment>\r\n                    </div>\r\n                    <NoteType note={note} user={user} isEdit={isEdit} currTodoIdx={currTodoIdx} setCurrTodoIdx={setCurrTodoIdx} setIsNewTodo={setIsNewTodo} isNewTodo={isNewTodo} />\r\n                    <Features togglePinned={togglePinned} note={note} user={user} setNoteColor={setNoteColor} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import loading from \"../assets/svg/loading.svg\";\r\n\r\n\r\nimport React from 'react';\r\n\r\nconst Loading = () => {\r\n    return <div>\r\n         <img src={loading} alt=\"loading\" className=\"loading\"/>\r\n    </div>;\r\n}\r\n\r\nexport default Loading;","import React, { useEffect, useState } from 'react'\r\nimport NotePreview from './NotePreview'\r\nimport Loading from '../cmps/Loading'\r\n\r\nexport default ({ notes, user, removeNote, saveRoomChanges, togglePinned, setNoteType }) => {\r\n\r\n    const [notesForDisplay, setNotesForDisplay] = useState([])\r\n\r\n    useEffect(() => {\r\n        const fixedNotes = []\r\n        notes.map(note => {\r\n            user.pinnedNotes.find(id => id === note._id) ?\r\n                fixedNotes.unshift(note) : fixedNotes.push(note)\r\n        })\r\n        setNotesForDisplay(fixedNotes)\r\n    }, [notes])\r\n\r\n    return (\r\n\r\n        <div className=\"note-list\" onClick={() => setNoteType('')}>\r\n            {notesForDisplay.length ? notesForDisplay.map(note => {\r\n                return (\r\n                    <NotePreview\r\n                     note={note} \r\n                     key={note._id} \r\n                     user={user} \r\n                     removeNote={removeNote} \r\n                     saveRoomChanges={saveRoomChanges} \r\n                     togglePinned={togglePinned} />\r\n                )\r\n            }) : <Loading />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { DebounceInput } from 'react-debounce-input';\r\n\r\nexport default class Filter extends Component {\r\n    state = { term: '' };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { ...props.filterBy };\r\n    }\r\n\r\n    onChangeHandler = (ev) => {\r\n        \r\n        const { value, name } = ev.target;\r\n        \r\n        this.setState({ [name]: value }, () => {\r\n            this.props.onFilter({ ...this.state });\r\n        });\r\n    };\r\n    onKeyHandler = (ev) => {\r\n        if (ev.keyCode === 13) {\r\n            ev.preventDefault()\r\n            this.props.moveToContact()\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const {placeHolder} = this.props\r\n        \r\n        return (\r\n            <form>\r\n                <DebounceInput\r\n                    minLength={0}\r\n                    className=\"filter-input\"\r\n                    debounceTimeout={300}\r\n                    type=\"text\"\r\n                    placeholder={placeHolder ? placeHolder: 'Search Contacts'}\r\n                    onChange={this.onChangeHandler}\r\n                    name=\"term\"\r\n                    value={this.state.term}\r\n                    onKeyDown={this.onKeyHandler}\r\n                     />\r\n            </form>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport default ({ setNoteData, setNoteHeader, handleSubmit }) => {\r\n\r\n\r\n    return (\r\n        <form className=\"input-text\" onSubmit={handleSubmit}>\r\n            <input className=\"input-header\" placeholder=\"Note Header\" type=\"text\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <input className=\"input-data\" placeholder=\"Say Something\" type=\"text\" onChange={e => setNoteData(e.target.value)} />\r\n            <button hidden>Save</button>\r\n        </form>\r\n    )\r\n}\r\n//save button is a temp solution to onSubmit with enter key","import React, { createRef } from 'react';\r\n\r\nimport uploadImg from '../../assets/svg/upload.svg'\r\n\r\nexport default ({ setNoteHeader, onUploadImg }) => {\r\n\r\n    const inputRef = createRef();\r\n\r\n\r\n    const onUploadImgHandler = () => {\r\n        inputRef.current.click()\r\n        // setNoteType('NoteImg');\r\n    }\r\n\r\n    return (\r\n        <section className=\"input-img\">\r\n            <input className=\"input-header\" placeholder=\"Img Header\" type=\"text\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <input type=\"file\" onChange={(ev) => { onUploadImg(ev); }} ref={inputRef} hidden />\r\n            <img src={uploadImg} className=\"add-button\" alt=\"Plus Icon\" onClick={() => { onUploadImgHandler() }} />\r\n        </section >\r\n    );\r\n};\r\n\r\n","import axios from 'axios';\r\n//AIzaSyDD1nIJuc1thshvoaRykKhVDjI8-kbDSFM RAN'S KEY\r\n//AIzaSyD09tfK-pjT-G6kEZmXRfeicoKR-neGKNU alt key\r\nconst API_KEY = 'AIzaSyDD1nIJuc1thshvoaRykKhVDjI8-kbDSFM' \r\nconst limit = 15;\r\n\r\n\r\nexport const YoutubeApiService = {\r\n    youtubeQuery\r\n}\r\n\r\n\r\nasync function youtubeQuery(query) {\r\n    try {\r\n        const res = await axios.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&videoEmbeddable=true&type=video&key=${API_KEY}&q=${query}&maxResults=${limit}`);\r\n        return res.data.items;\r\n    } catch (err) {\r\n        console.log('Error while fetching videos',err); \r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { DebounceInput } from 'react-debounce-input';\r\n\r\nimport { YoutubeApiService } from '../../services/YoutubeApiService'\r\n\r\nimport PlusIcon from '../../assets/svg/plus.svg'\r\n\r\nexport default ({ addVideo, setNoteHeader }) => {\r\n    const [videos, setVideos] = useState([]);\r\n\r\n    const searchYoutubeVideos = async (queryStr) => {\r\n        if (!queryStr) {\r\n            setVideos([])\r\n            return\r\n        }\r\n        const youtubeVideos = await YoutubeApiService.youtubeQuery(queryStr);\r\n        setVideos(youtubeVideos)\r\n    }\r\n\r\n    return (\r\n        <section className=\"input-video\">\r\n            <input className=\"input-header\" placeholder=\"Note Header\" type=\"text\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <DebounceInput\r\n            className=\"search-input\"\r\n                minLength={0}\r\n                debounceTimeout={500}\r\n                type=\"text\"\r\n                placeholder=\"Search Video\"\r\n                onChange={e => searchYoutubeVideos(e.target.value)}\r\n            />\r\n            {!!videos.length &&<h1>Add video!</h1>}\r\n            {!!videos.length && videos.map(video => {\r\n                return (\r\n                    <div className=\"video-card\" key={video.id.videoId}>\r\n                        <img src={video.snippet.thumbnails.default.url} alt=\"Video Thumbnail\" />\r\n                        <h6>{video.snippet.title}</h6>\r\n                        <img src={PlusIcon} className=\"add-button\" alt=\"Plus Icon\" onClick={() => { addVideo(video.id.videoId); setVideos([]) }} />\r\n                    </div>\r\n                )\r\n            })}\r\n        </section >\r\n    );\r\n};","import React, { useState } from 'react'\r\n\r\nimport xMark from '../../assets/svg/x-mark.svg'\r\nimport PlusIcon from '../../assets/svg/plus.svg'\r\nimport saveIcon from '../../assets/svg/save.svg'\r\n\r\n\r\nexport default ({ setNoteHeader, setNoteData, handleSubmit, noteData }) => {\r\n    const [currTodo, setCurrTodo] = useState('');\r\n\r\n    const textInput = React.useRef();\r\n\r\n    const addTodo = () => {\r\n        setNoteData([\r\n            ...noteData, {\r\n                text: currTodo,\r\n                isDone: false\r\n            }])\r\n        setCurrTodo('')\r\n        textInput.current.value = ''\r\n    };\r\n\r\n    const handleRemoveTodo = (todoIdx) => {\r\n        setNoteData(noteData.filter((todo, idx) => todoIdx !== idx))\r\n    }\r\n\r\n    return (\r\n        <div className=\"input-todo\">\r\n            <input type=\"text\" placeholder=\"Header?\" className=\"input-header\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <ul>\r\n                {!noteData.length && <h5>No Todo's Added</h5>}\r\n                {!!noteData.length && noteData.map((todo, idx) => {\r\n                    return (\r\n                        <li className=\"todo\" key={todo.text}>\r\n                            <span>{todo.text}</span>\r\n                            <img src={xMark} onClick={() => handleRemoveTodo(idx)} className=\"x-mark\" alt=\"Remove Todo\" />\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n            <div className=\"add-todo-container\">\r\n                <input type=\"text\" placeholder=\"task?\" className=\"input-task\" ref={textInput} onChange={e => setCurrTodo(e.target.value)} />\r\n                <img src={PlusIcon} className=\"add-button\" onClick={() => addTodo()} alt=\"Add todo\" />\r\n            </div>\r\n            <img src={saveIcon} className=\"add-button\" onClick={handleSubmit} alt=\"Save\" />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nexport default ({ setNoteData, setNoteHeader, handleSubmit }) => {\r\n\r\n\r\n    return (\r\n        <form className=\"input-loc\" onSubmit={handleSubmit}>\r\n            <input className=\"input-header\" placeholder=\"Note Header\" type=\"text\" onChange={e => setNoteHeader(e.target.value)} />\r\n            <button hidden>Save</button>\r\n        </form>\r\n    )\r\n}\r\n//save button is a temp solution to onSubmit with enter key","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { UtilService } from '../services/UtilService'\r\nimport SocketService from '../services/SocketService'\r\nimport CloudinaryService from '../../src/services/CloudinaryService'\r\n\r\n\r\n\r\nimport { loadRoomById, saveRoom, resetCurrRoom } from '../actions/RoomActions';\r\nimport { updateUser } from '../actions/UserActions';\r\n\r\nimport ButtonMenu from '../cmps/ButtonMenu'\r\nimport NoteList from '../cmps/NoteList'\r\nimport Filter from '../cmps/Filter'\r\nimport Loading from '../cmps/Loading'\r\n\r\nimport InputText from '../cmps/Note/InputText'\r\nimport InputImg from '../cmps/Note/InputImg'\r\nimport InputVideo from '../cmps/Note/InputVideo'\r\nimport InputTodo from '../cmps/Note/InputTodo'\r\nimport InputLoc from '../cmps/Note/InputLoc'\r\n\r\nimport { UserService } from '../services/UserService';\r\n\r\nconst BoardPage = (props) => {\r\n    const [noteType, setNoteType] = useState('');\r\n    const [noteHeader, setNoteHeader] = useState('');\r\n    const [noteData, setNoteData] = useState('');\r\n    const [noteInputType, setNoteInputType] = useState('InputText');\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const [filterBy, setfilterBy] = useState('');\r\n\r\n\r\n    const newNote = {\r\n        header: noteHeader,\r\n        data: noteData,\r\n        type: noteType,\r\n    }\r\n\r\n    const cmps = {\r\n        InputText,\r\n        InputImg,\r\n        InputVideo,\r\n        InputTodo,\r\n        InputLoc\r\n    }\r\n\r\n    const InputType = cmps[noteInputType];\r\n\r\n\r\n    const loadRoom = async () => {\r\n        const roomId = props.match.params.id;\r\n        await props.loadRoomById({ term: filterBy.term, roomId });\r\n    }\r\n\r\n\r\n    const saveRoomChanges = async () => {\r\n        console.log('**Props.room**', props.room);\r\n        console.log('**props.user._id**', props.user._id);\r\n        await props.saveRoom(props.room)\r\n        SocketService.emit(\"roomUpdated\", { room: props.room, userId: props.user._id });\r\n\r\n    }\r\n\r\n\r\n    const onUploadImg = async (ev) => {\r\n        if (noteType === 'NoteImg') {\r\n            const imgUrl = await CloudinaryService.uploadImg(ev)\r\n            setNoteData(imgUrl.secure_url)\r\n            setIsUploading(true)\r\n        }\r\n\r\n    }\r\n\r\n    const onAddVideo = (videoId) => {\r\n        setNoteData(videoId)\r\n        setIsUploading(true)\r\n    }\r\n\r\n    const onFilterHandler = (filterBy) => {\r\n        setfilterBy(filterBy)\r\n    };\r\n\r\n\r\n    const onHandleSubmit = async (ev) => {\r\n        const { user } = props\r\n        if (ev) ev.preventDefault()\r\n        newNote._id = UtilService.makeId(24)\r\n        newNote.createdAt = Date.now() //maybe server side should handle it\r\n        let minimalUser = UserService.getMinimalUser(user._id, user.imgUrl)\r\n        newNote.createdBy = minimalUser\r\n        const friend = user.friends.find(currFriend => currFriend.roomId === props.match.params.id)\r\n        props.room.notes.unshift(newNote)\r\n        props.saveRoom(props.room)\r\n        SocketService.emit(\"added note\", ({ room: props.room, user: props.user, friendId: friend._id }));\r\n        setNoteHeader('')\r\n        setNoteData('')\r\n        setNoteType('')\r\n        setIsUploading(false)\r\n    }\r\n\r\n    const togglePinned = (note) => {\r\n        let choosenNote = props.user.pinnedNotes.find(id => note._id === id)\r\n        !choosenNote ? props.user.pinnedNotes.push(note._id) : props.user.pinnedNotes.splice(note._id, 1)\r\n        let idx = props.room.notes.findIndex(currNote => note._id === currNote._id)\r\n        props.room.notes.splice(idx, 1, note)\r\n        props.saveRoom(props.room)\r\n        props.updateUser(props.user)\r\n    }\r\n\r\n\r\n    const removeNote = async (noteId) => {\r\n        let idx = props.room.notes.findIndex(note => note._id === noteId)\r\n        props.room.notes.splice(idx, 1)\r\n        await props.saveRoom(props.room)\r\n        SocketService.emit(\"roomUpdated\", { room: props.room, userId: props.user._id });\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadRoom()\r\n        return () => { props.resetCurrRoom() };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if ((noteData && noteType === 'NoteImg') || noteType === 'NoteVideo') {\r\n            onHandleSubmit()\r\n        }\r\n    }, [isUploading]);\r\n\r\n    useEffect(() => {\r\n        loadRoom()\r\n    }, [filterBy]);\r\n\r\n\r\n\r\n    if (props.room) var { notes } = props.room\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"board-page\">\r\n            {notes ? <div className=\"note-add\">\r\n                <Filter filterBy={filterBy} onFilter={onFilterHandler} placeHolder={\"Search for notes\"} />\r\n                {noteType && <InputType\r\n                    isMarkerShown={true}\r\n                    addVideo={onAddVideo}\r\n                    onUploadImg={onUploadImg}\r\n                    handleSubmit={onHandleSubmit}\r\n                    setNoteHeader={setNoteHeader}\r\n                    setNoteData={setNoteData}\r\n                    noteData={noteData}\r\n                />}\r\n                <ButtonMenu setNoteType={setNoteType} setNoteInputType={setNoteInputType} setNoteData={setNoteData} />\r\n            </div> : <Loading />}\r\n            {notes && <div>\r\n                {!!notes.length && <NoteList notes={notes} user={props.user} removeNote={removeNote} saveRoomChanges={saveRoomChanges} togglePinned={togglePinned} setNoteType={setNoteType} />}\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        room: state.room.currRoom,\r\n        user: state.user.loggedinUser,\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadRoomById,\r\n    saveRoom,\r\n    resetCurrRoom,\r\n    updateUser\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BoardPage);","import { StorageService } from './StorageService'\r\nimport { HttpService } from './HttpService.js'\r\nimport avatarImg from '../assets/png/user.png'\r\nimport BoardPage from '../pages/BoardPage';\r\n\r\n\r\nconst KEY = 'user';\r\n\r\nasync function getLoggedinUser() {\r\n    var user = StorageService.load(KEY);\r\n    if (!user) return null\r\n    user = await HttpService.get(`user/${user._id}`)\r\n    return user\r\n}\r\n\r\nasync function getById(id) {\r\n    const user = await HttpService.get(`user/${id}`)\r\n    return user\r\n}\r\n\r\nasync function signUp(credentials) {\r\n    let user = {\r\n        userName: credentials.userName,\r\n        fullName: credentials.fullName,\r\n        password: credentials.password,\r\n        pinnedNotes: [],\r\n        notifications: [],\r\n        pinnedNotes: [],\r\n        imgUrl: credentials.imgUrl ? credentials.imgUrl : avatarImg,\r\n        joinedAt: Date.now(),\r\n        friends: []\r\n    };\r\n\r\n    user = await HttpService.post('auth/signup', user)\r\n    StorageService.save(KEY, user);\r\n    // getUser()\r\n    return user;\r\n}\r\n\r\nasync function login(credentials) {\r\n    const user = await HttpService.post('auth/login', credentials)\r\n    if (!user) return null\r\n    StorageService.save(KEY, user);\r\n    return user;\r\n}\r\n\r\n\r\nasync function logout() {\r\n    localStorage.removeItem(KEY)\r\n    const msg = await HttpService.post('auth/logout');\r\n    return (msg)\r\n}\r\n\r\nasync function update(user) {\r\n    const updatedUser = await HttpService.put(`user/${user._id}`, user)\r\n    StorageService.save(KEY, updatedUser);\r\n    return updatedUser\r\n}\r\n\r\nasync function updateImgAtContacts(userId, imgUrl) {\r\n    await HttpService.put(`user/${userId}/update`, { userId, imgUrl })\r\n}\r\n\r\n\r\n\r\nfunction getMinimalUser(_id, imgUrl) {\r\n    return {\r\n        _id,\r\n        imgUrl\r\n    }\r\n}\r\n\r\nexport const UserService = {\r\n    getById,\r\n    signUp,\r\n    update,\r\n    login,\r\n    logout,\r\n    getMinimalUser,\r\n    updateImgAtContacts,\r\n    getLoggedinUser\r\n}","import { UserService } from '../services/UserService'\r\n\r\nexport function signUp(user) {\r\n    return async dispatch => {\r\n        const newUser = await UserService.signUp(user);\r\n        dispatch({ type: 'SET_USER', newUser })\r\n    }\r\n}\r\nexport function login(user) {\r\n    return async dispatch => {\r\n        const newUser = await UserService.login(user);                \r\n        dispatch({ type: 'SET_USER', user:newUser })\r\n    }\r\n}\r\nexport function logout() {\r\n    const user = null\r\n    return async dispatch => {\r\n        await UserService.logout();\r\n        dispatch({ type: 'SET_USER', user })\r\n    }\r\n}\r\n\r\nexport function getUser() {\r\n    return async dispatch => {\r\n        const user = await UserService.getLoggedinUser();\r\n        dispatch({ type: 'GET_USER', user })\r\n    }\r\n}\r\nexport function updateUser(user) {\r\n    console.log('@@@user in actions@@@', user);\r\n    return async dispatch => {\r\n        const updatedUser = await UserService.update(user);\r\n        dispatch({ type: 'SET_USER', user: updatedUser })\r\n    }\r\n}\r\n","import { UtilService } from './UtilService'\r\nimport { StorageService } from './StorageService'\r\nimport { HttpService } from './HttpService.js'\r\n\r\n\r\nconst CONTACT_KEY = 'contacts';\r\n\r\nvar contacts = [\r\n    {\r\n        \"_id\": \"aa56640269f443a5d64b32ca\",\r\n        \"fullName\": \"Eyal Golan\",\r\n        \"userName\": \"Eyalush\",\r\n        \"friends\": []\r\n    },\r\n    {\r\n        \"_id\": \"ba56640269f443a5d64b32cb\",\r\n        \"fullName\": \"Omer Adam\",\r\n        \"userName\": \"Omerush\",\r\n        \"friends\": []\r\n    },\r\n    {\r\n        \"_id\": \"ca56640269f443a5d64b32cc\",\r\n        \"fullName\": \"Zohar Argov\",\r\n        \"userName\": \"Ha Melech\",\r\n        \"friends\": []\r\n    }\r\n];\r\n\r\n// function sort(arr) {\r\n//     return arr.sort((a, b) => {\r\n//         if (a.userName.toLocaleLowerCase() < b.userName.toLocaleLowerCase()) {\r\n//             return -1;\r\n//         }\r\n//         if (a.userName.toLocaleLowerCase() > b.userName.toLocaleLowerCase()) {\r\n//             return 1;\r\n//         }\r\n\r\n//         return 0;\r\n//     })\r\n// }\r\n\r\n// function query(filterBy = null) {\r\n//     return new Promise((resolve, reject) => {\r\n//         var contactsToReturn = StorageService.load(CONTACT_KEY);\r\n//         if (!contactsToReturn || !contactsToReturn.length) {\r\n//             contactsToReturn = [...contacts]\r\n//             StorageService.save(CONTACT_KEY, contactsToReturn)\r\n//         }\r\n//         contacts = [...contactsToReturn]\r\n//         if (filterBy && filterBy.term) {\r\n//             contactsToReturn = filter(filterBy.term)\r\n//         }\r\n//         contactsToReturn ? resolve(sort(contactsToReturn)) : reject(`Contacts not found!`)\r\n//     })\r\n// }\r\nfunction query(filterBy) {\r\n    // if (!filterBy.term) return []\r\n    const queryParams = new URLSearchParams();\r\n    if (filterBy) {\r\n        for (const property in filterBy) {\r\n            if (filterBy[property]) {\r\n                queryParams.set(property, filterBy[property])\r\n            }\r\n        }\r\n        return HttpService.get(`user?${queryParams}`);\r\n    }\r\n    // return HttpService.get('user');\r\n}\r\n\r\n\r\n\r\nfunction getContactById(id) {\r\n    return new Promise((resolve, reject) => {\r\n        const contact = contacts.find(contact => contact._id === id)\r\n        contact ? resolve(contact) : reject(`Contact id ${id} not found!`)\r\n    })\r\n}\r\n\r\nfunction deleteContact(id) {\r\n    return new Promise((resolve, reject) => {\r\n        const index = contacts.findIndex(contact => contact._id === id)\r\n        if (index !== -1) {\r\n            contacts.splice(index, 1)\r\n        }\r\n        StorageService.save(CONTACT_KEY, contacts)\r\n        resolve(contacts)\r\n    })\r\n}\r\n\r\nfunction _updateContact(contact) {\r\n    return new Promise((resolve, reject) => {\r\n        const index = contacts.findIndex(c => contact._id === c._id)\r\n        if (index !== -1) {\r\n            contacts[index] = contact\r\n        }\r\n        // console.log('(edit)Contacts after replace ', contacts)\r\n        StorageService.save(CONTACT_KEY, contacts)\r\n        resolve(contact)\r\n    })\r\n}\r\n\r\nfunction _addContact(contact) {\r\n    // console.log('add contact')\r\n    return new Promise((resolve, reject) => {\r\n        contact._id = UtilService.makeId()\r\n        contacts.push(contact)\r\n        // console.log('(ADD)Contacts after push ', contacts)\r\n        StorageService.save(CONTACT_KEY, contacts)\r\n        resolve(contact)\r\n    })\r\n}\r\n\r\nfunction saveContact(contact) {\r\n    // console.log('save contact', contact)\r\n    return contact._id ? _updateContact(contact) : _addContact(contact)\r\n}\r\n\r\nfunction getEmptyContact() {\r\n    return {\r\n        fullName: '',\r\n        userName: '',\r\n    }\r\n}\r\n\r\n// function filter(term) {\r\n//     term = term.toLocaleLowerCase()\r\n//     return contacts.filter(contact => {\r\n//         return contact.userName.toLocaleLowerCase().includes(term) ||\r\n//             contact.fullName.toLocaleLowerCase().includes(term)\r\n//     })\r\n// }\r\n\r\nexport const ContactService = {\r\n    query,\r\n    getContactById,\r\n    deleteContact,\r\n    saveContact,\r\n    getEmptyContact\r\n}\r\n","import { ContactService } from '../services/ContactService'\r\n\r\n// LIST\r\nexport function loadContacts(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            const contacts = await ContactService.query(filterBy);\r\n            dispatch({ type: 'SET_CONTACTS', contacts })\r\n        } catch (err) {\r\n            console.log('ERROR', err)\r\n        }\r\n    }\r\n}\r\n\r\n// READ\r\nexport function loadContactById(id) {\r\n    return async dispatch => {\r\n        try {\r\n            const contact = await ContactService.getContactById(id);\r\n            dispatch({ type: 'SET_CURR_CONTACT', contact })\r\n        } catch (err) {\r\n            console.log('ERROR', err)\r\n        }\r\n    }\r\n}\r\n\r\n//RESET\r\nexport function resetCurrContact() {\r\n    return async dispatch => {\r\n        try {\r\n            const contact = null\r\n            dispatch({ type: 'SET_CURR_CONTACT', contact })\r\n        } catch (err) {\r\n            console.log('ERROR:', err)\r\n        }\r\n    }\r\n}\r\n\r\n// UPDATE + CREATE\r\nexport function saveContact(contact) {\r\n    return async dispatch => {\r\n        const isEdit = !!contact._id\r\n        contact = await ContactService.saveContact(contact);\r\n        if (isEdit) dispatch({ type: 'UPDATE_CONTACT', contact })\r\n        else dispatch({ type: 'ADD_CONTACT', contact })\r\n        return contact;\r\n    }\r\n}\r\n\r\n// REMOVE\r\n\r\nexport function deleteContact(id) {\r\n    return async dispatch => {\r\n        await ContactService.deleteContact(id);\r\n        dispatch({ type: 'DELETE_CONTACT', id })\r\n    }\r\n}\r\n","import React from 'react';\r\nimport avatarImg from '../../assets/png/user.png'\r\nimport Loading from \"../Loading\";\r\n\r\n\r\nexport const AvatarEdit = (props) => {\r\n\r\n  // var [{imgUrl}] = useState(props)\r\n  const { imgUrl, isLoading } = props\r\n  return <div className=\"avatar-edit\">\r\n    <label>\r\n      <input type=\"file\" onChange={(ev) => props.onUploadImg(ev)} hidden />\r\n      {isLoading ? <Loading /> : <img src={imgUrl ? imgUrl : avatarImg} alt=\"\" className=\"avatar avatar-m\"  />}\r\n    </label>\r\n    {/* <h1>above</h1>\r\n    <div className=\"test-img\" style={{ backgroundImage: `url(${imgUrl})` }}></div>\r\n    <h1>under</h1> */}\r\n  </div>;\r\n}\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport addFriendImg from '../assets/svg/friends.svg'\r\nimport friendReqSent from '../assets/svg/ok.svg'\r\n\r\n\r\nexport default ({ contact, onAddFriend, loggedinUser, moveToRoom }) => {\r\n\r\n\r\n    const [isFriendSent, setIsFriendSent] = useState(false)\r\n    const [isFriend, setIsFriend] = useState(false)\r\n    const [roomId, setRoomId] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (!loggedinUser) return\r\n        let friend = loggedinUser.friends.find(friend => { return friend._id === contact._id })\r\n        if (friend) {\r\n            setIsFriend(true)\r\n            setRoomId(friend.roomId)\r\n        } else {\r\n            setIsFriend(false)\r\n        }\r\n    },[loggedinUser, contact._id]);\r\n\r\n    const toggleIsFriend = (ev) => {\r\n        ev.preventDefault()\r\n        setIsFriendSent(true)\r\n\r\n    }\r\n\r\n    const handelClick = (ev) => {\r\n        onAddFriend(contact._id);\r\n        toggleIsFriend(ev)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"contact-preview\" onClick={(ev) => {if(isFriend) moveToRoom(ev,roomId) }}>\r\n            <img src={contact.imgUrl} alt={`${contact.userName}`} className=\"avatar avatar-s\" />\r\n            <div className=\"user-name-container\">\r\n                <span>Full Name: {contact.fullName}</span>\r\n                <span>User Name: {contact.userName}</span>\r\n            </div>\r\n            {!contact.roomId &&\r\n                <img src={isFriendSent || isFriend ? friendReqSent : addFriendImg}\r\n                    alt=\"\"\r\n                    className=\"add-friend-img\"\r\n                    onClick={(ev) => isFriend || isFriendSent ? toggleIsFriend(ev) : handelClick(ev)} />}\r\n        </div>\r\n    );\r\n};","import React from 'react'\r\n\r\nimport ContactPreview from './ContactPreview'\r\nexport default (props) => {\r\n    const { onAddFriend, loggedinUser, onMoveToRoom } = props\r\n\r\n    // const getRoomId = () => {\r\n    //     const roomId = contact.friends.find(friend => friend._id === loggedinUser._id).roomId\r\n    //     console.log(roomId);\r\n    //     return roomId\r\n    // }\r\n\r\n    return (\r\n        <div className=\"contact-list\">\r\n            {props.contacts.map(contact => {\r\n                return (\r\n                    <ContactPreview\r\n                        contact={contact}\r\n                        onAddFriend={onAddFriend}\r\n                        loggedinUser={loggedinUser}\r\n                        key={contact._id}\r\n                        moveToRoom={onMoveToRoom}\r\n                    />\r\n                )\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport Avatar from 'react-avatar';\r\n\r\nimport { getUser,updateUser } from '../actions/UserActions';\r\nimport { loadContacts } from '../actions/ContactActions';\r\n\r\nimport { AvatarEdit } from '../cmps/User/AvatarEdit'\r\nimport ContactList from '../cmps/ContactList'\r\nimport Filter from '../cmps/Filter'\r\n\r\nimport SocketService from '../services/SocketService'\r\nimport {UserService} from '../services/UserService'\r\nimport CloudinaryService from '../../src/services/CloudinaryService'\r\n\r\n\r\n\r\nclass HomePage extends Component {\r\n  state = {\r\n    filterBy: { term: '' },\r\n    isLoading: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getUser()\r\n    if (!this.props.user) this.props.history.push(\"/signup\")\r\n    this.loadContacts()\r\n  }\r\n\r\n  loadContacts = async () => {\r\n    await this.props.loadContacts(this.state.filterBy);\r\n  };\r\n\r\n  onUploadImg = async (ev) => {\r\n    let user = this.props.user\r\n    this.setState({ isLoading: true })\r\n    let userImgUrl = await CloudinaryService.uploadImg(ev)\r\n    const updatedUser = Object.assign(user, { imgUrl: userImgUrl.secure_url })\r\n    this.props.updateUser(updatedUser)\r\n    UserService.updateImgAtContacts(user._id, userImgUrl.secure_url)\r\n    this.setState({ isLoading: false })\r\n  }\r\n\r\n  onAddFriend = (friendId) => {\r\n    const { userName, fullName, _id, imgUrl } = this.props.user\r\n    let userId = _id\r\n    let notification = {\r\n      userName,\r\n      fullName,\r\n      type: 'NotificationFriend',\r\n      imgUrl\r\n    }\r\n    SocketService.emit('Add Friend', { notification, userId, friendId })\r\n  }\r\n\r\n  onFilterHandler = (filterBy) => {\r\n    this.setState((prevState) => {\r\n      return {\r\n        filterBy: {\r\n          ...prevState.filterBy,\r\n          ...filterBy,\r\n        },\r\n      };\r\n    }, this.loadContacts);\r\n\r\n  };\r\n\r\n  onMoveToRoom = (ev, roomId) => {\r\n    console.log(ev);\r\n    ev.stopPropagation()\r\n    this.props.history.push(`/board/${roomId}`);\r\n  }\r\n\r\n  capitalize = (name) => {\r\n    return name.charAt(0).toUpperCase() + name.slice(1);\r\n  };\r\n\r\n  render() {\r\n    const { user, contacts } = this.props;\r\n    const { isLoading } = this.state\r\n\r\n    return (\r\n      <div>\r\n        {user &&\r\n          <div className=\"home-page\">\r\n            {user.userName && <h2>Hi There {this.capitalize(user.userName)}</h2>}\r\n            <AvatarEdit imgUrl={user.imgUrl} onUploadImg={this.onUploadImg} isLoading={isLoading} />\r\n            <h6>Let's add contacts veze</h6>\r\n            <Filter filterBy={this.state.filterBy} onFilter={this.onFilterHandler} />\r\n            {contacts && <ContactList onMoveToRoom={this.onMoveToRoom} contacts={contacts} onAddFriend={this.onAddFriend} loggedinUser={user} />}\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n    contacts: state.contact.contacts,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  getUser,\r\n  updateUser,\r\n  loadContacts,\r\n\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\n\r\n\r\n","import React from 'react'\r\n\r\nexport default ({ notification,onApprove,onDecline }) => {    \r\n    return (\r\n        <div className=\"notification-friend\">\r\n            <p>{notification.fullName} wants to start a board with you</p>\r\n            <button onClick={()=>onApprove(notification)}>Approve</button>\r\n            <button onClick={()=>onDecline(notification)}>Decline</button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default ({ notification }) => {\r\n    return (\r\n        <div className=\"notification-response\">\r\n            <p>{notification.fullName} has {notification.isApproved ? 'Approved' : 'Declined'} your request</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default ({ notification, onDeleteNotification }) => {\r\n\r\n    const {userName, roomId} = notification\r\n\r\n    return (\r\n        <Link to={`/board/${roomId}`} >\r\n        <div className=\"notification-note\" onClick={onDeleteNotification}>\r\n            <p>{userName} just Added A note! go check it out</p>\r\n        </div>\r\n        </Link>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport NotificationFriend from './NotificationFriend'\r\nimport NotificationResponse from './NotificationResponse'\r\nimport NotificationNote from './NotificationNote'\r\nimport Moment from 'react-moment';\r\n\r\nimport xMark from '../../assets/svg/x-mark.svg'\r\n\r\n\r\n\r\nexport default ({ notification,onApprove, onDecline, onDeleteNotification }) => {\r\n    const cmps = {\r\n        NotificationFriend,\r\n        NotificationResponse,\r\n        NotificationNote\r\n    }\r\n  \r\n\r\n    const NotificationType = cmps[notification.type];\r\n    return (\r\n        <div className=\"notification-preview\">\r\n            <div className=\"notification-header\">\r\n                <img src={notification.imgUrl} className=\"avatar avatar-xs\" alt=\"User Avatar\"/>\r\n                <div>\r\n            <NotificationType notification={notification} onApprove={onApprove} onDecline={onDecline} onDeleteNotification={onDeleteNotification}/>\r\n            <Moment fromNow>{notification.createdAt}</Moment>\r\n                </div>\r\n            <img src={xMark} onClick={()=> onDeleteNotification(notification)} className=\"x-mark\" alt=\"Close\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport NotificationPreview from './NotificationPreview'\r\n\r\nexport default ({notifications, onApprove, onDecline,onDeleteNotification}) => {\r\n    \r\n\r\n    return (\r\n        <div className=\"notification-list\">\r\n            {notifications.map(notification => {\r\n                return (\r\n                    <NotificationPreview notification={notification} key={notification._id} onApprove={onApprove} onDecline={onDecline} onDeleteNotification={onDeleteNotification}  />\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { updateUser } from '../actions/UserActions';\r\n\r\nimport SocketService from '../services/SocketService'\r\n\r\n\r\nimport NotificationList from '../cmps/Notification/NotificationList';\r\n\r\nconst InboxPage = (props) => {\r\n  \r\n  const { user } = props\r\n\r\n  const onApprove = (notification) => {\r\n    \r\n    onDeleteNotification(notification)\r\n    SocketService.emit(\"approve\", { notification,user });\r\n\r\n  }\r\n  const onDecline = (notification) => {\r\n    onDeleteNotification(notification)\r\n    SocketService.emit(\"decline\", { notification, user });\r\n  }\r\n\r\n  const onDeleteNotification = (notification) => {\r\n    const idx = user.notifications.findIndex(\r\n      currNotification => currNotification._id === notification._id\r\n    );\r\n    user.notifications.splice(idx, 1);\r\n      props.updateUser(user)\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    (!user) ? <h1>Inbox is empty</h1> :\r\n      <div>\r\n        {user && <div>\r\n          {!!user.notifications.length && <NotificationList notifications={user.notifications} onApprove={onApprove} onDecline={onDecline} onDeleteNotification={onDeleteNotification} ></NotificationList>}\r\n        </div>\r\n        }\r\n      </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n    room: state.room.currRoom,\r\n\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  updateUser,\r\n\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(InboxPage);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadContacts } from '../actions/ContactActions';\r\n\r\nimport Filter from '../cmps/Filter'\r\nimport ContactList from '../cmps/ContactList'\r\n\r\nclass ContactPage extends Component {\r\n    state = {\r\n        filterBy: { term: '', roomId: '' }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // this.loadContacts()\r\n    }\r\n\r\n    onMoveToRoom = (ev,roomId) => {   \r\n        console.log(ev);    \r\n        ev.stopPropagation()\r\n        this.props.history.push(`/board/${roomId}`);\r\n    }\r\n    loadContacts = async () => {\r\n        await this.props.loadContacts(this.state.filterBy);\r\n    };\r\n\r\n    onFilterHandler = (filterBy) => {\r\n        this.setState((prevState) => {\r\n            return {\r\n                filterBy: {\r\n                    ...prevState.filterBy,\r\n                    ...filterBy,\r\n                },\r\n            };\r\n        }, this.loadContacts);\r\n    };\r\n\r\n    handleKeyPress = () => {\r\n        if (this.props.contacts.length === 1) {\r\n            let id = this.props.contacts[0]._id\r\n            this.props.history.push(`/board/${id}`);\r\n        }\r\n    }\r\n\r\n \r\n\r\n    render() {\r\n        const { contacts, user } = this.props\r\n        return (\r\n            <div>\r\n                {user && <div>\r\n                    <Filter\r\n                        filterBy={this.state.filterBy}\r\n                        onFilter={this.onFilterHandler}\r\n                        moveToContact={this.handleKeyPress}/>\r\n                    {!!contacts && <ContactList onMoveToRoom={this.onMoveToRoom} loggedinUser={user} contacts={user.friends}></ContactList>}\r\n                </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        contacts: state.contact.contacts,\r\n        user: state.user.loggedinUser,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadContacts,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactPage);","import React, { Component } from \"react\";\r\nimport { MDBInput } from \"mdbreact\";\r\n\r\nimport Swal from 'sweetalert2'\r\n\r\n// import SocketService from '../services/SocketService'\r\n\r\nimport { signUp } from '../actions/UserActions'\r\nimport { login } from '../actions/UserActions'\r\nimport { getUser } from '../actions/UserActions'\r\nimport { connect } from \"react-redux\";\r\nimport CloudinaryService from '../../src/services/CloudinaryService'\r\n\r\nimport { AvatarEdit } from '../cmps/User/AvatarEdit'\r\n\r\n\r\nclass SignUp extends Component {\r\n\r\n  state = {\r\n    newUser: {\r\n      userName: '',\r\n      fullName: '',\r\n      password: '',\r\n      imgUrl: '',\r\n    },\r\n    isSignUp: false,\r\n    isLoading: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('hi from signUp', this.state.newUser);\r\n    \r\n    this.getLoggedinUser();\r\n  }\r\n\r\n  getLoggedinUser = async () => {\r\n    await this.props.getUser()\r\n    if (this.props.user) this.props.history.push('/')\r\n  }\r\n\r\n  onChangeHandler = (ev) => {\r\n    const { value, name } = ev.target;\r\n    this.setState({\r\n      newUser: {\r\n        ...this.state.newUser,\r\n        [name]: value\r\n      }\r\n    })\r\n  };\r\n\r\n  resetInput = () => {\r\n    this.setState({\r\n      newUser: {\r\n        userName: '',\r\n      fullName: '',\r\n      password: '',\r\n      imgUrl: '',\r\n      }\r\n    })\r\n  }\r\n\r\n  onUploadImg = async (ev) => {\r\n    this.setState({ isLoading: true })\r\n    let userImgUrl = await CloudinaryService.uploadImg(ev)\r\n    this.setState({\r\n      newUser: {\r\n        ...this.state.newUser,\r\n        imgUrl: userImgUrl.secure_url\r\n      }\r\n    })\r\n    this.setState({ isLoading: false })\r\n  }\r\n\r\n  connectSockets(id) {\r\n    this.props.onConnectSocket(id)\r\n  }\r\n\r\n  toggleSignUp = () => {\r\n    this.setState(prevState => ({\r\n      isSignUp: !prevState.isSignUp\r\n    }));\r\n  }\r\n\r\n  onHandleSubmit = async (ev) => {\r\n    ev.preventDefault();\r\n\r\n    this.state.isSignUp ?\r\n      await this.props.signUp({ ...this.state.newUser })\r\n      : await this.props.login({ ...this.state.newUser })\r\n    await this.getLoggedinUser();\r\n    if (!this.props.user) {\r\n      Swal.fire({\r\n        title: 'Wrong password or Username.',\r\n      width: 300,\r\n        confirmButtonText: \"Say what?\",\r\n        confirmButtonColor: \"yellow\",\r\n        padding: '1em',\r\n        background: '#fff url(https://sweetalert2.github.io/images/trees.png)',\r\n        backdrop: `\r\n          rgba(0,0,123,0.4)\r\n          url(\"https://sweetalert2.github.io/images/nyan-cat.gif\")\r\n          left top\r\n          no-repeat\r\n        `\r\n      })\r\n      this.props.history.push(\"/signup\")\r\n      this.resetInput()\r\n      return\r\n    }\r\n    this.connectSockets(this.props.user._id)\r\n    this.props.history.push(\"/\")\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { isSignUp, isLoading } = this.state\r\n    const { imgUrl } = this.state.newUser\r\n    return (\r\n      <div className=\"signup-form\">\r\n        <form onSubmit={this.onHandleSubmit}>\r\n          {!isSignUp && <h1>Login</h1>}\r\n          {isSignUp && <h1>SignUp</h1>}\r\n          {isSignUp && <AvatarEdit onUploadImg={this.onUploadImg} imgUrl={imgUrl} isLoading={isLoading} />}\r\n          {isSignUp && <MDBInput label=\"Full Name\" name=\"fullName\" value={this.state.newUser.fullName || ''} onChange={this.onChangeHandler} />}\r\n          <MDBInput label=\"UserName\" type=\"text\" name=\"userName\" value={this.state.newUser.userName || ''} onChange={this.onChangeHandler} />\r\n          <MDBInput label=\"Password\" type=\"password\" name=\"password\" value={this.state.newUser.password || ''} onChange={this.onChangeHandler} />\r\n          <button>{isSignUp ? 'SignUp' : 'Login'}</button>\r\n          {!isSignUp && <h2 onClick={this.toggleSignUp}>Don't Have an account? Sign Up!</h2>}\r\n          {isSignUp && <h2 onClick={this.toggleSignUp}>Head Back to Login</h2>}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  signUp,\r\n  getUser,\r\n  login\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);","import React from \"react\";\r\nimport { getUser } from \"./actions/UserActions\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Route, Switch, withRouter } from \"react-router-dom\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport InboxPage from './pages/InboxPage'\r\n\r\nimport ContactPage from './pages/ContactPage'\r\nimport BoardPage from './pages/BoardPage'\r\nimport SignUp from './pages/SignUp'\r\n\r\nimport Loading from './cmps/Loading'\r\nclass RoutePage extends React.Component {\r\n\r\n  async componentDidMount() {\r\n    await this.props.getUser(); \r\n    if (!this.isInSignupPage && !this.props.user) {\r\n    this.props.history.push('/signup')\r\n    }\r\n  }\r\n\r\n  get isInSignupPage() {\r\n    return this.props.location.pathname === \"/signup\";\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      this.props.location !== prevProps.location &&\r\n      !this.props.user &&\r\n      !this.isInSignupPage\r\n    ) {\r\n      this.props.history.push(\"/signup\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!this.isInSignupPage && !this.props.user) return <Loading />\r\n\r\n    return (\r\n      <div className=\"router-page\">\r\n        <main>\r\n          <Switch>\r\n            <Route path=\"/signup\" exact render={(routerProps) => <SignUp {...routerProps} onConnectSocket={this.props.onConnectSocket} />} />\r\n            <Route path=\"/\" exact component={HomePage} />\r\n            <Route path=\"/contact\" component={ContactPage} />\r\n            <Route path=\"/board/:id\" component={BoardPage} />\r\n            <Route path=\"/inbox/:id\" exact component={InboxPage} />\r\n          </Switch>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  getUser,\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(RoutePage));\r\n","import React from \"react\";\r\nimport { stack as Menu } from \"react-burger-menu\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nimport { UtilService } from '../services/UtilService'\r\nimport { getUser } from '../actions/UserActions'\r\nimport { logout } from '../actions/UserActions'\r\n\r\n\r\n\r\nclass BurgerMenu extends React.Component {\r\n  state = {\r\n    menuOpen: false,\r\n    chuckJoke: ''\r\n  };\r\n\r\n  async componentDidMount () {    \r\n    let chuckJoke = await UtilService.getRandomChuck()\r\n    this.setState({ chuckJoke });     \r\n   \r\n  }\r\n\r\n async  componentWillUpdate () {\r\n    if(this.props.isClicked && !this.state.menuOpen ) {\r\n      this.setState({ menuOpen: true });\r\n    }\r\n\r\n    \r\n  }\r\n   \r\n\r\n \r\n  \r\n  closeMenu = async (ev) => {\r\n    if (ev) {\r\n      this.handleLogout()\r\n    }\r\n    \r\n    this.setState({ menuOpen: false });\r\n    let chuckJoke = await UtilService.getRandomChuck()\r\n    this.setState({ chuckJoke }); \r\n    };\r\n  \r\n  \r\n  handleLogout =  () => {\r\n     this.props.logout()\r\n    // this.props.history.push('/signup')\r\n  }\r\n\r\n\r\n  async handleStateChange(state) {\r\n\r\n    this.setState({ menuOpen: state.isOpen });\r\n    // this.props.onOpenMenu(state.isOpen)\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const { menuOpen, chuckJoke } = this.state\r\n    const { user } = this.props\r\n    if (!user) return ''\r\n\r\n    return (\r\n      <Menu right isOpen={menuOpen} onStateChange={(state) => this.handleStateChange(state)}>\r\n        <NavLink activeClassName=\"active\" exact to=\"/\" onClick={() => this.closeMenu()}>\r\n          Home\r\n        </NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/contact\" exact onClick={() => this.closeMenu()}>\r\n          Contacts\r\n        </NavLink>\r\n        {user.notifications.length && <span className=\"notification-count\">{user.notifications.length}</span>}\r\n        <NavLink activeClassName=\"active\" to={`/inbox/${user._id}`} exact onClick={() => this.closeMenu()}>\r\n          Inbox\r\n        </NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/signup\" exact onClick={() => this.closeMenu(logout)}  >\r\n          Logout\r\n        </NavLink>\r\n        <div className=\"menu-footer\">\r\n         <h5>{chuckJoke}</h5>\r\n        {/* <img src={imgObj.imgUrl} alt=\"\"/> */}\r\n        </div>\r\n      </Menu>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  getUser,\r\n  logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(BurgerMenu));\r\n\r\n","import React ,{useState ,useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nimport logo from '../../src/assets/png/petek-logo.png'\r\nimport BurgerMenu from './BurgerMenu';\r\n\r\n\r\n\r\nexport default (props) => {\r\n\r\n  const { user } = props\r\n  const [isClicked, toggleClick] = useState(false)\r\n   \r\n  useEffect(() => {\r\n    return () => {\r\n      toggleClick(false)\r\n    };\r\n  }, [isClicked])\r\n  \r\n\r\n  return (\r\n     <nav className=\"NavBar\">\r\n        <Link to={`/`} className=\"home-link\" >\r\n        <img src={logo} alt=\"logo\" className=\"logo\"/>\r\n        </Link>\r\n       {user && !!user.notifications.length && <span className=\"notification-count nav-count\" onClick={() => {toggleClick(true)}} >{user.notifications.length}</span>}\r\n       <BurgerMenu isClicked={isClicked} />\r\n    </nav>\r\n  );\r\n};","import React, { useEffect } from 'react';\r\nimport './App.scss';\r\nimport { createBrowserHistory } from 'history';\r\nimport { Router } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport audioNotification from '../src/assets/sound/sp-tune.mp3'\r\n\r\nimport SocketService from './services/SocketService'\r\nimport { StorageService } from './services/StorageService'\r\nimport { updateUser, getUser } from '../src/actions/UserActions';\r\nimport { saveRoom, loadRoomById } from '../src/actions/RoomActions';\r\n\r\nimport RoutePage from './RoutePage'\r\nimport NavBar from './cmps/NavBar';\r\n\r\n\r\nconst history = createBrowserHistory();\r\n\r\nconst App = (props) => {\r\n  const loggedinUser = props.user;\r\n  const room = props.room\r\n\r\n  const connectSockets = (id) => {\r\n    // getUser()\r\n    SocketService.setup()\r\n\r\n    if (room && loggedinUser) {\r\n      SocketService.on(`updateRoom ${room._id}`, async ({ updatedRoom, userId }) => {\r\n        console.log('&&&&&UPDATE ROOM INVOKED');\r\n        if (userId !== loggedinUser._id) {\r\n          console.log('&&&&&after condition updatedRoom._id');\r\n          props.loadRoomById({ roomId: updatedRoom._id })\r\n        }\r\n      });\r\n    }\r\n    if (loggedinUser) {\r\n      SocketService.on(`updateUser ${loggedinUser._id}`, (updatedUser) => {\r\n        console.log('TEST',updatedUser);\r\n        // console.log('$$UPDATED USER FROM SOCKET$$', updatedUser);\r\n        // console.log('$$USER$$:', loggedinUser.userName)\r\n        let user = StorageService.load('user')\r\n        console.log('Storage:', user.userName)\r\n        if (loggedinUser._id === user._id) updateUser(updatedUser)\r\n      });\r\n      SocketService.on(`updateUserWithoutAudio ${loggedinUser._id}`, ( updatedUser ) => { props.updateUser(updatedUser) })\r\n    }\r\n  }\r\n\r\n  const disconnectSockets = () => {\r\n    if (room) SocketService.off(`updateRoom ${room._id}`)\r\n    SocketService.off(`updateUser ${loggedinUser._id}`)\r\n    SocketService.off(`updateUserWithoutAudio ${loggedinUser._id}`)\r\n  }\r\n\r\n  const updateUser = (updatedUser) => {\r\n    let audio = new Audio(audioNotification);\r\n    if (updatedUser) {\r\n      props.updateUser(updatedUser)\r\n      audio.play()\r\n    } else {\r\n      console.log(\"ERROR IN UPDATE USER\");\r\n    }\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    connectSockets()\r\n    if (loggedinUser) console.log('connect user sockets', loggedinUser._id);\r\n    if (room) console.log('connect room sockets', room._id);\r\n    return () => {\r\n      if (loggedinUser) {\r\n        console.log('disconnecet user sockets', loggedinUser._id);\r\n        if (room) console.log('disconnecet room sockets', room._id);\r\n        disconnectSockets()\r\n        SocketService.terminate()\r\n      }\r\n    };\r\n  }, [loggedinUser, room]);\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router history={history}>\r\n        <NavBar user={props.user} />\r\n        <RoutePage onConnectSocket={connectSockets} />\r\n      </Router>\r\n    </div>\r\n  );\r\n  \r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.loggedinUser,\r\n    contacts: state.contact.contacts,\r\n    room: state.room.currRoom\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  updateUser,\r\n  saveRoom,\r\n  loadRoomById,\r\n  getUser\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const initialState = {\r\n    loggedinUser: null\r\n}\r\n\r\n\r\nexport default function UserReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            console.log(action.user);\r\n            if (!action.user) return { ...state, loggedinUser: action.user }\r\n            else return { ...state, loggedinUser: { ...action.user } }\r\n        case 'GET_USER':\r\n            return { ...state, loggedinUser: action.user }\r\n        default:\r\n            return state;\r\n    }\r\n};","const initialState = {\r\n    contacts: [],\r\n    currContact: null\r\n}\r\n\r\n\r\nexport default function ContactReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_CONTACTS':            \r\n            return { ...state, contacts: action.contacts }\r\n        case 'SET_CURR_CONTACT':\r\n            return { ...state, currContact: action.contact }\r\n        case 'UPDATE_CONTACT':\r\n            return {\r\n                ...state,\r\n                contacts: state.contacts.map(contact => {\r\n                    if (contact._id === action.contact._id) return action.contact;\r\n                    return contact;\r\n                })\r\n            }\r\n        case 'DELETE_CONTACT':\r\n            return {\r\n                ...state,\r\n                contacts: state.contacts.filter(contact => {\r\n                    return contact._id !== action.id\r\n                })\r\n            }\r\n        case 'ADD_CONTACT':\r\n            return {\r\n                ...state,\r\n                contacts: [...state.contacts, action.contact]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};","const initialState = {\r\n    rooms: [],\r\n    currRoom: null\r\n}\r\n\r\n\r\nexport default function RoomReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_ROOMS':\r\n            return { ...state, rooms: action.rooms }\r\n        case 'SET_CURR_ROOM':\r\n            return { ...state, currRoom: action.room }\r\n        case 'UPDATE_ROOM':\r\n            console.log('UPDATE_ROOM invoked rooms:', state.rooms)\r\n            return {\r\n                ...state,\r\n                rooms: state.rooms.map(room => {\r\n                    if (room._id === action.room._id) {\r\n                        //after problems fixed return it to one line term\r\n                        console.log('id match!');\r\n                        \r\n                        return action.room;\r\n                    }\r\n                    return room;\r\n                })\r\n            }\r\n        case 'DELETE_ROOM':\r\n            return {\r\n                ...state,\r\n                rooms: state.rooms.filter(room => {\r\n                    return room._id !== action.id\r\n                })\r\n            }\r\n        case 'ADD_ROOM':\r\n            console.log('UPDATE_ROOM ', action.room);\r\n            return {\r\n                ...state,\r\n                rooms: [...state.rooms, action.room]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport UserReducer from './reducers/UserReducer';\r\nimport ContactReducer from './reducers/ContactReducer';\r\nimport RoomReducer from './reducers/RoomReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    user: UserReducer,\r\n    contact: ContactReducer,\r\n    room: RoomReducer\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\n\r\n\r\nexport default store\r\n\r\n\r\n//*********STOREEEEE****************\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.scss';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\nimport 'bootstrap-css-only/css/bootstrap.min.css';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport App from './App.jsx'\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","module.exports = __webpack_public_path__ + \"static/media/plus.867418af.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.c79dce59.png\";","module.exports = __webpack_public_path__ + \"static/media/x-mark.002e9675.svg\";"],"sourceRoot":""}